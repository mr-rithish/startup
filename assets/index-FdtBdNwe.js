function DE(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function L_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jh={exports:{}},Ka={},Uh={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function LE(){if(Qg)return ke;Qg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,j={};function M(U,K,ge){this.props=U,this.context=K,this.refs=j,this.updater=ge||b}M.prototype.isReactComponent={},M.prototype.setState=function(U,K){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,K,"setState")},M.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function z(){}z.prototype=M.prototype;function G(U,K,ge){this.props=U,this.context=K,this.refs=j,this.updater=ge||b}var ee=G.prototype=new z;ee.constructor=G,D(ee,M.prototype),ee.isPureReactComponent=!0;var ie=Array.isArray,me=Object.prototype.hasOwnProperty,ue={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function x(U,K,ge){var Ae,Ce={},Ve=null,ze=null;if(K!=null)for(Ae in K.ref!==void 0&&(ze=K.ref),K.key!==void 0&&(Ve=""+K.key),K)me.call(K,Ae)&&!L.hasOwnProperty(Ae)&&(Ce[Ae]=K[Ae]);var Be=arguments.length-2;if(Be===1)Ce.children=ge;else if(1<Be){for(var We=Array(Be),Tt=0;Tt<Be;Tt++)We[Tt]=arguments[Tt+2];Ce.children=We}if(U&&U.defaultProps)for(Ae in Be=U.defaultProps,Be)Ce[Ae]===void 0&&(Ce[Ae]=Be[Ae]);return{$$typeof:n,type:U,key:Ve,ref:ze,props:Ce,_owner:ue.current}}function R(U,K){return{$$typeof:n,type:U.type,key:K,ref:U.ref,props:U.props,_owner:U._owner}}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function N(U){var K={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ge){return K[ge]})}var F=/\/+/g;function k(U,K){return typeof U=="object"&&U!==null&&U.key!=null?N(""+U.key):K.toString(36)}function Pe(U,K,ge,Ae,Ce){var Ve=typeof U;(Ve==="undefined"||Ve==="boolean")&&(U=null);var ze=!1;if(U===null)ze=!0;else switch(Ve){case"string":case"number":ze=!0;break;case"object":switch(U.$$typeof){case n:case e:ze=!0}}if(ze)return ze=U,Ce=Ce(ze),U=Ae===""?"."+k(ze,0):Ae,ie(Ce)?(ge="",U!=null&&(ge=U.replace(F,"$&/")+"/"),Pe(Ce,K,ge,"",function(Tt){return Tt})):Ce!=null&&(P(Ce)&&(Ce=R(Ce,ge+(!Ce.key||ze&&ze.key===Ce.key?"":(""+Ce.key).replace(F,"$&/")+"/")+U)),K.push(Ce)),1;if(ze=0,Ae=Ae===""?".":Ae+":",ie(U))for(var Be=0;Be<U.length;Be++){Ve=U[Be];var We=Ae+k(Ve,Be);ze+=Pe(Ve,K,ge,We,Ce)}else if(We=T(U),typeof We=="function")for(U=We.call(U),Be=0;!(Ve=U.next()).done;)Ve=Ve.value,We=Ae+k(Ve,Be++),ze+=Pe(Ve,K,ge,We,Ce);else if(Ve==="object")throw K=String(U),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return ze}function st(U,K,ge){if(U==null)return U;var Ae=[],Ce=0;return Pe(U,Ae,"","",function(Ve){return K.call(ge,Ve,Ce++)}),Ae}function Te(U){if(U._status===-1){var K=U._result;K=K(),K.then(function(ge){(U._status===0||U._status===-1)&&(U._status=1,U._result=ge)},function(ge){(U._status===0||U._status===-1)&&(U._status=2,U._result=ge)}),U._status===-1&&(U._status=0,U._result=K)}if(U._status===1)return U._result.default;throw U._result}var Re={current:null},ne={transition:null},pe={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:ne,ReactCurrentOwner:ue};function se(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:st,forEach:function(U,K,ge){st(U,function(){K.apply(this,arguments)},ge)},count:function(U){var K=0;return st(U,function(){K++}),K},toArray:function(U){return st(U,function(K){return K})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},ke.Component=M,ke.Fragment=t,ke.Profiler=o,ke.PureComponent=G,ke.StrictMode=i,ke.Suspense=p,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,ke.act=se,ke.cloneElement=function(U,K,ge){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ae=D({},U.props),Ce=U.key,Ve=U.ref,ze=U._owner;if(K!=null){if(K.ref!==void 0&&(Ve=K.ref,ze=ue.current),K.key!==void 0&&(Ce=""+K.key),U.type&&U.type.defaultProps)var Be=U.type.defaultProps;for(We in K)me.call(K,We)&&!L.hasOwnProperty(We)&&(Ae[We]=K[We]===void 0&&Be!==void 0?Be[We]:K[We])}var We=arguments.length-2;if(We===1)Ae.children=ge;else if(1<We){Be=Array(We);for(var Tt=0;Tt<We;Tt++)Be[Tt]=arguments[Tt+2];Ae.children=Be}return{$$typeof:n,type:U.type,key:Ce,ref:Ve,props:Ae,_owner:ze}},ke.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:l,_context:U},U.Consumer=U},ke.createElement=x,ke.createFactory=function(U){var K=x.bind(null,U);return K.type=U,K},ke.createRef=function(){return{current:null}},ke.forwardRef=function(U){return{$$typeof:h,render:U}},ke.isValidElement=P,ke.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:Te}},ke.memo=function(U,K){return{$$typeof:y,type:U,compare:K===void 0?null:K}},ke.startTransition=function(U){var K=ne.transition;ne.transition={};try{U()}finally{ne.transition=K}},ke.unstable_act=se,ke.useCallback=function(U,K){return Re.current.useCallback(U,K)},ke.useContext=function(U){return Re.current.useContext(U)},ke.useDebugValue=function(){},ke.useDeferredValue=function(U){return Re.current.useDeferredValue(U)},ke.useEffect=function(U,K){return Re.current.useEffect(U,K)},ke.useId=function(){return Re.current.useId()},ke.useImperativeHandle=function(U,K,ge){return Re.current.useImperativeHandle(U,K,ge)},ke.useInsertionEffect=function(U,K){return Re.current.useInsertionEffect(U,K)},ke.useLayoutEffect=function(U,K){return Re.current.useLayoutEffect(U,K)},ke.useMemo=function(U,K){return Re.current.useMemo(U,K)},ke.useReducer=function(U,K,ge){return Re.current.useReducer(U,K,ge)},ke.useRef=function(U){return Re.current.useRef(U)},ke.useState=function(U){return Re.current.useState(U)},ke.useSyncExternalStore=function(U,K,ge){return Re.current.useSyncExternalStore(U,K,ge)},ke.useTransition=function(){return Re.current.useTransition()},ke.version="18.3.1",ke}var Xg;function Ff(){return Xg||(Xg=1,Uh.exports=LE()),Uh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function OE(){if(Yg)return Ka;Yg=1;var n=Ff(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,y){var v,E={},T=null,b=null;y!==void 0&&(T=""+y),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(b=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(E[v]=p[v]);if(h&&h.defaultProps)for(v in p=h.defaultProps,p)E[v]===void 0&&(E[v]=p[v]);return{$$typeof:e,type:h,key:T,ref:b,props:E,_owner:o.current}}return Ka.Fragment=t,Ka.jsx=c,Ka.jsxs=c,Ka}var Jg;function VE(){return Jg||(Jg=1,jh.exports=OE()),jh.exports}var S=VE(),C=Ff();const et=L_(C),Zg=DE({__proto__:null,default:et},[C]);var Qu={},zh={exports:{}},nn={},Bh={exports:{}},$h={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function ME(){return ey||(ey=1,function(n){function e(ne,pe){var se=ne.length;ne.push(pe);e:for(;0<se;){var U=se-1>>>1,K=ne[U];if(0<o(K,pe))ne[U]=pe,ne[se]=K,se=U;else break e}}function t(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var pe=ne[0],se=ne.pop();if(se!==pe){ne[0]=se;e:for(var U=0,K=ne.length,ge=K>>>1;U<ge;){var Ae=2*(U+1)-1,Ce=ne[Ae],Ve=Ae+1,ze=ne[Ve];if(0>o(Ce,se))Ve<K&&0>o(ze,Ce)?(ne[U]=ze,ne[Ve]=se,U=Ve):(ne[U]=Ce,ne[Ae]=se,U=Ae);else if(Ve<K&&0>o(ze,se))ne[U]=ze,ne[Ve]=se,U=Ve;else break e}}return pe}function o(ne,pe){var se=ne.sortIndex-pe.sortIndex;return se!==0?se:ne.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],y=[],v=1,E=null,T=3,b=!1,D=!1,j=!1,M=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(ne){for(var pe=t(y);pe!==null;){if(pe.callback===null)i(y);else if(pe.startTime<=ne)i(y),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(y)}}function ie(ne){if(j=!1,ee(ne),!D)if(t(p)!==null)D=!0,Te(me);else{var pe=t(y);pe!==null&&Re(ie,pe.startTime-ne)}}function me(ne,pe){D=!1,j&&(j=!1,z(x),x=-1),b=!0;var se=T;try{for(ee(pe),E=t(p);E!==null&&(!(E.expirationTime>pe)||ne&&!N());){var U=E.callback;if(typeof U=="function"){E.callback=null,T=E.priorityLevel;var K=U(E.expirationTime<=pe);pe=n.unstable_now(),typeof K=="function"?E.callback=K:E===t(p)&&i(p),ee(pe)}else i(p);E=t(p)}if(E!==null)var ge=!0;else{var Ae=t(y);Ae!==null&&Re(ie,Ae.startTime-pe),ge=!1}return ge}finally{E=null,T=se,b=!1}}var ue=!1,L=null,x=-1,R=5,P=-1;function N(){return!(n.unstable_now()-P<R)}function F(){if(L!==null){var ne=n.unstable_now();P=ne;var pe=!0;try{pe=L(!0,ne)}finally{pe?k():(ue=!1,L=null)}}else ue=!1}var k;if(typeof G=="function")k=function(){G(F)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,st=Pe.port2;Pe.port1.onmessage=F,k=function(){st.postMessage(null)}}else k=function(){M(F,0)};function Te(ne){L=ne,ue||(ue=!0,k())}function Re(ne,pe){x=M(function(){ne(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){D||b||(D=!0,Te(me))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ne){switch(T){case 1:case 2:case 3:var pe=3;break;default:pe=T}var se=T;T=pe;try{return ne()}finally{T=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var se=T;T=ne;try{return pe()}finally{T=se}},n.unstable_scheduleCallback=function(ne,pe,se){var U=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?U+se:U):se=U,ne){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=se+K,ne={id:v++,callback:pe,priorityLevel:ne,startTime:se,expirationTime:K,sortIndex:-1},se>U?(ne.sortIndex=se,e(y,ne),t(p)===null&&ne===t(y)&&(j?(z(x),x=-1):j=!0,Re(ie,se-U))):(ne.sortIndex=K,e(p,ne),D||b||(D=!0,Te(me))),ne},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(ne){var pe=T;return function(){var se=T;T=pe;try{return ne.apply(this,arguments)}finally{T=se}}}}($h)),$h}var ty;function FE(){return ty||(ty=1,Bh.exports=ME()),Bh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function jE(){if(ny)return nn;ny=1;var n=Ff(),e=FE();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function T(r){return p.call(E,r)?!0:p.call(v,r)?!1:y.test(r)?E[r]=!0:(v[r]=!0,!1)}function b(r,s,a,d){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function D(r,s,a,d){if(s===null||typeof s>"u"||b(r,s,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(r,s,a,d,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){M[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];M[s]=new j(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){M[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){M[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){M[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){M[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){M[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){M[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){M[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function G(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(z,G);M[s]=new j(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(z,G);M[s]=new j(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(z,G);M[s]=new j(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){M[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),M.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){M[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function ee(r,s,a,d){var f=M.hasOwnProperty(s)?M[s]:null;(f!==null?f.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D(s,a,f,d)&&(a=null),d||f===null?T(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,d=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,d?r.setAttributeNS(d,s,a):r.setAttribute(s,a))))}var ie=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,me=Symbol.for("react.element"),ue=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),N=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),ne=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=ne&&r[ne]||r["@@iterator"],typeof r=="function"?r:null)}var se=Object.assign,U;function K(r){if(U===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+r}var ge=!1;function Ae(r,s){if(!r||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var d=H}Reflect.construct(r,[],s)}else{try{s.call()}catch(H){d=H}r.call(s.prototype)}else{try{throw Error()}catch(H){d=H}r()}}catch(H){if(H&&d&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),g=d.stack.split(`
`),w=f.length-1,A=g.length-1;1<=w&&0<=A&&f[w]!==g[A];)A--;for(;1<=w&&0<=A;w--,A--)if(f[w]!==g[A]){if(w!==1||A!==1)do if(w--,A--,0>A||f[w]!==g[A]){var O=`
`+f[w].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=w&&0<=A);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?K(r):""}function Ce(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=Ae(r.type,!1),r;case 11:return r=Ae(r.type.render,!1),r;case 1:return r=Ae(r.type,!0),r;default:return""}}function Ve(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case L:return"Fragment";case ue:return"Portal";case R:return"Profiler";case x:return"StrictMode";case k:return"Suspense";case Pe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case P:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case st:return s=r.displayName||null,s!==null?s:Ve(r.type)||"Memo";case Te:s=r._payload,r=r._init;try{return Ve(r(s))}catch{}}return null}function ze(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(s);case 8:return s===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Be(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function We(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(r){var s=We(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){d=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function cr(r){r._valueTracker||(r._valueTracker=Tt(r))}function As(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),d="";return r&&(d=We(r)?r.checked?"true":"false":r.value),r=d,r!==a?(s.setValue(r),!0):!1}function qr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Fi(r,s){var a=s.checked;return se({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Cs(r,s){var a=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;a=Be(s.value!=null?s.value:a),r._wrapperState={initialChecked:d,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ea(r,s){s=s.checked,s!=null&&ee(r,"checked",s,!1)}function ta(r,s){ea(r,s);var a=Be(s.value),d=s.type;if(a!=null)d==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ks(r,s.type,a):s.hasOwnProperty("defaultValue")&&ks(r,s.type,Be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ll(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function ks(r,s,a){(s!=="number"||qr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var dr=Array.isArray;function hr(r,s,a,d){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&d&&(r[a].defaultSelected=!0)}else{for(a=""+Be(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,d&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function na(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ps(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(dr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Be(a)}}function Ns(r,s){var a=Be(s.value),d=Be(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),d!=null&&(r.defaultValue=""+d)}function ra(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function mt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?mt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var fr,ia=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,d,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,d,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(fr=fr||document.createElement("div"),fr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=fr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Hr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ui=["Webkit","ms","Moz","O"];Object.keys(ji).forEach(function(r){Ui.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ji[s]=ji[r]})});function sa(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||ji.hasOwnProperty(r)&&ji[r]?(""+s).trim():s+"px"}function oa(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var d=a.indexOf("--")===0,f=sa(a,s[a],d);a==="float"&&(a="cssFloat"),d?r.setProperty(a,f):r[a]=f}}var aa=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function la(r,s){if(s){if(aa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ua(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zi=null;function bs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ds=null,pn=null,Bn=null;function Ls(r){if(r=Da(r)){if(typeof Ds!="function")throw Error(t(280));var s=r.stateNode;s&&(s=cu(s),Ds(r.stateNode,r.type,s))}}function $n(r){pn?Bn?Bn.push(r):Bn=[r]:pn=r}function ca(){if(pn){var r=pn,s=Bn;if(Bn=pn=null,Ls(r),s)for(r=0;r<s.length;r++)Ls(s[r])}}function Bi(r,s){return r(s)}function da(){}var pr=!1;function ha(r,s,a){if(pr)return r(s,a);pr=!0;try{return Bi(r,s,a)}finally{pr=!1,(pn!==null||Bn!==null)&&(da(),ca())}}function at(r,s){var a=r.stateNode;if(a===null)return null;var d=cu(a);if(d===null)return null;a=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Os=!1;if(h)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){Os=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{Os=!1}function $i(r,s,a,d,f,g,w,A,O){var H=Array.prototype.slice.call(arguments,3);try{s.apply(a,H)}catch(J){this.onError(J)}}var qi=!1,Vs=null,Rn=!1,fa=null,fd={onError:function(r){qi=!0,Vs=r}};function Ms(r,s,a,d,f,g,w,A,O){qi=!1,Vs=null,$i.apply(fd,arguments)}function Ol(r,s,a,d,f,g,w,A,O){if(Ms.apply(this,arguments),qi){if(qi){var H=Vs;qi=!1,Vs=null}else throw Error(t(198));Rn||(Rn=!0,fa=H)}}function An(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Hi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Cn(r){if(An(r)!==r)throw Error(t(188))}function Vl(r){var s=r.alternate;if(!s){if(s=An(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,d=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(d=f.return,d!==null){a=d;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Cn(f),r;if(g===d)return Cn(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==d.return)a=f,d=g;else{for(var w=!1,A=f.child;A;){if(A===a){w=!0,a=f,d=g;break}if(A===d){w=!0,d=f,a=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===a){w=!0,a=g,d=f;break}if(A===d){w=!0,d=g,a=f;break}A=A.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==d)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function pa(r){return r=Vl(r),r!==null?Fs(r):null}function Fs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Fs(r);if(s!==null)return s;r=r.sibling}return null}var js=e.unstable_scheduleCallback,ma=e.unstable_cancelCallback,Ml=e.unstable_shouldYield,pd=e.unstable_requestPaint,Ge=e.unstable_now,Fl=e.unstable_getCurrentPriorityLevel,Wi=e.unstable_ImmediatePriority,Wr=e.unstable_UserBlockingPriority,mn=e.unstable_NormalPriority,ga=e.unstable_LowPriority,jl=e.unstable_IdlePriority,Gi=null,on=null;function Ul(r){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Gi,r,void 0,(r.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Bl,ya=Math.log,zl=Math.LN2;function Bl(r){return r>>>=0,r===0?32:31-(ya(r)/zl|0)|0}var Us=64,zs=4194304;function Gr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ki(r,s){var a=r.pendingLanes;if(a===0)return 0;var d=0,f=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var A=w&~f;A!==0?d=Gr(A):(g&=w,g!==0&&(d=Gr(g)))}else w=a&~f,w!==0?d=Gr(w):g!==0&&(d=Gr(g));if(d===0)return 0;if(s!==0&&s!==d&&!(s&f)&&(f=d&-d,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(d&4&&(d|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)a=31-qt(s),f=1<<a,d|=r[a],s&=~f;return d}function md(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(r,s){for(var a=r.suspendedLanes,d=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-qt(g),A=1<<w,O=f[w];O===-1?(!(A&a)||A&d)&&(f[w]=md(A,s)):O<=s&&(r.expiredLanes|=A),g&=~A}}function an(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Qi(){var r=Us;return Us<<=1,!(Us&4194240)&&(Us=64),r}function Kr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Qr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-qt(s),r[s]=a}function He(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-qt(a),g=1<<f;s[f]=0,d[f]=-1,r[f]=-1,a&=~g}}function Xr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var d=31-qt(a),f=1<<d;f&s|r[d]&s&&(r[d]|=s),a&=~f}}var Le=0;function Yr(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var $l,Bs,ql,Hl,Wl,_a=!1,qn=[],Ct=null,kn=null,Pn=null,Jr=new Map,gn=new Map,Hn=[],gd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gl(r,s){switch(r){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Jr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gn.delete(s.pointerId)}}function Qt(r,s,a,d,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:d,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Da(s),s!==null&&Bs(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function yd(r,s,a,d,f){switch(s){case"focusin":return Ct=Qt(Ct,r,s,a,d,f),!0;case"dragenter":return kn=Qt(kn,r,s,a,d,f),!0;case"mouseover":return Pn=Qt(Pn,r,s,a,d,f),!0;case"pointerover":var g=f.pointerId;return Jr.set(g,Qt(Jr.get(g)||null,r,s,a,d,f)),!0;case"gotpointercapture":return g=f.pointerId,gn.set(g,Qt(gn.get(g)||null,r,s,a,d,f)),!0}return!1}function Kl(r){var s=es(r.target);if(s!==null){var a=An(s);if(a!==null){if(s=a.tag,s===13){if(s=Hi(a),s!==null){r.blockedOn=s,Wl(r.priority,function(){ql(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function gr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=$s(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var d=new a.constructor(a.type,a);zi=d,a.target.dispatchEvent(d),zi=null}else return s=Da(a),s!==null&&Bs(s),r.blockedOn=a,!1;s.shift()}return!0}function Xi(r,s,a){gr(r)&&a.delete(s)}function Ql(){_a=!1,Ct!==null&&gr(Ct)&&(Ct=null),kn!==null&&gr(kn)&&(kn=null),Pn!==null&&gr(Pn)&&(Pn=null),Jr.forEach(Xi),gn.forEach(Xi)}function Nn(r,s){r.blockedOn===s&&(r.blockedOn=null,_a||(_a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ql)))}function bn(r){function s(f){return Nn(f,r)}if(0<qn.length){Nn(qn[0],r);for(var a=1;a<qn.length;a++){var d=qn[a];d.blockedOn===r&&(d.blockedOn=null)}}for(Ct!==null&&Nn(Ct,r),kn!==null&&Nn(kn,r),Pn!==null&&Nn(Pn,r),Jr.forEach(s),gn.forEach(s),a=0;a<Hn.length;a++)d=Hn[a],d.blockedOn===r&&(d.blockedOn=null);for(;0<Hn.length&&(a=Hn[0],a.blockedOn===null);)Kl(a),a.blockedOn===null&&Hn.shift()}var yr=ie.ReactCurrentBatchConfig,Zr=!0;function Je(r,s,a,d){var f=Le,g=yr.transition;yr.transition=null;try{Le=1,va(r,s,a,d)}finally{Le=f,yr.transition=g}}function _d(r,s,a,d){var f=Le,g=yr.transition;yr.transition=null;try{Le=4,va(r,s,a,d)}finally{Le=f,yr.transition=g}}function va(r,s,a,d){if(Zr){var f=$s(r,s,a,d);if(f===null)kd(r,s,d,Yi,a),Gl(r,d);else if(yd(f,r,s,a,d))d.stopPropagation();else if(Gl(r,d),s&4&&-1<gd.indexOf(r)){for(;f!==null;){var g=Da(f);if(g!==null&&$l(g),g=$s(r,s,a,d),g===null&&kd(r,s,d,Yi,a),g===f)break;f=g}f!==null&&d.stopPropagation()}else kd(r,s,d,null,a)}}var Yi=null;function $s(r,s,a,d){if(Yi=null,r=bs(d),r=es(r),r!==null)if(s=An(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Hi(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Yi=r,null}function wa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fl()){case Wi:return 1;case Wr:return 4;case mn:case ga:return 16;case jl:return 536870912;default:return 16}default:return 16}}var ln=null,qs=null,Xt=null;function Ea(){if(Xt)return Xt;var r,s=qs,a=s.length,d,f="value"in ln?ln.value:ln.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var w=a-r;for(d=1;d<=w&&s[a-d]===f[g-d];d++);return Xt=f.slice(r,1<d?1-d:void 0)}function Hs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Wn(){return!0}function Ta(){return!1}function kt(r){function s(a,d,f,g,w){this._reactName=a,this._targetInst=f,this.type=d,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(a=r[A],this[A]=a?a(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Wn:Ta,this.isPropagationStopped=Ta,this}return se(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),s}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=kt(Dn),Gn=se({},Dn,{view:0,detail:0}),vd=kt(Gn),Gs,_r,ei,Ji=se({},Gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ei&&(ei&&r.type==="mousemove"?(Gs=r.screenX-ei.screenX,_r=r.screenY-ei.screenY):_r=Gs=0,ei=r),Gs)},movementY:function(r){return"movementY"in r?r.movementY:_r}}),Ks=kt(Ji),Ia=se({},Ji,{dataTransfer:0}),Xl=kt(Ia),Qs=se({},Gn,{relatedTarget:0}),Xs=kt(Qs),Yl=se({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),vr=kt(Yl),Jl=se({},Dn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Zl=kt(Jl),eu=se({},Dn,{data:0}),Sa=kt(eu),Ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=tu[r])?!!s[r]:!1}function Kn(){return nu}var u=se({},Gn,{key:function(r){if(r.key){var s=Ys[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Hs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ht[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kn,charCode:function(r){return r.type==="keypress"?Hs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Hs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=kt(u),_=se({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=kt(_),B=se({},Gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kn}),W=kt(B),re=se({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=kt(re),yt=se({},Ji,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=kt(yt),It=[9,13,27,32],dt=h&&"CompositionEvent"in window,yn=null;h&&"documentMode"in document&&(yn=document.documentMode);var un=h&&"TextEvent"in window&&!yn,Zi=h&&(!dt||yn&&8<yn&&11>=yn),Js=" ",$p=!1;function qp(r,s){switch(r){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Zs=!1;function Nw(r,s){switch(r){case"compositionend":return Hp(s);case"keypress":return s.which!==32?null:($p=!0,Js);case"textInput":return r=s.data,r===Js&&$p?null:r;default:return null}}function bw(r,s){if(Zs)return r==="compositionend"||!dt&&qp(r,s)?(r=Ea(),Xt=qs=ln=null,Zs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Zi&&s.locale!=="ko"?null:s.data;default:return null}}var Dw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Dw[r.type]:s==="textarea"}function Gp(r,s,a,d){$n(d),s=au(s,"onChange"),0<s.length&&(a=new Ws("onChange","change",null,a,d),r.push({event:a,listeners:s}))}var xa=null,Ra=null;function Lw(r){dm(r,0)}function ru(r){var s=io(r);if(As(s))return r}function Ow(r,s){if(r==="change")return s}var Kp=!1;if(h){var wd;if(h){var Ed="oninput"in document;if(!Ed){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),Ed=typeof Qp.oninput=="function"}wd=Ed}else wd=!1;Kp=wd&&(!document.documentMode||9<document.documentMode)}function Xp(){xa&&(xa.detachEvent("onpropertychange",Yp),Ra=xa=null)}function Yp(r){if(r.propertyName==="value"&&ru(Ra)){var s=[];Gp(s,Ra,r,bs(r)),ha(Lw,s)}}function Vw(r,s,a){r==="focusin"?(Xp(),xa=s,Ra=a,xa.attachEvent("onpropertychange",Yp)):r==="focusout"&&Xp()}function Mw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ru(Ra)}function Fw(r,s){if(r==="click")return ru(s)}function jw(r,s){if(r==="input"||r==="change")return ru(s)}function Uw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ln=typeof Object.is=="function"?Object.is:Uw;function Aa(r,s){if(Ln(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),d=Object.keys(s);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var f=a[d];if(!p.call(s,f)||!Ln(r[f],s[f]))return!1}return!0}function Jp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Zp(r,s){var a=Jp(r);r=0;for(var d;a;){if(a.nodeType===3){if(d=r+a.textContent.length,r<=s&&d>=s)return{node:a,offset:s-r};r=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jp(a)}}function em(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?em(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function tm(){for(var r=window,s=qr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=qr(r.document)}return s}function Td(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function zw(r){var s=tm(),a=r.focusedElem,d=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&em(a.ownerDocument.documentElement,a)){if(d!==null&&Td(a)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(d.start,f);d=d.end===void 0?g:Math.min(d.end,f),!r.extend&&g>d&&(f=d,d=g,g=f),f=Zp(a,g);var w=Zp(a,d);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>d?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Bw=h&&"documentMode"in document&&11>=document.documentMode,eo=null,Id=null,Ca=null,Sd=!1;function nm(r,s,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sd||eo==null||eo!==qr(d)||(d=eo,"selectionStart"in d&&Td(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ca&&Aa(Ca,d)||(Ca=d,d=au(Id,"onSelect"),0<d.length&&(s=new Ws("onSelect","select",null,s,a),r.push({event:s,listeners:d}),s.target=eo)))}function iu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var to={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},xd={},rm={};h&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function su(r){if(xd[r])return xd[r];if(!to[r])return r;var s=to[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in rm)return xd[r]=s[a];return r}var im=su("animationend"),sm=su("animationiteration"),om=su("animationstart"),am=su("transitionend"),lm=new Map,um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(r,s){lm.set(r,s),l(s,[r])}for(var Rd=0;Rd<um.length;Rd++){var Ad=um[Rd],$w=Ad.toLowerCase(),qw=Ad[0].toUpperCase()+Ad.slice(1);ti($w,"on"+qw)}ti(im,"onAnimationEnd"),ti(sm,"onAnimationIteration"),ti(om,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(am,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ka));function cm(r,s,a){var d=r.type||"unknown-event";r.currentTarget=a,Ol(d,s,void 0,r),r.currentTarget=null}function dm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var d=r[a],f=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var w=d.length-1;0<=w;w--){var A=d[w],O=A.instance,H=A.currentTarget;if(A=A.listener,O!==g&&f.isPropagationStopped())break e;cm(f,A,H),g=O}else for(w=0;w<d.length;w++){if(A=d[w],O=A.instance,H=A.currentTarget,A=A.listener,O!==g&&f.isPropagationStopped())break e;cm(f,A,H),g=O}}}if(Rn)throw r=fa,Rn=!1,fa=null,r}function Qe(r,s){var a=s[Od];a===void 0&&(a=s[Od]=new Set);var d=r+"__bubble";a.has(d)||(hm(s,r,2,!1),a.add(d))}function Cd(r,s,a){var d=0;s&&(d|=4),hm(a,r,d,s)}var ou="_reactListening"+Math.random().toString(36).slice(2);function Pa(r){if(!r[ou]){r[ou]=!0,i.forEach(function(a){a!=="selectionchange"&&(Hw.has(a)||Cd(a,!1,r),Cd(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ou]||(s[ou]=!0,Cd("selectionchange",!1,s))}}function hm(r,s,a,d){switch(wa(s)){case 1:var f=Je;break;case 4:f=_d;break;default:f=va}a=f.bind(null,s,a,r),f=void 0,!Os||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),d?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function kd(r,s,a,d,f){var g=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var A=d.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(w===4)for(w=d.return;w!==null;){var O=w.tag;if((O===3||O===4)&&(O=w.stateNode.containerInfo,O===f||O.nodeType===8&&O.parentNode===f))return;w=w.return}for(;A!==null;){if(w=es(A),w===null)return;if(O=w.tag,O===5||O===6){d=g=w;continue e}A=A.parentNode}}d=d.return}ha(function(){var H=g,J=bs(a),Z=[];e:{var Y=lm.get(r);if(Y!==void 0){var oe=Ws,de=r;switch(r){case"keypress":if(Hs(a)===0)break e;case"keydown":case"keyup":oe=m;break;case"focusin":de="focus",oe=Xs;break;case"focusout":de="blur",oe=Xs;break;case"beforeblur":case"afterblur":oe=Xs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Ks;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Xl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=W;break;case im:case sm:case om:oe=vr;break;case am:oe=qe;break;case"scroll":oe=vd;break;case"wheel":oe=Me;break;case"copy":case"cut":case"paste":oe=Zl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=I}var he=(s&4)!==0,lt=!he&&r==="scroll",$=he?Y!==null?Y+"Capture":null:Y;he=[];for(var V=H,q;V!==null;){q=V;var te=q.stateNode;if(q.tag===5&&te!==null&&(q=te,$!==null&&(te=at(V,$),te!=null&&he.push(Na(V,te,q)))),lt)break;V=V.return}0<he.length&&(Y=new oe(Y,de,null,a,J),Z.push({event:Y,listeners:he}))}}if(!(s&7)){e:{if(Y=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",Y&&a!==zi&&(de=a.relatedTarget||a.fromElement)&&(es(de)||de[wr]))break e;if((oe||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,oe?(de=a.relatedTarget||a.toElement,oe=H,de=de?es(de):null,de!==null&&(lt=An(de),de!==lt||de.tag!==5&&de.tag!==6)&&(de=null)):(oe=null,de=H),oe!==de)){if(he=Ks,te="onMouseLeave",$="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(he=I,te="onPointerLeave",$="onPointerEnter",V="pointer"),lt=oe==null?Y:io(oe),q=de==null?Y:io(de),Y=new he(te,V+"leave",oe,a,J),Y.target=lt,Y.relatedTarget=q,te=null,es(J)===H&&(he=new he($,V+"enter",de,a,J),he.target=q,he.relatedTarget=lt,te=he),lt=te,oe&&de)t:{for(he=oe,$=de,V=0,q=he;q;q=no(q))V++;for(q=0,te=$;te;te=no(te))q++;for(;0<V-q;)he=no(he),V--;for(;0<q-V;)$=no($),q--;for(;V--;){if(he===$||$!==null&&he===$.alternate)break t;he=no(he),$=no($)}he=null}else he=null;oe!==null&&fm(Z,Y,oe,he,!1),de!==null&&lt!==null&&fm(Z,lt,de,he,!0)}}e:{if(Y=H?io(H):window,oe=Y.nodeName&&Y.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Y.type==="file")var fe=Ow;else if(Wp(Y))if(Kp)fe=jw;else{fe=Mw;var _e=Vw}else(oe=Y.nodeName)&&oe.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(fe=Fw);if(fe&&(fe=fe(r,H))){Gp(Z,fe,a,J);break e}_e&&_e(r,Y,H),r==="focusout"&&(_e=Y._wrapperState)&&_e.controlled&&Y.type==="number"&&ks(Y,"number",Y.value)}switch(_e=H?io(H):window,r){case"focusin":(Wp(_e)||_e.contentEditable==="true")&&(eo=_e,Id=H,Ca=null);break;case"focusout":Ca=Id=eo=null;break;case"mousedown":Sd=!0;break;case"contextmenu":case"mouseup":case"dragend":Sd=!1,nm(Z,a,J);break;case"selectionchange":if(Bw)break;case"keydown":case"keyup":nm(Z,a,J)}var ve;if(dt)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Zs?qp(r,a)&&(we="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Zi&&a.locale!=="ko"&&(Zs||we!=="onCompositionStart"?we==="onCompositionEnd"&&Zs&&(ve=Ea()):(ln=J,qs="value"in ln?ln.value:ln.textContent,Zs=!0)),_e=au(H,we),0<_e.length&&(we=new Sa(we,r,null,a,J),Z.push({event:we,listeners:_e}),ve?we.data=ve:(ve=Hp(a),ve!==null&&(we.data=ve)))),(ve=un?Nw(r,a):bw(r,a))&&(H=au(H,"onBeforeInput"),0<H.length&&(J=new Sa("onBeforeInput","beforeinput",null,a,J),Z.push({event:J,listeners:H}),J.data=ve))}dm(Z,s)})}function Na(r,s,a){return{instance:r,listener:s,currentTarget:a}}function au(r,s){for(var a=s+"Capture",d=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=at(r,a),g!=null&&d.unshift(Na(r,g,f)),g=at(r,s),g!=null&&d.push(Na(r,g,f))),r=r.return}return d}function no(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function fm(r,s,a,d,f){for(var g=s._reactName,w=[];a!==null&&a!==d;){var A=a,O=A.alternate,H=A.stateNode;if(O!==null&&O===d)break;A.tag===5&&H!==null&&(A=H,f?(O=at(a,g),O!=null&&w.unshift(Na(a,O,A))):f||(O=at(a,g),O!=null&&w.push(Na(a,O,A)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var Ww=/\r\n?/g,Gw=/\u0000|\uFFFD/g;function pm(r){return(typeof r=="string"?r:""+r).replace(Ww,`
`).replace(Gw,"")}function lu(r,s,a){if(s=pm(s),pm(r)!==s&&a)throw Error(t(425))}function uu(){}var Pd=null,Nd=null;function bd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dd=typeof setTimeout=="function"?setTimeout:void 0,Kw=typeof clearTimeout=="function"?clearTimeout:void 0,mm=typeof Promise=="function"?Promise:void 0,Qw=typeof queueMicrotask=="function"?queueMicrotask:typeof mm<"u"?function(r){return mm.resolve(null).then(r).catch(Xw)}:Dd;function Xw(r){setTimeout(function(){throw r})}function Ld(r,s){var a=s,d=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(d===0){r.removeChild(f),bn(s);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=f}while(a);bn(s)}function ni(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function gm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var ro=Math.random().toString(36).slice(2),Qn="__reactFiber$"+ro,ba="__reactProps$"+ro,wr="__reactContainer$"+ro,Od="__reactEvents$"+ro,Yw="__reactListeners$"+ro,Jw="__reactHandles$"+ro;function es(r){var s=r[Qn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[wr]||a[Qn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=gm(r);r!==null;){if(a=r[Qn])return a;r=gm(r)}return s}r=a,a=r.parentNode}return null}function Da(r){return r=r[Qn]||r[wr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function io(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function cu(r){return r[ba]||null}var Vd=[],so=-1;function ri(r){return{current:r}}function Xe(r){0>so||(r.current=Vd[so],Vd[so]=null,so--)}function Ke(r,s){so++,Vd[so]=r.current,r.current=s}var ii={},Vt=ri(ii),Yt=ri(!1),ts=ii;function oo(r,s){var a=r.type.contextTypes;if(!a)return ii;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Jt(r){return r=r.childContextTypes,r!=null}function du(){Xe(Yt),Xe(Vt)}function ym(r,s,a){if(Vt.current!==ii)throw Error(t(168));Ke(Vt,s),Ke(Yt,a)}function _m(r,s,a){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var f in d)if(!(f in s))throw Error(t(108,ze(r)||"Unknown",f));return se({},a,d)}function hu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ii,ts=Vt.current,Ke(Vt,r),Ke(Yt,Yt.current),!0}function vm(r,s,a){var d=r.stateNode;if(!d)throw Error(t(169));a?(r=_m(r,s,ts),d.__reactInternalMemoizedMergedChildContext=r,Xe(Yt),Xe(Vt),Ke(Vt,r)):Xe(Yt),Ke(Yt,a)}var Er=null,fu=!1,Md=!1;function wm(r){Er===null?Er=[r]:Er.push(r)}function Zw(r){fu=!0,wm(r)}function si(){if(!Md&&Er!==null){Md=!0;var r=0,s=Le;try{var a=Er;for(Le=1;r<a.length;r++){var d=a[r];do d=d(!0);while(d!==null)}Er=null,fu=!1}catch(f){throw Er!==null&&(Er=Er.slice(r+1)),js(Wi,si),f}finally{Le=s,Md=!1}}return null}var ao=[],lo=0,pu=null,mu=0,_n=[],vn=0,ns=null,Tr=1,Ir="";function rs(r,s){ao[lo++]=mu,ao[lo++]=pu,pu=r,mu=s}function Em(r,s,a){_n[vn++]=Tr,_n[vn++]=Ir,_n[vn++]=ns,ns=r;var d=Tr;r=Ir;var f=32-qt(d)-1;d&=~(1<<f),a+=1;var g=32-qt(s)+f;if(30<g){var w=f-f%5;g=(d&(1<<w)-1).toString(32),d>>=w,f-=w,Tr=1<<32-qt(s)+f|a<<f|d,Ir=g+r}else Tr=1<<g|a<<f|d,Ir=r}function Fd(r){r.return!==null&&(rs(r,1),Em(r,1,0))}function jd(r){for(;r===pu;)pu=ao[--lo],ao[lo]=null,mu=ao[--lo],ao[lo]=null;for(;r===ns;)ns=_n[--vn],_n[vn]=null,Ir=_n[--vn],_n[vn]=null,Tr=_n[--vn],_n[vn]=null}var cn=null,dn=null,Ze=!1,On=null;function Tm(r,s){var a=In(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Im(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,cn=r,dn=ni(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,cn=r,dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ns!==null?{id:Tr,overflow:Ir}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=In(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,cn=r,dn=null,!0):!1;default:return!1}}function Ud(r){return(r.mode&1)!==0&&(r.flags&128)===0}function zd(r){if(Ze){var s=dn;if(s){var a=s;if(!Im(r,s)){if(Ud(r))throw Error(t(418));s=ni(a.nextSibling);var d=cn;s&&Im(r,s)?Tm(d,a):(r.flags=r.flags&-4097|2,Ze=!1,cn=r)}}else{if(Ud(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ze=!1,cn=r}}}function Sm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;cn=r}function gu(r){if(r!==cn)return!1;if(!Ze)return Sm(r),Ze=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!bd(r.type,r.memoizedProps)),s&&(s=dn)){if(Ud(r))throw xm(),Error(t(418));for(;s;)Tm(r,s),s=ni(s.nextSibling)}if(Sm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){dn=ni(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}dn=null}}else dn=cn?ni(r.stateNode.nextSibling):null;return!0}function xm(){for(var r=dn;r;)r=ni(r.nextSibling)}function uo(){dn=cn=null,Ze=!1}function Bd(r){On===null?On=[r]:On.push(r)}var eE=ie.ReactCurrentBatchConfig;function La(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var d=a.stateNode}if(!d)throw Error(t(147,r));var f=d,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var A=f.refs;w===null?delete A[g]:A[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function yu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Rm(r){var s=r._init;return s(r._payload)}function Am(r){function s($,V){if(r){var q=$.deletions;q===null?($.deletions=[V],$.flags|=16):q.push(V)}}function a($,V){if(!r)return null;for(;V!==null;)s($,V),V=V.sibling;return null}function d($,V){for($=new Map;V!==null;)V.key!==null?$.set(V.key,V):$.set(V.index,V),V=V.sibling;return $}function f($,V){return $=fi($,V),$.index=0,$.sibling=null,$}function g($,V,q){return $.index=q,r?(q=$.alternate,q!==null?(q=q.index,q<V?($.flags|=2,V):q):($.flags|=2,V)):($.flags|=1048576,V)}function w($){return r&&$.alternate===null&&($.flags|=2),$}function A($,V,q,te){return V===null||V.tag!==6?(V=Dh(q,$.mode,te),V.return=$,V):(V=f(V,q),V.return=$,V)}function O($,V,q,te){var fe=q.type;return fe===L?J($,V,q.props.children,te,q.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Te&&Rm(fe)===V.type)?(te=f(V,q.props),te.ref=La($,V,q),te.return=$,te):(te=zu(q.type,q.key,q.props,null,$.mode,te),te.ref=La($,V,q),te.return=$,te)}function H($,V,q,te){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=Lh(q,$.mode,te),V.return=$,V):(V=f(V,q.children||[]),V.return=$,V)}function J($,V,q,te,fe){return V===null||V.tag!==7?(V=ds(q,$.mode,te,fe),V.return=$,V):(V=f(V,q),V.return=$,V)}function Z($,V,q){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Dh(""+V,$.mode,q),V.return=$,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case me:return q=zu(V.type,V.key,V.props,null,$.mode,q),q.ref=La($,null,V),q.return=$,q;case ue:return V=Lh(V,$.mode,q),V.return=$,V;case Te:var te=V._init;return Z($,te(V._payload),q)}if(dr(V)||pe(V))return V=ds(V,$.mode,q,null),V.return=$,V;yu($,V)}return null}function Y($,V,q,te){var fe=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return fe!==null?null:A($,V,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case me:return q.key===fe?O($,V,q,te):null;case ue:return q.key===fe?H($,V,q,te):null;case Te:return fe=q._init,Y($,V,fe(q._payload),te)}if(dr(q)||pe(q))return fe!==null?null:J($,V,q,te,null);yu($,q)}return null}function oe($,V,q,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number")return $=$.get(q)||null,A(V,$,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case me:return $=$.get(te.key===null?q:te.key)||null,O(V,$,te,fe);case ue:return $=$.get(te.key===null?q:te.key)||null,H(V,$,te,fe);case Te:var _e=te._init;return oe($,V,q,_e(te._payload),fe)}if(dr(te)||pe(te))return $=$.get(q)||null,J(V,$,te,fe,null);yu(V,te)}return null}function de($,V,q,te){for(var fe=null,_e=null,ve=V,we=V=0,Rt=null;ve!==null&&we<q.length;we++){ve.index>we?(Rt=ve,ve=null):Rt=ve.sibling;var Ue=Y($,ve,q[we],te);if(Ue===null){ve===null&&(ve=Rt);break}r&&ve&&Ue.alternate===null&&s($,ve),V=g(Ue,V,we),_e===null?fe=Ue:_e.sibling=Ue,_e=Ue,ve=Rt}if(we===q.length)return a($,ve),Ze&&rs($,we),fe;if(ve===null){for(;we<q.length;we++)ve=Z($,q[we],te),ve!==null&&(V=g(ve,V,we),_e===null?fe=ve:_e.sibling=ve,_e=ve);return Ze&&rs($,we),fe}for(ve=d($,ve);we<q.length;we++)Rt=oe(ve,$,we,q[we],te),Rt!==null&&(r&&Rt.alternate!==null&&ve.delete(Rt.key===null?we:Rt.key),V=g(Rt,V,we),_e===null?fe=Rt:_e.sibling=Rt,_e=Rt);return r&&ve.forEach(function(pi){return s($,pi)}),Ze&&rs($,we),fe}function he($,V,q,te){var fe=pe(q);if(typeof fe!="function")throw Error(t(150));if(q=fe.call(q),q==null)throw Error(t(151));for(var _e=fe=null,ve=V,we=V=0,Rt=null,Ue=q.next();ve!==null&&!Ue.done;we++,Ue=q.next()){ve.index>we?(Rt=ve,ve=null):Rt=ve.sibling;var pi=Y($,ve,Ue.value,te);if(pi===null){ve===null&&(ve=Rt);break}r&&ve&&pi.alternate===null&&s($,ve),V=g(pi,V,we),_e===null?fe=pi:_e.sibling=pi,_e=pi,ve=Rt}if(Ue.done)return a($,ve),Ze&&rs($,we),fe;if(ve===null){for(;!Ue.done;we++,Ue=q.next())Ue=Z($,Ue.value,te),Ue!==null&&(V=g(Ue,V,we),_e===null?fe=Ue:_e.sibling=Ue,_e=Ue);return Ze&&rs($,we),fe}for(ve=d($,ve);!Ue.done;we++,Ue=q.next())Ue=oe(ve,$,we,Ue.value,te),Ue!==null&&(r&&Ue.alternate!==null&&ve.delete(Ue.key===null?we:Ue.key),V=g(Ue,V,we),_e===null?fe=Ue:_e.sibling=Ue,_e=Ue);return r&&ve.forEach(function(bE){return s($,bE)}),Ze&&rs($,we),fe}function lt($,V,q,te){if(typeof q=="object"&&q!==null&&q.type===L&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case me:e:{for(var fe=q.key,_e=V;_e!==null;){if(_e.key===fe){if(fe=q.type,fe===L){if(_e.tag===7){a($,_e.sibling),V=f(_e,q.props.children),V.return=$,$=V;break e}}else if(_e.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Te&&Rm(fe)===_e.type){a($,_e.sibling),V=f(_e,q.props),V.ref=La($,_e,q),V.return=$,$=V;break e}a($,_e);break}else s($,_e);_e=_e.sibling}q.type===L?(V=ds(q.props.children,$.mode,te,q.key),V.return=$,$=V):(te=zu(q.type,q.key,q.props,null,$.mode,te),te.ref=La($,V,q),te.return=$,$=te)}return w($);case ue:e:{for(_e=q.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a($,V.sibling),V=f(V,q.children||[]),V.return=$,$=V;break e}else{a($,V);break}else s($,V);V=V.sibling}V=Lh(q,$.mode,te),V.return=$,$=V}return w($);case Te:return _e=q._init,lt($,V,_e(q._payload),te)}if(dr(q))return de($,V,q,te);if(pe(q))return he($,V,q,te);yu($,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,V!==null&&V.tag===6?(a($,V.sibling),V=f(V,q),V.return=$,$=V):(a($,V),V=Dh(q,$.mode,te),V.return=$,$=V),w($)):a($,V)}return lt}var co=Am(!0),Cm=Am(!1),_u=ri(null),vu=null,ho=null,$d=null;function qd(){$d=ho=vu=null}function Hd(r){var s=_u.current;Xe(_u),r._currentValue=s}function Wd(r,s,a){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===a)break;r=r.return}}function fo(r,s){vu=r,$d=ho=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(Zt=!0),r.firstContext=null)}function wn(r){var s=r._currentValue;if($d!==r)if(r={context:r,memoizedValue:s,next:null},ho===null){if(vu===null)throw Error(t(308));ho=r,vu.dependencies={lanes:0,firstContext:r}}else ho=ho.next=r;return s}var is=null;function Gd(r){is===null?is=[r]:is.push(r)}function km(r,s,a,d){var f=s.interleaved;return f===null?(a.next=a,Gd(s)):(a.next=f.next,f.next=a),s.interleaved=a,Sr(r,d)}function Sr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var oi=!1;function Kd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function xr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ai(r,s,a){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,je&2){var f=d.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),d.pending=s,Sr(r,a)}return f=d.interleaved,f===null?(s.next=s,Gd(d)):(s.next=f.next,f.next=s),d.interleaved=s,Sr(r,a)}function wu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,a|=d,s.lanes=a,Xr(r,a)}}function Nm(r,s){var a=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Eu(r,s,a,d){var f=r.updateQueue;oi=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var O=A,H=O.next;O.next=null,w===null?g=H:w.next=H,w=O;var J=r.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==w&&(A===null?J.firstBaseUpdate=H:A.next=H,J.lastBaseUpdate=O))}if(g!==null){var Z=f.baseState;w=0,J=H=O=null,A=g;do{var Y=A.lane,oe=A.eventTime;if((d&Y)===Y){J!==null&&(J=J.next={eventTime:oe,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var de=r,he=A;switch(Y=s,oe=a,he.tag){case 1:if(de=he.payload,typeof de=="function"){Z=de.call(oe,Z,Y);break e}Z=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=he.payload,Y=typeof de=="function"?de.call(oe,Z,Y):de,Y==null)break e;Z=se({},Z,Y);break e;case 2:oi=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,Y=f.effects,Y===null?f.effects=[A]:Y.push(A))}else oe={eventTime:oe,lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(H=J=oe,O=Z):J=J.next=oe,w|=Y;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Y=A,A=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);if(J===null&&(O=Z),f.baseState=O,f.firstBaseUpdate=H,f.lastBaseUpdate=J,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);as|=w,r.lanes=w,r.memoizedState=Z}}function bm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],f=d.callback;if(f!==null){if(d.callback=null,d=a,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var Oa={},Xn=ri(Oa),Va=ri(Oa),Ma=ri(Oa);function ss(r){if(r===Oa)throw Error(t(174));return r}function Qd(r,s){switch(Ke(Ma,s),Ke(Va,r),Ke(Xn,Oa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:gt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=gt(s,r)}Xe(Xn),Ke(Xn,s)}function po(){Xe(Xn),Xe(Va),Xe(Ma)}function Dm(r){ss(Ma.current);var s=ss(Xn.current),a=gt(s,r.type);s!==a&&(Ke(Va,r),Ke(Xn,a))}function Xd(r){Va.current===r&&(Xe(Xn),Xe(Va))}var tt=ri(0);function Tu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Yd=[];function Jd(){for(var r=0;r<Yd.length;r++)Yd[r]._workInProgressVersionPrimary=null;Yd.length=0}var Iu=ie.ReactCurrentDispatcher,Zd=ie.ReactCurrentBatchConfig,os=0,nt=null,_t=null,St=null,Su=!1,Fa=!1,ja=0,tE=0;function Mt(){throw Error(t(321))}function eh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Ln(r[a],s[a]))return!1;return!0}function th(r,s,a,d,f,g){if(os=g,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Iu.current=r===null||r.memoizedState===null?sE:oE,r=a(d,f),Fa){g=0;do{if(Fa=!1,ja=0,25<=g)throw Error(t(301));g+=1,St=_t=null,s.updateQueue=null,Iu.current=aE,r=a(d,f)}while(Fa)}if(Iu.current=Au,s=_t!==null&&_t.next!==null,os=0,St=_t=nt=null,Su=!1,s)throw Error(t(300));return r}function nh(){var r=ja!==0;return ja=0,r}function Yn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?nt.memoizedState=St=r:St=St.next=r,St}function En(){if(_t===null){var r=nt.alternate;r=r!==null?r.memoizedState:null}else r=_t.next;var s=St===null?nt.memoizedState:St.next;if(s!==null)St=s,_t=r;else{if(r===null)throw Error(t(310));_t=r,r={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},St===null?nt.memoizedState=St=r:St=St.next=r}return St}function Ua(r,s){return typeof s=="function"?s(r):s}function rh(r){var s=En(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var d=_t,f=d.baseQueue,g=a.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}d.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,d=d.baseState;var A=w=null,O=null,H=g;do{var J=H.lane;if((os&J)===J)O!==null&&(O=O.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),d=H.hasEagerState?H.eagerState:r(d,H.action);else{var Z={lane:J,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};O===null?(A=O=Z,w=d):O=O.next=Z,nt.lanes|=J,as|=J}H=H.next}while(H!==null&&H!==g);O===null?w=d:O.next=A,Ln(d,s.memoizedState)||(Zt=!0),s.memoizedState=d,s.baseState=w,s.baseQueue=O,a.lastRenderedState=d}if(r=a.interleaved,r!==null){f=r;do g=f.lane,nt.lanes|=g,as|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function ih(r){var s=En(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var d=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);Ln(g,s.memoizedState)||(Zt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,d]}function Lm(){}function Om(r,s){var a=nt,d=En(),f=s(),g=!Ln(d.memoizedState,f);if(g&&(d.memoizedState=f,Zt=!0),d=d.queue,sh(Fm.bind(null,a,d,r),[r]),d.getSnapshot!==s||g||St!==null&&St.memoizedState.tag&1){if(a.flags|=2048,za(9,Mm.bind(null,a,d,f,s),void 0,null),xt===null)throw Error(t(349));os&30||Vm(a,s,f)}return f}function Vm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Mm(r,s,a,d){s.value=a,s.getSnapshot=d,jm(s)&&Um(r)}function Fm(r,s,a){return a(function(){jm(s)&&Um(r)})}function jm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Ln(r,a)}catch{return!0}}function Um(r){var s=Sr(r,1);s!==null&&jn(s,r,1,-1)}function zm(r){var s=Yn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:r},s.queue=r,r=r.dispatch=iE.bind(null,nt,r),[s.memoizedState,r]}function za(r,s,a,d){return r={tag:r,create:s,destroy:a,deps:d,next:null},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(d=a.next,a.next=r,r.next=d,s.lastEffect=r)),r}function Bm(){return En().memoizedState}function xu(r,s,a,d){var f=Yn();nt.flags|=r,f.memoizedState=za(1|s,a,void 0,d===void 0?null:d)}function Ru(r,s,a,d){var f=En();d=d===void 0?null:d;var g=void 0;if(_t!==null){var w=_t.memoizedState;if(g=w.destroy,d!==null&&eh(d,w.deps)){f.memoizedState=za(s,a,g,d);return}}nt.flags|=r,f.memoizedState=za(1|s,a,g,d)}function $m(r,s){return xu(8390656,8,r,s)}function sh(r,s){return Ru(2048,8,r,s)}function qm(r,s){return Ru(4,2,r,s)}function Hm(r,s){return Ru(4,4,r,s)}function Wm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Gm(r,s,a){return a=a!=null?a.concat([r]):null,Ru(4,4,Wm.bind(null,s,r),a)}function oh(){}function Km(r,s){var a=En();s=s===void 0?null:s;var d=a.memoizedState;return d!==null&&s!==null&&eh(s,d[1])?d[0]:(a.memoizedState=[r,s],r)}function Qm(r,s){var a=En();s=s===void 0?null:s;var d=a.memoizedState;return d!==null&&s!==null&&eh(s,d[1])?d[0]:(r=r(),a.memoizedState=[r,s],r)}function Xm(r,s,a){return os&21?(Ln(a,s)||(a=Qi(),nt.lanes|=a,as|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,Zt=!0),r.memoizedState=a)}function nE(r,s){var a=Le;Le=a!==0&&4>a?a:4,r(!0);var d=Zd.transition;Zd.transition={};try{r(!1),s()}finally{Le=a,Zd.transition=d}}function Ym(){return En().memoizedState}function rE(r,s,a){var d=di(r);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},Jm(r))Zm(s,a);else if(a=km(r,s,a,d),a!==null){var f=Gt();jn(a,r,d,f),eg(a,s,d)}}function iE(r,s,a){var d=di(r),f={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(Jm(r))Zm(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,A=g(w,a);if(f.hasEagerState=!0,f.eagerState=A,Ln(A,w)){var O=s.interleaved;O===null?(f.next=f,Gd(s)):(f.next=O.next,O.next=f),s.interleaved=f;return}}catch{}finally{}a=km(r,s,f,d),a!==null&&(f=Gt(),jn(a,r,d,f),eg(a,s,d))}}function Jm(r){var s=r.alternate;return r===nt||s!==null&&s===nt}function Zm(r,s){Fa=Su=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function eg(r,s,a){if(a&4194240){var d=s.lanes;d&=r.pendingLanes,a|=d,s.lanes=a,Xr(r,a)}}var Au={readContext:wn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},sE={readContext:wn,useCallback:function(r,s){return Yn().memoizedState=[r,s===void 0?null:s],r},useContext:wn,useEffect:$m,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,xu(4194308,4,Wm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return xu(4194308,4,r,s)},useInsertionEffect:function(r,s){return xu(4,2,r,s)},useMemo:function(r,s){var a=Yn();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var d=Yn();return s=a!==void 0?a(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=rE.bind(null,nt,r),[d.memoizedState,r]},useRef:function(r){var s=Yn();return r={current:r},s.memoizedState=r},useState:zm,useDebugValue:oh,useDeferredValue:function(r){return Yn().memoizedState=r},useTransition:function(){var r=zm(!1),s=r[0];return r=nE.bind(null,r[1]),Yn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var d=nt,f=Yn();if(Ze){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),xt===null)throw Error(t(349));os&30||Vm(d,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,$m(Fm.bind(null,d,g,r),[r]),d.flags|=2048,za(9,Mm.bind(null,d,g,a,s),void 0,null),a},useId:function(){var r=Yn(),s=xt.identifierPrefix;if(Ze){var a=Ir,d=Tr;a=(d&~(1<<32-qt(d)-1)).toString(32)+a,s=":"+s+"R"+a,a=ja++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=tE++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},oE={readContext:wn,useCallback:Km,useContext:wn,useEffect:sh,useImperativeHandle:Gm,useInsertionEffect:qm,useLayoutEffect:Hm,useMemo:Qm,useReducer:rh,useRef:Bm,useState:function(){return rh(Ua)},useDebugValue:oh,useDeferredValue:function(r){var s=En();return Xm(s,_t.memoizedState,r)},useTransition:function(){var r=rh(Ua)[0],s=En().memoizedState;return[r,s]},useMutableSource:Lm,useSyncExternalStore:Om,useId:Ym,unstable_isNewReconciler:!1},aE={readContext:wn,useCallback:Km,useContext:wn,useEffect:sh,useImperativeHandle:Gm,useInsertionEffect:qm,useLayoutEffect:Hm,useMemo:Qm,useReducer:ih,useRef:Bm,useState:function(){return ih(Ua)},useDebugValue:oh,useDeferredValue:function(r){var s=En();return _t===null?s.memoizedState=r:Xm(s,_t.memoizedState,r)},useTransition:function(){var r=ih(Ua)[0],s=En().memoizedState;return[r,s]},useMutableSource:Lm,useSyncExternalStore:Om,useId:Ym,unstable_isNewReconciler:!1};function Vn(r,s){if(r&&r.defaultProps){s=se({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function ah(r,s,a,d){s=r.memoizedState,a=a(d,s),a=a==null?s:se({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Cu={isMounted:function(r){return(r=r._reactInternals)?An(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var d=Gt(),f=di(r),g=xr(d,f);g.payload=s,a!=null&&(g.callback=a),s=ai(r,g,f),s!==null&&(jn(s,r,f,d),wu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var d=Gt(),f=di(r),g=xr(d,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ai(r,g,f),s!==null&&(jn(s,r,f,d),wu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Gt(),d=di(r),f=xr(a,d);f.tag=2,s!=null&&(f.callback=s),s=ai(r,f,d),s!==null&&(jn(s,r,d,a),wu(s,r,d))}};function tg(r,s,a,d,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,w):s.prototype&&s.prototype.isPureReactComponent?!Aa(a,d)||!Aa(f,g):!0}function ng(r,s,a){var d=!1,f=ii,g=s.contextType;return typeof g=="object"&&g!==null?g=wn(g):(f=Jt(s)?ts:Vt.current,d=s.contextTypes,g=(d=d!=null)?oo(r,f):ii),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Cu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function rg(r,s,a,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,d),s.state!==r&&Cu.enqueueReplaceState(s,s.state,null)}function lh(r,s,a,d){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Kd(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=wn(g):(g=Jt(s)?ts:Vt.current,f.context=oo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(ah(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Cu.enqueueReplaceState(f,f.state,null),Eu(r,a,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function mo(r,s){try{var a="",d=s;do a+=Ce(d),d=d.return;while(d);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function uh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function ch(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var lE=typeof WeakMap=="function"?WeakMap:Map;function ig(r,s,a){a=xr(-1,a),a.tag=3,a.payload={element:null};var d=s.value;return a.callback=function(){Ou||(Ou=!0,xh=d),ch(r,s)},a}function sg(r,s,a){a=xr(-1,a),a.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=s.value;a.payload=function(){return d(f)},a.callback=function(){ch(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){ch(r,s),typeof d!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function og(r,s,a){var d=r.pingCache;if(d===null){d=r.pingCache=new lE;var f=new Set;d.set(s,f)}else f=d.get(s),f===void 0&&(f=new Set,d.set(s,f));f.has(a)||(f.add(a),r=TE.bind(null,r,s,a),s.then(r,r))}function ag(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function lg(r,s,a,d,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=xr(-1,1),s.tag=2,ai(a,s,1))),a.lanes|=1),r)}var uE=ie.ReactCurrentOwner,Zt=!1;function Wt(r,s,a,d){s.child=r===null?Cm(s,null,a,d):co(s,r.child,a,d)}function ug(r,s,a,d,f){a=a.render;var g=s.ref;return fo(s,f),d=th(r,s,a,d,g,f),a=nh(),r!==null&&!Zt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Rr(r,s,f)):(Ze&&a&&Fd(s),s.flags|=1,Wt(r,s,d,f),s.child)}function cg(r,s,a,d,f){if(r===null){var g=a.type;return typeof g=="function"&&!bh(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,dg(r,s,g,d,f)):(r=zu(a.type,null,d,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Aa,a(w,d)&&r.ref===s.ref)return Rr(r,s,f)}return s.flags|=1,r=fi(g,d),r.ref=s.ref,r.return=s,s.child=r}function dg(r,s,a,d,f){if(r!==null){var g=r.memoizedProps;if(Aa(g,d)&&r.ref===s.ref)if(Zt=!1,s.pendingProps=d=g,(r.lanes&f)!==0)r.flags&131072&&(Zt=!0);else return s.lanes=r.lanes,Rr(r,s,f)}return dh(r,s,a,d,f)}function hg(r,s,a){var d=s.pendingProps,f=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(yo,hn),hn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(yo,hn),hn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:a,Ke(yo,hn),hn|=d}else g!==null?(d=g.baseLanes|a,s.memoizedState=null):d=a,Ke(yo,hn),hn|=d;return Wt(r,s,f,a),s.child}function fg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function dh(r,s,a,d,f){var g=Jt(a)?ts:Vt.current;return g=oo(s,g),fo(s,f),a=th(r,s,a,d,g,f),d=nh(),r!==null&&!Zt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Rr(r,s,f)):(Ze&&d&&Fd(s),s.flags|=1,Wt(r,s,a,f),s.child)}function pg(r,s,a,d,f){if(Jt(a)){var g=!0;hu(s)}else g=!1;if(fo(s,f),s.stateNode===null)Pu(r,s),ng(s,a,d),lh(s,a,d,f),d=!0;else if(r===null){var w=s.stateNode,A=s.memoizedProps;w.props=A;var O=w.context,H=a.contextType;typeof H=="object"&&H!==null?H=wn(H):(H=Jt(a)?ts:Vt.current,H=oo(s,H));var J=a.getDerivedStateFromProps,Z=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function";Z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==d||O!==H)&&rg(s,w,d,H),oi=!1;var Y=s.memoizedState;w.state=Y,Eu(s,d,w,f),O=s.memoizedState,A!==d||Y!==O||Yt.current||oi?(typeof J=="function"&&(ah(s,a,J,d),O=s.memoizedState),(A=oi||tg(s,a,A,d,Y,O,H))?(Z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=O),w.props=d,w.state=O,w.context=H,d=A):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{w=s.stateNode,Pm(r,s),A=s.memoizedProps,H=s.type===s.elementType?A:Vn(s.type,A),w.props=H,Z=s.pendingProps,Y=w.context,O=a.contextType,typeof O=="object"&&O!==null?O=wn(O):(O=Jt(a)?ts:Vt.current,O=oo(s,O));var oe=a.getDerivedStateFromProps;(J=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==Z||Y!==O)&&rg(s,w,d,O),oi=!1,Y=s.memoizedState,w.state=Y,Eu(s,d,w,f);var de=s.memoizedState;A!==Z||Y!==de||Yt.current||oi?(typeof oe=="function"&&(ah(s,a,oe,d),de=s.memoizedState),(H=oi||tg(s,a,H,d,Y,de,O)||!1)?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,de,O),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,de,O)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=de),w.props=d,w.state=de,w.context=O,d=H):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),d=!1)}return hh(r,s,a,d,g,f)}function hh(r,s,a,d,f,g){fg(r,s);var w=(s.flags&128)!==0;if(!d&&!w)return f&&vm(s,a,!1),Rr(r,s,g);d=s.stateNode,uE.current=s;var A=w&&typeof a.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&w?(s.child=co(s,r.child,null,g),s.child=co(s,null,A,g)):Wt(r,s,A,g),s.memoizedState=d.state,f&&vm(s,a,!0),s.child}function mg(r){var s=r.stateNode;s.pendingContext?ym(r,s.pendingContext,s.pendingContext!==s.context):s.context&&ym(r,s.context,!1),Qd(r,s.containerInfo)}function gg(r,s,a,d,f){return uo(),Bd(f),s.flags|=256,Wt(r,s,a,d),s.child}var fh={dehydrated:null,treeContext:null,retryLane:0};function ph(r){return{baseLanes:r,cachePool:null,transitions:null}}function yg(r,s,a){var d=s.pendingProps,f=tt.current,g=!1,w=(s.flags&128)!==0,A;if((A=w)||(A=r!==null&&r.memoizedState===null?!1:(f&2)!==0),A?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ke(tt,f&1),r===null)return zd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=d.children,r=d.fallback,g?(d=s.mode,g=s.child,w={mode:"hidden",children:w},!(d&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Bu(w,d,0,null),r=ds(r,d,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=ph(a),s.memoizedState=fh,r):mh(s,w));if(f=r.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return cE(r,s,w,d,A,f,a);if(g){g=d.fallback,w=s.mode,f=r.child,A=f.sibling;var O={mode:"hidden",children:d.children};return!(w&1)&&s.child!==f?(d=s.child,d.childLanes=0,d.pendingProps=O,s.deletions=null):(d=fi(f,O),d.subtreeFlags=f.subtreeFlags&14680064),A!==null?g=fi(A,g):(g=ds(g,w,a,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,w=r.child.memoizedState,w=w===null?ph(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=fh,d}return g=r.child,r=g.sibling,d=fi(g,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=a),d.return=s,d.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=d,s.memoizedState=null,d}function mh(r,s){return s=Bu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ku(r,s,a,d){return d!==null&&Bd(d),co(s,r.child,null,a),r=mh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function cE(r,s,a,d,f,g,w){if(a)return s.flags&256?(s.flags&=-257,d=uh(Error(t(422))),ku(r,s,w,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=d.fallback,f=s.mode,d=Bu({mode:"visible",children:d.children},f,0,null),g=ds(g,f,w,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,s.mode&1&&co(s,r.child,null,w),s.child.memoizedState=ph(w),s.memoizedState=fh,g);if(!(s.mode&1))return ku(r,s,w,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var A=d.dgst;return d=A,g=Error(t(419)),d=uh(g,d,void 0),ku(r,s,w,d)}if(A=(w&r.childLanes)!==0,Zt||A){if(d=xt,d!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(d.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Sr(r,f),jn(d,r,f,-1))}return Nh(),d=uh(Error(t(421))),ku(r,s,w,d)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=IE.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,dn=ni(f.nextSibling),cn=s,Ze=!0,On=null,r!==null&&(_n[vn++]=Tr,_n[vn++]=Ir,_n[vn++]=ns,Tr=r.id,Ir=r.overflow,ns=s),s=mh(s,d.children),s.flags|=4096,s)}function _g(r,s,a){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Wd(r.return,s,a)}function gh(r,s,a,d,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=a,g.tailMode=f)}function vg(r,s,a){var d=s.pendingProps,f=d.revealOrder,g=d.tail;if(Wt(r,s,d.children,a),d=tt.current,d&2)d=d&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_g(r,a,s);else if(r.tag===19)_g(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Ke(tt,d),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&Tu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),gh(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Tu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}gh(s,!0,a,null,g);break;case"together":gh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Pu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Rr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),as|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=fi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=fi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function dE(r,s,a){switch(s.tag){case 3:mg(s),uo();break;case 5:Dm(s);break;case 1:Jt(s.type)&&hu(s);break;case 4:Qd(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,f=s.memoizedProps.value;Ke(_u,d._currentValue),d._currentValue=f;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Ke(tt,tt.current&1),s.flags|=128,null):a&s.child.childLanes?yg(r,s,a):(Ke(tt,tt.current&1),r=Rr(r,s,a),r!==null?r.sibling:null);Ke(tt,tt.current&1);break;case 19:if(d=(a&s.childLanes)!==0,r.flags&128){if(d)return vg(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ke(tt,tt.current),d)break;return null;case 22:case 23:return s.lanes=0,hg(r,s,a)}return Rr(r,s,a)}var wg,yh,Eg,Tg;wg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},yh=function(){},Eg=function(r,s,a,d){var f=r.memoizedProps;if(f!==d){r=s.stateNode,ss(Xn.current);var g=null;switch(a){case"input":f=Fi(r,f),d=Fi(r,d),g=[];break;case"select":f=se({},f,{value:void 0}),d=se({},d,{value:void 0}),g=[];break;case"textarea":f=na(r,f),d=na(r,d),g=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=uu)}la(a,d);var w;a=null;for(H in f)if(!d.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var A=f[H];for(w in A)A.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?g||(g=[]):(g=g||[]).push(H,null));for(H in d){var O=d[H];if(A=f!=null?f[H]:void 0,d.hasOwnProperty(H)&&O!==A&&(O!=null||A!=null))if(H==="style")if(A){for(w in A)!A.hasOwnProperty(w)||O&&O.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in O)O.hasOwnProperty(w)&&A[w]!==O[w]&&(a||(a={}),a[w]=O[w])}else a||(g||(g=[]),g.push(H,a)),a=O;else H==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,A=A?A.__html:void 0,O!=null&&A!==O&&(g=g||[]).push(H,O)):H==="children"?typeof O!="string"&&typeof O!="number"||(g=g||[]).push(H,""+O):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(O!=null&&H==="onScroll"&&Qe("scroll",r),g||A===O||(g=[])):(g=g||[]).push(H,O))}a&&(g=g||[]).push("style",a);var H=g;(s.updateQueue=H)&&(s.flags|=4)}},Tg=function(r,s,a,d){a!==d&&(s.flags|=4)};function Ba(r,s){if(!Ze)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ft(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,d=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=d,r.childLanes=a,s}function hE(r,s,a){var d=s.pendingProps;switch(jd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return Jt(s.type)&&du(),Ft(s),null;case 3:return d=s.stateNode,po(),Xe(Yt),Xe(Vt),Jd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(gu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,On!==null&&(Ch(On),On=null))),yh(r,s),Ft(s),null;case 5:Xd(s);var f=ss(Ma.current);if(a=s.type,r!==null&&s.stateNode!=null)Eg(r,s,a,d,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Ft(s),null}if(r=ss(Xn.current),gu(s)){d=s.stateNode,a=s.type;var g=s.memoizedProps;switch(d[Qn]=s,d[ba]=g,r=(s.mode&1)!==0,a){case"dialog":Qe("cancel",d),Qe("close",d);break;case"iframe":case"object":case"embed":Qe("load",d);break;case"video":case"audio":for(f=0;f<ka.length;f++)Qe(ka[f],d);break;case"source":Qe("error",d);break;case"img":case"image":case"link":Qe("error",d),Qe("load",d);break;case"details":Qe("toggle",d);break;case"input":Cs(d,g),Qe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},Qe("invalid",d);break;case"textarea":Ps(d,g),Qe("invalid",d)}la(a,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var A=g[w];w==="children"?typeof A=="string"?d.textContent!==A&&(g.suppressHydrationWarning!==!0&&lu(d.textContent,A,r),f=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&lu(d.textContent,A,r),f=["children",""+A]):o.hasOwnProperty(w)&&A!=null&&w==="onScroll"&&Qe("scroll",d)}switch(a){case"input":cr(d),Ll(d,g,!0);break;case"textarea":cr(d),ra(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=uu)}d=f,s.updateQueue=d,d!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=mt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(a,{is:d.is}):(r=w.createElement(a),a==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,a),r[Qn]=s,r[ba]=d,wg(r,s,!1,!1),s.stateNode=r;e:{switch(w=ua(a,d),a){case"dialog":Qe("cancel",r),Qe("close",r),f=d;break;case"iframe":case"object":case"embed":Qe("load",r),f=d;break;case"video":case"audio":for(f=0;f<ka.length;f++)Qe(ka[f],r);f=d;break;case"source":Qe("error",r),f=d;break;case"img":case"image":case"link":Qe("error",r),Qe("load",r),f=d;break;case"details":Qe("toggle",r),f=d;break;case"input":Cs(r,d),f=Fi(r,d),Qe("invalid",r);break;case"option":f=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},f=se({},d,{value:void 0}),Qe("invalid",r);break;case"textarea":Ps(r,d),f=na(r,d),Qe("invalid",r);break;default:f=d}la(a,f),A=f;for(g in A)if(A.hasOwnProperty(g)){var O=A[g];g==="style"?oa(r,O):g==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&ia(r,O)):g==="children"?typeof O=="string"?(a!=="textarea"||O!=="")&&Hr(r,O):typeof O=="number"&&Hr(r,""+O):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?O!=null&&g==="onScroll"&&Qe("scroll",r):O!=null&&ee(r,g,O,w))}switch(a){case"input":cr(r),Ll(r,d,!1);break;case"textarea":cr(r),ra(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Be(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?hr(r,!!d.multiple,g,!1):d.defaultValue!=null&&hr(r,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=uu)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ft(s),null;case 6:if(r&&s.stateNode!=null)Tg(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(a=ss(Ma.current),ss(Xn.current),gu(s)){if(d=s.stateNode,a=s.memoizedProps,d[Qn]=s,(g=d.nodeValue!==a)&&(r=cn,r!==null))switch(r.tag){case 3:lu(d.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&lu(d.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[Qn]=s,s.stateNode=d}return Ft(s),null;case 13:if(Xe(tt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ze&&dn!==null&&s.mode&1&&!(s.flags&128))xm(),uo(),s.flags|=98560,g=!1;else if(g=gu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Qn]=s}else uo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ft(s),g=!1}else On!==null&&(Ch(On),On=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(r===null||tt.current&1?vt===0&&(vt=3):Nh())),s.updateQueue!==null&&(s.flags|=4),Ft(s),null);case 4:return po(),yh(r,s),r===null&&Pa(s.stateNode.containerInfo),Ft(s),null;case 10:return Hd(s.type._context),Ft(s),null;case 17:return Jt(s.type)&&du(),Ft(s),null;case 19:if(Xe(tt),g=s.memoizedState,g===null)return Ft(s),null;if(d=(s.flags&128)!==0,w=g.rendering,w===null)if(d)Ba(g,!1);else{if(vt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=Tu(r),w!==null){for(s.flags|=128,Ba(g,!1),d=w.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=a,a=s.child;a!==null;)g=a,r=d,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ke(tt,tt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Ge()>_o&&(s.flags|=128,d=!0,Ba(g,!1),s.lanes=4194304)}else{if(!d)if(r=Tu(w),r!==null){if(s.flags|=128,d=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ba(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Ze)return Ft(s),null}else 2*Ge()-g.renderingStartTime>_o&&a!==1073741824&&(s.flags|=128,d=!0,Ba(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ge(),s.sibling=null,a=tt.current,Ke(tt,d?a&1|2:a&1),s):(Ft(s),null);case 22:case 23:return Ph(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?hn&1073741824&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function fE(r,s){switch(jd(s),s.tag){case 1:return Jt(s.type)&&du(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return po(),Xe(Yt),Xe(Vt),Jd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Xd(s),null;case 13:if(Xe(tt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));uo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Xe(tt),null;case 4:return po(),null;case 10:return Hd(s.type._context),null;case 22:case 23:return Ph(),null;case 24:return null;default:return null}}var Nu=!1,jt=!1,pE=typeof WeakSet=="function"?WeakSet:Set,le=null;function go(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){ot(r,s,d)}else a.current=null}function _h(r,s,a){try{a()}catch(d){ot(r,s,d)}}var Ig=!1;function mE(r,s){if(Pd=Zr,r=tm(),Td(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var f=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,A=-1,O=-1,H=0,J=0,Z=r,Y=null;t:for(;;){for(var oe;Z!==a||f!==0&&Z.nodeType!==3||(A=w+f),Z!==g||d!==0&&Z.nodeType!==3||(O=w+d),Z.nodeType===3&&(w+=Z.nodeValue.length),(oe=Z.firstChild)!==null;)Y=Z,Z=oe;for(;;){if(Z===r)break t;if(Y===a&&++H===f&&(A=w),Y===g&&++J===d&&(O=w),(oe=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=oe}a=A===-1||O===-1?null:{start:A,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nd={focusedElem:r,selectionRange:a},Zr=!1,le=s;le!==null;)if(s=le,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,le=r;else for(;le!==null;){s=le;try{var de=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var he=de.memoizedProps,lt=de.memoizedState,$=s.stateNode,V=$.getSnapshotBeforeUpdate(s.elementType===s.type?he:Vn(s.type,he),lt);$.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){ot(s,s.return,te)}if(r=s.sibling,r!==null){r.return=s.return,le=r;break}le=s.return}return de=Ig,Ig=!1,de}function $a(r,s,a){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&_h(s,a,g)}f=f.next}while(f!==d)}}function bu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var d=a.create;a.destroy=d()}a=a.next}while(a!==s)}}function vh(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Sg(r){var s=r.alternate;s!==null&&(r.alternate=null,Sg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Qn],delete s[ba],delete s[Od],delete s[Yw],delete s[Jw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function xg(r){return r.tag===5||r.tag===3||r.tag===4}function Rg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||xg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function wh(r,s,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=uu));else if(d!==4&&(r=r.child,r!==null))for(wh(r,s,a),r=r.sibling;r!==null;)wh(r,s,a),r=r.sibling}function Eh(r,s,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Eh(r,s,a),r=r.sibling;r!==null;)Eh(r,s,a),r=r.sibling}var Pt=null,Mn=!1;function li(r,s,a){for(a=a.child;a!==null;)Ag(r,s,a),a=a.sibling}function Ag(r,s,a){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Gi,a)}catch{}switch(a.tag){case 5:jt||go(a,s);case 6:var d=Pt,f=Mn;Pt=null,li(r,s,a),Pt=d,Mn=f,Pt!==null&&(Mn?(r=Pt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Pt.removeChild(a.stateNode));break;case 18:Pt!==null&&(Mn?(r=Pt,a=a.stateNode,r.nodeType===8?Ld(r.parentNode,a):r.nodeType===1&&Ld(r,a),bn(r)):Ld(Pt,a.stateNode));break;case 4:d=Pt,f=Mn,Pt=a.stateNode.containerInfo,Mn=!0,li(r,s,a),Pt=d,Mn=f;break;case 0:case 11:case 14:case 15:if(!jt&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&_h(a,s,w),f=f.next}while(f!==d)}li(r,s,a);break;case 1:if(!jt&&(go(a,s),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(A){ot(a,s,A)}li(r,s,a);break;case 21:li(r,s,a);break;case 22:a.mode&1?(jt=(d=jt)||a.memoizedState!==null,li(r,s,a),jt=d):li(r,s,a);break;default:li(r,s,a)}}function Cg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new pE),s.forEach(function(d){var f=SE.bind(null,r,d);a.has(d)||(a.add(d),d.then(f,f))})}}function Fn(r,s){var a=s.deletions;if(a!==null)for(var d=0;d<a.length;d++){var f=a[d];try{var g=r,w=s,A=w;e:for(;A!==null;){switch(A.tag){case 5:Pt=A.stateNode,Mn=!1;break e;case 3:Pt=A.stateNode.containerInfo,Mn=!0;break e;case 4:Pt=A.stateNode.containerInfo,Mn=!0;break e}A=A.return}if(Pt===null)throw Error(t(160));Ag(g,w,f),Pt=null,Mn=!1;var O=f.alternate;O!==null&&(O.return=null),f.return=null}catch(H){ot(f,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)kg(s,r),s=s.sibling}function kg(r,s){var a=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Fn(s,r),Jn(r),d&4){try{$a(3,r,r.return),bu(3,r)}catch(he){ot(r,r.return,he)}try{$a(5,r,r.return)}catch(he){ot(r,r.return,he)}}break;case 1:Fn(s,r),Jn(r),d&512&&a!==null&&go(a,a.return);break;case 5:if(Fn(s,r),Jn(r),d&512&&a!==null&&go(a,a.return),r.flags&32){var f=r.stateNode;try{Hr(f,"")}catch(he){ot(r,r.return,he)}}if(d&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,A=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&ea(f,g),ua(A,w);var H=ua(A,g);for(w=0;w<O.length;w+=2){var J=O[w],Z=O[w+1];J==="style"?oa(f,Z):J==="dangerouslySetInnerHTML"?ia(f,Z):J==="children"?Hr(f,Z):ee(f,J,Z,H)}switch(A){case"input":ta(f,g);break;case"textarea":Ns(f,g);break;case"select":var Y=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var oe=g.value;oe!=null?hr(f,!!g.multiple,oe,!1):Y!==!!g.multiple&&(g.defaultValue!=null?hr(f,!!g.multiple,g.defaultValue,!0):hr(f,!!g.multiple,g.multiple?[]:"",!1))}f[ba]=g}catch(he){ot(r,r.return,he)}}break;case 6:if(Fn(s,r),Jn(r),d&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(he){ot(r,r.return,he)}}break;case 3:if(Fn(s,r),Jn(r),d&4&&a!==null&&a.memoizedState.isDehydrated)try{bn(s.containerInfo)}catch(he){ot(r,r.return,he)}break;case 4:Fn(s,r),Jn(r);break;case 13:Fn(s,r),Jn(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Sh=Ge())),d&4&&Cg(r);break;case 22:if(J=a!==null&&a.memoizedState!==null,r.mode&1?(jt=(H=jt)||J,Fn(s,r),jt=H):Fn(s,r),Jn(r),d&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!J&&r.mode&1)for(le=r,J=r.child;J!==null;){for(Z=le=J;le!==null;){switch(Y=le,oe=Y.child,Y.tag){case 0:case 11:case 14:case 15:$a(4,Y,Y.return);break;case 1:go(Y,Y.return);var de=Y.stateNode;if(typeof de.componentWillUnmount=="function"){d=Y,a=Y.return;try{s=d,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(he){ot(d,a,he)}}break;case 5:go(Y,Y.return);break;case 22:if(Y.memoizedState!==null){bg(Z);continue}}oe!==null?(oe.return=Y,le=oe):bg(Z)}J=J.sibling}e:for(J=null,Z=r;;){if(Z.tag===5){if(J===null){J=Z;try{f=Z.stateNode,H?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=Z.stateNode,O=Z.memoizedProps.style,w=O!=null&&O.hasOwnProperty("display")?O.display:null,A.style.display=sa("display",w))}catch(he){ot(r,r.return,he)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=H?"":Z.memoizedProps}catch(he){ot(r,r.return,he)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Fn(s,r),Jn(r),d&4&&Cg(r);break;case 21:break;default:Fn(s,r),Jn(r)}}function Jn(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(xg(a)){var d=a;break e}a=a.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(Hr(f,""),d.flags&=-33);var g=Rg(r);Eh(r,g,f);break;case 3:case 4:var w=d.stateNode.containerInfo,A=Rg(r);wh(r,A,w);break;default:throw Error(t(161))}}catch(O){ot(r,r.return,O)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function gE(r,s,a){le=r,Pg(r)}function Pg(r,s,a){for(var d=(r.mode&1)!==0;le!==null;){var f=le,g=f.child;if(f.tag===22&&d){var w=f.memoizedState!==null||Nu;if(!w){var A=f.alternate,O=A!==null&&A.memoizedState!==null||jt;A=Nu;var H=jt;if(Nu=w,(jt=O)&&!H)for(le=f;le!==null;)w=le,O=w.child,w.tag===22&&w.memoizedState!==null?Dg(f):O!==null?(O.return=w,le=O):Dg(f);for(;g!==null;)le=g,Pg(g),g=g.sibling;le=f,Nu=A,jt=H}Ng(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,le=g):Ng(r)}}function Ng(r){for(;le!==null;){var s=le;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:jt||bu(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!jt)if(a===null)d.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Vn(s.type,a.memoizedProps);d.componentDidUpdate(f,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&bm(s,g,d);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}bm(s,w,a)}break;case 5:var A=s.stateNode;if(a===null&&s.flags&4){a=A;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&a.focus();break;case"img":O.src&&(a.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var J=H.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&bn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}jt||s.flags&512&&vh(s)}catch(Y){ot(s,s.return,Y)}}if(s===r){le=null;break}if(a=s.sibling,a!==null){a.return=s.return,le=a;break}le=s.return}}function bg(r){for(;le!==null;){var s=le;if(s===r){le=null;break}var a=s.sibling;if(a!==null){a.return=s.return,le=a;break}le=s.return}}function Dg(r){for(;le!==null;){var s=le;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{bu(4,s)}catch(O){ot(s,a,O)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var f=s.return;try{d.componentDidMount()}catch(O){ot(s,f,O)}}var g=s.return;try{vh(s)}catch(O){ot(s,g,O)}break;case 5:var w=s.return;try{vh(s)}catch(O){ot(s,w,O)}}}catch(O){ot(s,s.return,O)}if(s===r){le=null;break}var A=s.sibling;if(A!==null){A.return=s.return,le=A;break}le=s.return}}var yE=Math.ceil,Du=ie.ReactCurrentDispatcher,Th=ie.ReactCurrentOwner,Tn=ie.ReactCurrentBatchConfig,je=0,xt=null,ht=null,Nt=0,hn=0,yo=ri(0),vt=0,qa=null,as=0,Lu=0,Ih=0,Ha=null,en=null,Sh=0,_o=1/0,Ar=null,Ou=!1,xh=null,ui=null,Vu=!1,ci=null,Mu=0,Wa=0,Rh=null,Fu=-1,ju=0;function Gt(){return je&6?Ge():Fu!==-1?Fu:Fu=Ge()}function di(r){return r.mode&1?je&2&&Nt!==0?Nt&-Nt:eE.transition!==null?(ju===0&&(ju=Qi()),ju):(r=Le,r!==0||(r=window.event,r=r===void 0?16:wa(r.type)),r):1}function jn(r,s,a,d){if(50<Wa)throw Wa=0,Rh=null,Error(t(185));Qr(r,a,d),(!(je&2)||r!==xt)&&(r===xt&&(!(je&2)&&(Lu|=a),vt===4&&hi(r,Nt)),tn(r,d),a===1&&je===0&&!(s.mode&1)&&(_o=Ge()+500,fu&&si()))}function tn(r,s){var a=r.callbackNode;mr(r,s);var d=Ki(r,r===xt?Nt:0);if(d===0)a!==null&&ma(a),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(a!=null&&ma(a),s===1)r.tag===0?Zw(Og.bind(null,r)):wm(Og.bind(null,r)),Qw(function(){!(je&6)&&si()}),a=null;else{switch(Yr(d)){case 1:a=Wi;break;case 4:a=Wr;break;case 16:a=mn;break;case 536870912:a=jl;break;default:a=mn}a=$g(a,Lg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Lg(r,s){if(Fu=-1,ju=0,je&6)throw Error(t(327));var a=r.callbackNode;if(vo()&&r.callbackNode!==a)return null;var d=Ki(r,r===xt?Nt:0);if(d===0)return null;if(d&30||d&r.expiredLanes||s)s=Uu(r,d);else{s=d;var f=je;je|=2;var g=Mg();(xt!==r||Nt!==s)&&(Ar=null,_o=Ge()+500,us(r,s));do try{wE();break}catch(A){Vg(r,A)}while(!0);qd(),Du.current=g,je=f,ht!==null?s=0:(xt=null,Nt=0,s=vt)}if(s!==0){if(s===2&&(f=an(r),f!==0&&(d=f,s=Ah(r,f))),s===1)throw a=qa,us(r,0),hi(r,d),tn(r,Ge()),a;if(s===6)hi(r,d);else{if(f=r.current.alternate,!(d&30)&&!_E(f)&&(s=Uu(r,d),s===2&&(g=an(r),g!==0&&(d=g,s=Ah(r,g))),s===1))throw a=qa,us(r,0),hi(r,d),tn(r,Ge()),a;switch(r.finishedWork=f,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:cs(r,en,Ar);break;case 3:if(hi(r,d),(d&130023424)===d&&(s=Sh+500-Ge(),10<s)){if(Ki(r,0)!==0)break;if(f=r.suspendedLanes,(f&d)!==d){Gt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Dd(cs.bind(null,r,en,Ar),s);break}cs(r,en,Ar);break;case 4:if(hi(r,d),(d&4194240)===d)break;for(s=r.eventTimes,f=-1;0<d;){var w=31-qt(d);g=1<<w,w=s[w],w>f&&(f=w),d&=~g}if(d=f,d=Ge()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*yE(d/1960))-d,10<d){r.timeoutHandle=Dd(cs.bind(null,r,en,Ar),d);break}cs(r,en,Ar);break;case 5:cs(r,en,Ar);break;default:throw Error(t(329))}}}return tn(r,Ge()),r.callbackNode===a?Lg.bind(null,r):null}function Ah(r,s){var a=Ha;return r.current.memoizedState.isDehydrated&&(us(r,s).flags|=256),r=Uu(r,s),r!==2&&(s=en,en=a,s!==null&&Ch(s)),r}function Ch(r){en===null?en=r:en.push.apply(en,r)}function _E(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var f=a[d],g=f.getSnapshot;f=f.value;try{if(!Ln(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function hi(r,s){for(s&=~Ih,s&=~Lu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-qt(s),d=1<<a;r[a]=-1,s&=~d}}function Og(r){if(je&6)throw Error(t(327));vo();var s=Ki(r,0);if(!(s&1))return tn(r,Ge()),null;var a=Uu(r,s);if(r.tag!==0&&a===2){var d=an(r);d!==0&&(s=d,a=Ah(r,d))}if(a===1)throw a=qa,us(r,0),hi(r,s),tn(r,Ge()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,cs(r,en,Ar),tn(r,Ge()),null}function kh(r,s){var a=je;je|=1;try{return r(s)}finally{je=a,je===0&&(_o=Ge()+500,fu&&si())}}function ls(r){ci!==null&&ci.tag===0&&!(je&6)&&vo();var s=je;je|=1;var a=Tn.transition,d=Le;try{if(Tn.transition=null,Le=1,r)return r()}finally{Le=d,Tn.transition=a,je=s,!(je&6)&&si()}}function Ph(){hn=yo.current,Xe(yo)}function us(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Kw(a)),ht!==null)for(a=ht.return;a!==null;){var d=a;switch(jd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&du();break;case 3:po(),Xe(Yt),Xe(Vt),Jd();break;case 5:Xd(d);break;case 4:po();break;case 13:Xe(tt);break;case 19:Xe(tt);break;case 10:Hd(d.type._context);break;case 22:case 23:Ph()}a=a.return}if(xt=r,ht=r=fi(r.current,null),Nt=hn=s,vt=0,qa=null,Ih=Lu=as=0,en=Ha=null,is!==null){for(s=0;s<is.length;s++)if(a=is[s],d=a.interleaved,d!==null){a.interleaved=null;var f=d.next,g=a.pending;if(g!==null){var w=g.next;g.next=f,d.next=w}a.pending=d}is=null}return r}function Vg(r,s){do{var a=ht;try{if(qd(),Iu.current=Au,Su){for(var d=nt.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}Su=!1}if(os=0,St=_t=nt=null,Fa=!1,ja=0,Th.current=null,a===null||a.return===null){vt=1,qa=s,ht=null;break}e:{var g=r,w=a.return,A=a,O=s;if(s=Nt,A.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var H=O,J=A,Z=J.tag;if(!(J.mode&1)&&(Z===0||Z===11||Z===15)){var Y=J.alternate;Y?(J.updateQueue=Y.updateQueue,J.memoizedState=Y.memoizedState,J.lanes=Y.lanes):(J.updateQueue=null,J.memoizedState=null)}var oe=ag(w);if(oe!==null){oe.flags&=-257,lg(oe,w,A,g,s),oe.mode&1&&og(g,H,s),s=oe,O=H;var de=s.updateQueue;if(de===null){var he=new Set;he.add(O),s.updateQueue=he}else de.add(O);break e}else{if(!(s&1)){og(g,H,s),Nh();break e}O=Error(t(426))}}else if(Ze&&A.mode&1){var lt=ag(w);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),lg(lt,w,A,g,s),Bd(mo(O,A));break e}}g=O=mo(O,A),vt!==4&&(vt=2),Ha===null?Ha=[g]:Ha.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var $=ig(g,O,s);Nm(g,$);break e;case 1:A=O;var V=g.type,q=g.stateNode;if(!(g.flags&128)&&(typeof V.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(ui===null||!ui.has(q)))){g.flags|=65536,s&=-s,g.lanes|=s;var te=sg(g,A,s);Nm(g,te);break e}}g=g.return}while(g!==null)}jg(a)}catch(fe){s=fe,ht===a&&a!==null&&(ht=a=a.return);continue}break}while(!0)}function Mg(){var r=Du.current;return Du.current=Au,r===null?Au:r}function Nh(){(vt===0||vt===3||vt===2)&&(vt=4),xt===null||!(as&268435455)&&!(Lu&268435455)||hi(xt,Nt)}function Uu(r,s){var a=je;je|=2;var d=Mg();(xt!==r||Nt!==s)&&(Ar=null,us(r,s));do try{vE();break}catch(f){Vg(r,f)}while(!0);if(qd(),je=a,Du.current=d,ht!==null)throw Error(t(261));return xt=null,Nt=0,vt}function vE(){for(;ht!==null;)Fg(ht)}function wE(){for(;ht!==null&&!Ml();)Fg(ht)}function Fg(r){var s=Bg(r.alternate,r,hn);r.memoizedProps=r.pendingProps,s===null?jg(r):ht=s,Th.current=null}function jg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=fE(a,s),a!==null){a.flags&=32767,ht=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{vt=6,ht=null;return}}else if(a=hE(a,s,hn),a!==null){ht=a;return}if(s=s.sibling,s!==null){ht=s;return}ht=s=r}while(s!==null);vt===0&&(vt=5)}function cs(r,s,a){var d=Le,f=Tn.transition;try{Tn.transition=null,Le=1,EE(r,s,a,d)}finally{Tn.transition=f,Le=d}return null}function EE(r,s,a,d){do vo();while(ci!==null);if(je&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(He(r,g),r===xt&&(ht=xt=null,Nt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Vu||(Vu=!0,$g(mn,function(){return vo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Tn.transition,Tn.transition=null;var w=Le;Le=1;var A=je;je|=4,Th.current=null,mE(r,a),kg(a,r),zw(Nd),Zr=!!Pd,Nd=Pd=null,r.current=a,gE(a),pd(),je=A,Le=w,Tn.transition=g}else r.current=a;if(Vu&&(Vu=!1,ci=r,Mu=f),g=r.pendingLanes,g===0&&(ui=null),Ul(a.stateNode),tn(r,Ge()),s!==null)for(d=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],d(f.value,{componentStack:f.stack,digest:f.digest});if(Ou)throw Ou=!1,r=xh,xh=null,r;return Mu&1&&r.tag!==0&&vo(),g=r.pendingLanes,g&1?r===Rh?Wa++:(Wa=0,Rh=r):Wa=0,si(),null}function vo(){if(ci!==null){var r=Yr(Mu),s=Tn.transition,a=Le;try{if(Tn.transition=null,Le=16>r?16:r,ci===null)var d=!1;else{if(r=ci,ci=null,Mu=0,je&6)throw Error(t(331));var f=je;for(je|=4,le=r.current;le!==null;){var g=le,w=g.child;if(le.flags&16){var A=g.deletions;if(A!==null){for(var O=0;O<A.length;O++){var H=A[O];for(le=H;le!==null;){var J=le;switch(J.tag){case 0:case 11:case 15:$a(8,J,g)}var Z=J.child;if(Z!==null)Z.return=J,le=Z;else for(;le!==null;){J=le;var Y=J.sibling,oe=J.return;if(Sg(J),J===H){le=null;break}if(Y!==null){Y.return=oe,le=Y;break}le=oe}}}var de=g.alternate;if(de!==null){var he=de.child;if(he!==null){de.child=null;do{var lt=he.sibling;he.sibling=null,he=lt}while(he!==null)}}le=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,le=w;else e:for(;le!==null;){if(g=le,g.flags&2048)switch(g.tag){case 0:case 11:case 15:$a(9,g,g.return)}var $=g.sibling;if($!==null){$.return=g.return,le=$;break e}le=g.return}}var V=r.current;for(le=V;le!==null;){w=le;var q=w.child;if(w.subtreeFlags&2064&&q!==null)q.return=w,le=q;else e:for(w=V;le!==null;){if(A=le,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:bu(9,A)}}catch(fe){ot(A,A.return,fe)}if(A===w){le=null;break e}var te=A.sibling;if(te!==null){te.return=A.return,le=te;break e}le=A.return}}if(je=f,si(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Gi,r)}catch{}d=!0}return d}finally{Le=a,Tn.transition=s}}return!1}function Ug(r,s,a){s=mo(a,s),s=ig(r,s,1),r=ai(r,s,1),s=Gt(),r!==null&&(Qr(r,1,s),tn(r,s))}function ot(r,s,a){if(r.tag===3)Ug(r,r,a);else for(;s!==null;){if(s.tag===3){Ug(s,r,a);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ui===null||!ui.has(d))){r=mo(a,r),r=sg(s,r,1),s=ai(s,r,1),r=Gt(),s!==null&&(Qr(s,1,r),tn(s,r));break}}s=s.return}}function TE(r,s,a){var d=r.pingCache;d!==null&&d.delete(s),s=Gt(),r.pingedLanes|=r.suspendedLanes&a,xt===r&&(Nt&a)===a&&(vt===4||vt===3&&(Nt&130023424)===Nt&&500>Ge()-Sh?us(r,0):Ih|=a),tn(r,s)}function zg(r,s){s===0&&(r.mode&1?(s=zs,zs<<=1,!(zs&130023424)&&(zs=4194304)):s=1);var a=Gt();r=Sr(r,s),r!==null&&(Qr(r,s,a),tn(r,a))}function IE(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),zg(r,a)}function SE(r,s){var a=0;switch(r.tag){case 13:var d=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),zg(r,a)}var Bg;Bg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Yt.current)Zt=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return Zt=!1,dE(r,s,a);Zt=!!(r.flags&131072)}else Zt=!1,Ze&&s.flags&1048576&&Em(s,mu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Pu(r,s),r=s.pendingProps;var f=oo(s,Vt.current);fo(s,a),f=th(null,s,d,r,f,a);var g=nh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jt(d)?(g=!0,hu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Kd(s),f.updater=Cu,s.stateNode=f,f._reactInternals=s,lh(s,d,r,a),s=hh(null,s,d,!0,g,a)):(s.tag=0,Ze&&g&&Fd(s),Wt(null,s,f,a),s=s.child),s;case 16:d=s.elementType;e:{switch(Pu(r,s),r=s.pendingProps,f=d._init,d=f(d._payload),s.type=d,f=s.tag=RE(d),r=Vn(d,r),f){case 0:s=dh(null,s,d,r,a);break e;case 1:s=pg(null,s,d,r,a);break e;case 11:s=ug(null,s,d,r,a);break e;case 14:s=cg(null,s,d,Vn(d.type,r),a);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Vn(d,f),dh(r,s,d,f,a);case 1:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Vn(d,f),pg(r,s,d,f,a);case 3:e:{if(mg(s),r===null)throw Error(t(387));d=s.pendingProps,g=s.memoizedState,f=g.element,Pm(r,s),Eu(s,d,null,a);var w=s.memoizedState;if(d=w.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=mo(Error(t(423)),s),s=gg(r,s,d,a,f);break e}else if(d!==f){f=mo(Error(t(424)),s),s=gg(r,s,d,a,f);break e}else for(dn=ni(s.stateNode.containerInfo.firstChild),cn=s,Ze=!0,On=null,a=Cm(s,null,d,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(uo(),d===f){s=Rr(r,s,a);break e}Wt(r,s,d,a)}s=s.child}return s;case 5:return Dm(s),r===null&&zd(s),d=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,bd(d,f)?w=null:g!==null&&bd(d,g)&&(s.flags|=32),fg(r,s),Wt(r,s,w,a),s.child;case 6:return r===null&&zd(s),null;case 13:return yg(r,s,a);case 4:return Qd(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=co(s,null,d,a):Wt(r,s,d,a),s.child;case 11:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Vn(d,f),ug(r,s,d,f,a);case 7:return Wt(r,s,s.pendingProps,a),s.child;case 8:return Wt(r,s,s.pendingProps.children,a),s.child;case 12:return Wt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(d=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,Ke(_u,d._currentValue),d._currentValue=w,g!==null)if(Ln(g.value,w)){if(g.children===f.children&&!Yt.current){s=Rr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var A=g.dependencies;if(A!==null){w=g.child;for(var O=A.firstContext;O!==null;){if(O.context===d){if(g.tag===1){O=xr(-1,a&-a),O.tag=2;var H=g.updateQueue;if(H!==null){H=H.shared;var J=H.pending;J===null?O.next=O:(O.next=J.next,J.next=O),H.pending=O}}g.lanes|=a,O=g.alternate,O!==null&&(O.lanes|=a),Wd(g.return,a,s),A.lanes|=a;break}O=O.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,A=w.alternate,A!==null&&(A.lanes|=a),Wd(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Wt(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,d=s.pendingProps.children,fo(s,a),f=wn(f),d=d(f),s.flags|=1,Wt(r,s,d,a),s.child;case 14:return d=s.type,f=Vn(d,s.pendingProps),f=Vn(d.type,f),cg(r,s,d,f,a);case 15:return dg(r,s,s.type,s.pendingProps,a);case 17:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Vn(d,f),Pu(r,s),s.tag=1,Jt(d)?(r=!0,hu(s)):r=!1,fo(s,a),ng(s,d,f),lh(s,d,f,a),hh(null,s,d,!0,r,a);case 19:return vg(r,s,a);case 22:return hg(r,s,a)}throw Error(t(156,s.tag))};function $g(r,s){return js(r,s)}function xE(r,s,a,d){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(r,s,a,d){return new xE(r,s,a,d)}function bh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function RE(r){if(typeof r=="function")return bh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===st)return 14}return 2}function fi(r,s){var a=r.alternate;return a===null?(a=In(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function zu(r,s,a,d,f,g){var w=2;if(d=r,typeof r=="function")bh(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case L:return ds(a.children,f,g,s);case x:w=8,f|=8;break;case R:return r=In(12,a,s,f|2),r.elementType=R,r.lanes=g,r;case k:return r=In(13,a,s,f),r.elementType=k,r.lanes=g,r;case Pe:return r=In(19,a,s,f),r.elementType=Pe,r.lanes=g,r;case Re:return Bu(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:w=10;break e;case N:w=9;break e;case F:w=11;break e;case st:w=14;break e;case Te:w=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=In(w,a,s,f),s.elementType=r,s.type=d,s.lanes=g,s}function ds(r,s,a,d){return r=In(7,r,d,s),r.lanes=a,r}function Bu(r,s,a,d){return r=In(22,r,d,s),r.elementType=Re,r.lanes=a,r.stateNode={isHidden:!1},r}function Dh(r,s,a){return r=In(6,r,null,s),r.lanes=a,r}function Lh(r,s,a){return s=In(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function AE(r,s,a,d,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kr(0),this.expirationTimes=Kr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Oh(r,s,a,d,f,g,w,A,O){return r=new AE(r,s,a,A,O),s===1?(s=1,g===!0&&(s|=8)):s=0,g=In(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kd(g),r}function CE(r,s,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:d==null?null:""+d,children:r,containerInfo:s,implementation:a}}function qg(r){if(!r)return ii;r=r._reactInternals;e:{if(An(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Jt(a))return _m(r,a,s)}return s}function Hg(r,s,a,d,f,g,w,A,O){return r=Oh(a,d,!0,r,f,g,w,A,O),r.context=qg(null),a=r.current,d=Gt(),f=di(a),g=xr(d,f),g.callback=s??null,ai(a,g,f),r.current.lanes=f,Qr(r,f,d),tn(r,d),r}function $u(r,s,a,d){var f=s.current,g=Gt(),w=di(f);return a=qg(a),s.context===null?s.context=a:s.pendingContext=a,s=xr(g,w),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=ai(f,s,w),r!==null&&(jn(r,f,w,g),wu(r,f,w)),w}function qu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Wg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Vh(r,s){Wg(r,s),(r=r.alternate)&&Wg(r,s)}var Gg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Mh(r){this._internalRoot=r}Hu.prototype.render=Mh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));$u(r,s,null,null)},Hu.prototype.unmount=Mh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ls(function(){$u(null,r,null,null)}),s[wr]=null}};function Hu(r){this._internalRoot=r}Hu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Hl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Hn.length&&s!==0&&s<Hn[a].priority;a++);Hn.splice(a,0,r),a===0&&Kl(r)}};function Fh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Wu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Kg(){}function kE(r,s,a,d,f){if(f){if(typeof d=="function"){var g=d;d=function(){var H=qu(w);g.call(H)}}var w=Hg(s,d,r,0,null,!1,!1,"",Kg);return r._reactRootContainer=w,r[wr]=w.current,Pa(r.nodeType===8?r.parentNode:r),ls(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof d=="function"){var A=d;d=function(){var H=qu(O);A.call(H)}}var O=Oh(r,0,!1,null,null,!1,!1,"",Kg);return r._reactRootContainer=O,r[wr]=O.current,Pa(r.nodeType===8?r.parentNode:r),ls(function(){$u(s,O,a,d)}),O}function Gu(r,s,a,d,f){var g=a._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var A=f;f=function(){var O=qu(w);A.call(O)}}$u(s,w,r,f)}else w=kE(a,s,r,f,d);return qu(w)}$l=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Gr(s.pendingLanes);a!==0&&(Xr(s,a|1),tn(s,Ge()),!(je&6)&&(_o=Ge()+500,si()))}break;case 13:ls(function(){var d=Sr(r,1);if(d!==null){var f=Gt();jn(d,r,1,f)}}),Vh(r,1)}},Bs=function(r){if(r.tag===13){var s=Sr(r,134217728);if(s!==null){var a=Gt();jn(s,r,134217728,a)}Vh(r,134217728)}},ql=function(r){if(r.tag===13){var s=di(r),a=Sr(r,s);if(a!==null){var d=Gt();jn(a,r,s,d)}Vh(r,s)}},Hl=function(){return Le},Wl=function(r,s){var a=Le;try{return Le=r,s()}finally{Le=a}},Ds=function(r,s,a){switch(s){case"input":if(ta(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var d=a[s];if(d!==r&&d.form===r.form){var f=cu(d);if(!f)throw Error(t(90));As(d),ta(d,f)}}}break;case"textarea":Ns(r,a);break;case"select":s=a.value,s!=null&&hr(r,!!a.multiple,s,!1)}},Bi=kh,da=ls;var PE={usingClientEntryPoint:!1,Events:[Da,io,cu,$n,ca,kh]},Ga={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NE={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=pa(r),r===null?null:r.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{Gi=Ku.inject(NE),on=Ku}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PE,nn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fh(s))throw Error(t(200));return CE(r,s,null,a)},nn.createRoot=function(r,s){if(!Fh(r))throw Error(t(299));var a=!1,d="",f=Gg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Oh(r,1,!1,null,null,a,!1,d,f),r[wr]=s.current,Pa(r.nodeType===8?r.parentNode:r),new Mh(s)},nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=pa(s),r=r===null?null:r.stateNode,r},nn.flushSync=function(r){return ls(r)},nn.hydrate=function(r,s,a){if(!Wu(s))throw Error(t(200));return Gu(null,r,s,!0,a)},nn.hydrateRoot=function(r,s,a){if(!Fh(r))throw Error(t(405));var d=a!=null&&a.hydratedSources||null,f=!1,g="",w=Gg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=Hg(s,null,r,1,a??null,f,!1,g,w),r[wr]=s.current,Pa(r),d)for(r=0;r<d.length;r++)a=d[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Hu(s)},nn.render=function(r,s,a){if(!Wu(s))throw Error(t(200));return Gu(null,r,s,!1,a)},nn.unmountComponentAtNode=function(r){if(!Wu(r))throw Error(t(40));return r._reactRootContainer?(ls(function(){Gu(null,null,r,!1,function(){r._reactRootContainer=null,r[wr]=null})}),!0):!1},nn.unstable_batchedUpdates=kh,nn.unstable_renderSubtreeIntoContainer=function(r,s,a,d){if(!Wu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Gu(r,s,a,!1,d)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var ry;function O_(){if(ry)return zh.exports;ry=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zh.exports=jE(),zh.exports}var iy;function UE(){if(iy)return Qu;iy=1;var n=O_();return Qu.createRoot=n.createRoot,Qu.hydrateRoot=n.hydrateRoot,Qu}var zE=UE();const BE=L_(zE);var Qa={},sy;function $E(){if(sy)return Qa;sy=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.parse=c,Qa.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,b){const D=new l,j=T.length;if(j<2)return D;const M=(b==null?void 0:b.decode)||v;let z=0;do{const G=T.indexOf("=",z);if(G===-1)break;const ee=T.indexOf(";",z),ie=ee===-1?j:ee;if(G>ie){z=T.lastIndexOf(";",G-1)+1;continue}const me=h(T,z,G),ue=p(T,G,me),L=T.slice(me,ue);if(D[L]===void 0){let x=h(T,G+1,ie),R=p(T,ie,x);const P=M(T.slice(x,R));D[L]=P}z=ie+1}while(z<j);return D}function h(T,b,D){do{const j=T.charCodeAt(b);if(j!==32&&j!==9)return b}while(++b<D);return D}function p(T,b,D){for(;b>D;){const j=T.charCodeAt(--b);if(j!==32&&j!==9)return b+1}return D}function y(T,b,D){const j=(D==null?void 0:D.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const M=j(b);if(!e.test(M))throw new TypeError(`argument val is invalid: ${b}`);let z=T+"="+M;if(!D)return z;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);z+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);z+="; Domain="+D.domain}if(D.path){if(!i.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);z+="; Path="+D.path}if(D.expires){if(!E(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);z+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(z+="; HttpOnly"),D.secure&&(z+="; Secure"),D.partitioned&&(z+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return z}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function E(T){return o.call(T)==="[object Date]"}return Qa}$E();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oy="popstate";function qE(n={}){function e(i,o){let{pathname:l,search:c,hash:h}=i.location;return af("",{pathname:l,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:ol(o)}return WE(e,t,null,n)}function rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function sr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HE(){return Math.random().toString(36).substring(2,10)}function ay(n,e){return{usr:n.state,key:n.key,idx:e}}function af(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?$o(e):e,state:t,key:e&&e.key||i||HE()}}function ol({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function $o(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function WE(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,h="POP",p=null,y=v();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function v(){return(c.state||{idx:null}).idx}function E(){h="POP";let M=v(),z=M==null?null:M-y;y=M,p&&p({action:h,location:j.location,delta:z})}function T(M,z){h="PUSH";let G=af(j.location,M,z);y=v()+1;let ee=ay(G,y),ie=j.createHref(G);try{c.pushState(ee,"",ie)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(ie)}l&&p&&p({action:h,location:j.location,delta:1})}function b(M,z){h="REPLACE";let G=af(j.location,M,z);y=v();let ee=ay(G,y),ie=j.createHref(G);c.replaceState(ee,"",ie),l&&p&&p({action:h,location:j.location,delta:0})}function D(M){let z=o.location.origin!=="null"?o.location.origin:o.location.href,G=typeof M=="string"?M:ol(M);return G=G.replace(/ $/,"%20"),rt(z,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,z)}let j={get action(){return h},get location(){return n(o,c)},listen(M){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(oy,E),p=M,()=>{o.removeEventListener(oy,E),p=null}},createHref(M){return e(o,M)},createURL:D,encodeLocation(M){let z=D(M);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:b,go(M){return c.go(M)}};return j}function V_(n,e,t="/"){return GE(n,e,t,!1)}function GE(n,e,t,i){let o=typeof e=="string"?$o(e):e,l=Ai(o.pathname||"/",t);if(l==null)return null;let c=M_(n);KE(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let y=sT(l);h=rT(c[p],y,i)}return h}function M_(n,e=[],t=[],i=""){let o=(l,c,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=Or([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(rt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),M_(l.children,e,v,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:tT(y,l.index),routesMeta:v})};return n.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))o(l,c);else for(let p of F_(l.path))o(l,c,p)}),e}function F_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=F_(i.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function KE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:nT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var QE=/^:[\w-]+$/,XE=3,YE=2,JE=1,ZE=10,eT=-2,ly=n=>n==="*";function tT(n,e){let t=n.split("/"),i=t.length;return t.some(ly)&&(i+=eT),e&&(i+=YE),t.filter(o=>!ly(o)).reduce((o,l)=>o+(QE.test(l)?XE:l===""?JE:ZE),i)}function nT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function rT(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],y=h===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=yc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),T=p.route;if(!E&&y&&t&&!i[i.length-1].route.index&&(E=yc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Or([l,E.pathname]),pathnameBase:uT(Or([l,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(l=Or([l,E.pathnameBase]))}return c}function yc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=iT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:E},T)=>{if(v==="*"){let D=h[T]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const b=h[T];return E&&!b?y[v]=void 0:y[v]=(b||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:n}}function iT(n,e=!1,t=!0){sr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function sT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ai(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function oT(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?$o(n):n;return{pathname:t?t.startsWith("/")?t:aT(t,e):e,search:cT(i),hash:dT(o)}}function aT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function qh(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function j_(n){let e=lT(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function U_(n,e,t,i=!1){let o;typeof n=="string"?o=$o(n):(o={...n},rt(!o.pathname||!o.pathname.includes("?"),qh("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),qh("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),qh("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,h;if(c==null)h=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}h=E>=0?e[E]:"/"}let p=oT(o,h),y=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var Or=n=>n.join("/").replace(/\/\/+/g,"/"),uT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,dT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var z_=["POST","PUT","PATCH","DELETE"];new Set(z_);var fT=["GET",...z_];new Set(fT);var qo=C.createContext(null);qo.displayName="DataRouter";var Mc=C.createContext(null);Mc.displayName="DataRouterState";var B_=C.createContext({isTransitioning:!1});B_.displayName="ViewTransition";var pT=C.createContext(new Map);pT.displayName="Fetchers";var mT=C.createContext(null);mT.displayName="Await";var ur=C.createContext(null);ur.displayName="Navigation";var vl=C.createContext(null);vl.displayName="Location";var Br=C.createContext({outlet:null,matches:[],isDataRoute:!1});Br.displayName="Route";var jf=C.createContext(null);jf.displayName="RouteError";function gT(n,{relative:e}={}){rt(wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=C.useContext(ur),{hash:o,pathname:l,search:c}=El(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Or([t,l])),i.createHref({pathname:h,search:c,hash:o})}function wl(){return C.useContext(vl)!=null}function Ss(){return rt(wl(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(vl).location}var $_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function q_(n){C.useContext(ur).static||C.useLayoutEffect(n)}function Fc(){let{isDataRoute:n}=C.useContext(Br);return n?kT():yT()}function yT(){rt(wl(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(qo),{basename:e,navigator:t}=C.useContext(ur),{matches:i}=C.useContext(Br),{pathname:o}=Ss(),l=JSON.stringify(j_(i)),c=C.useRef(!1);return q_(()=>{c.current=!0}),C.useCallback((p,y={})=>{if(sr(c.current,$_),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=U_(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Or([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,l,o,n])}C.createContext(null);function El(n,{relative:e}={}){let{matches:t}=C.useContext(Br),{pathname:i}=Ss(),o=JSON.stringify(j_(t));return C.useMemo(()=>U_(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function _T(n,e){return H_(n,e)}function H_(n,e,t,i){var z;rt(wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=C.useContext(ur),{matches:l}=C.useContext(Br),c=l[l.length-1],h=c?c.params:{},p=c?c.pathname:"/",y=c?c.pathnameBase:"/",v=c&&c.route;{let G=v&&v.path||"";W_(p,!v||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let E=Ss(),T;if(e){let G=typeof e=="string"?$o(e):e;rt(y==="/"||((z=G.pathname)==null?void 0:z.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),T=G}else T=E;let b=T.pathname||"/",D=b;if(y!=="/"){let G=y.replace(/^\//,"").split("/");D="/"+b.replace(/^\//,"").split("/").slice(G.length).join("/")}let j=V_(n,{pathname:D});sr(v||j!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),sr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=IT(j&&j.map(G=>Object.assign({},G,{params:Object.assign({},h,G.params),pathname:Or([y,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:Or([y,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),l,t,i);return e&&M?C.createElement(vl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},M):M}function vT(){let n=CT(),e=hT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:l},"ErrorBoundary")," or"," ",C.createElement("code",{style:l},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:o},t):null,c)}var wT=C.createElement(vT,null),ET=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?C.createElement(Br.Provider,{value:this.props.routeContext},C.createElement(jf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TT({routeContext:n,match:e,children:t}){let i=C.useContext(qo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Br.Provider,{value:n},t)}function IT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,h=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=p),y.route.id){let{loaderData:v,errors:E}=t,T=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||T){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,y,v)=>{let E,T=!1,b=null,D=null;t&&(E=l&&y.route.id?l[y.route.id]:void 0,b=y.route.errorElement||wT,c&&(h<0&&v===0?(W_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,D=null):h===v&&(T=!0,D=y.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,v+1)),M=()=>{let z;return E?z=b:T?z=D:y.route.Component?z=C.createElement(y.route.Component,null):y.route.element?z=y.route.element:z=p,C.createElement(TT,{match:y,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:z})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?C.createElement(ET,{location:t.location,revalidation:t.revalidation,component:b,error:E,children:M(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):M()},null)}function Uf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ST(n){let e=C.useContext(qo);return rt(e,Uf(n)),e}function xT(n){let e=C.useContext(Mc);return rt(e,Uf(n)),e}function RT(n){let e=C.useContext(Br);return rt(e,Uf(n)),e}function zf(n){let e=RT(n),t=e.matches[e.matches.length-1];return rt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function AT(){return zf("useRouteId")}function CT(){var i;let n=C.useContext(jf),e=xT("useRouteError"),t=zf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function kT(){let{router:n}=ST("useNavigate"),e=zf("useNavigate"),t=C.useRef(!1);return q_(()=>{t.current=!0}),C.useCallback(async(o,l={})=>{sr(t.current,$_),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var uy={};function W_(n,e,t){!e&&!uy[n]&&(uy[n]=!0,sr(!1,t))}C.memo(PT);function PT({routes:n,future:e,state:t}){return H_(n,void 0,t,e)}function hs(n){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NT({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){rt(!wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=$o(t));let{pathname:p="/",search:y="",hash:v="",state:E=null,key:T="default"}=t,b=C.useMemo(()=>{let D=Ai(p,c);return D==null?null:{location:{pathname:D,search:y,hash:v,state:E,key:T},navigationType:i}},[c,p,y,v,E,T,i]);return sr(b!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:C.createElement(ur.Provider,{value:h},C.createElement(vl.Provider,{children:e,value:b}))}function bT({children:n,location:e}){return _T(lf(n),e)}function lf(n,e=[]){let t=[];return C.Children.forEach(n,(i,o)=>{if(!C.isValidElement(i))return;let l=[...e,o];if(i.type===C.Fragment){t.push.apply(t,lf(i.props.children,l));return}rt(i.type===hs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=lf(i.props.children,l)),t.push(c)}),t}var sc="get",oc="application/x-www-form-urlencoded";function jc(n){return n!=null&&typeof n.tagName=="string"}function DT(n){return jc(n)&&n.tagName.toLowerCase()==="button"}function LT(n){return jc(n)&&n.tagName.toLowerCase()==="form"}function OT(n){return jc(n)&&n.tagName.toLowerCase()==="input"}function VT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MT(n,e){return n.button===0&&(!e||e==="_self")&&!VT(n)}var Xu=null;function FT(){if(Xu===null)try{new FormData(document.createElement("form"),0),Xu=!1}catch{Xu=!0}return Xu}var jT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hh(n){return n!=null&&!jT.has(n)?(sr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oc}"`),null):n}function UT(n,e){let t,i,o,l,c;if(LT(n)){let h=n.getAttribute("action");i=h?Ai(h,e):null,t=n.getAttribute("method")||sc,o=Hh(n.getAttribute("enctype"))||oc,l=new FormData(n)}else if(DT(n)||OT(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(i=p?Ai(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||sc,o=Hh(n.getAttribute("formenctype"))||Hh(h.getAttribute("enctype"))||oc,l=new FormData(h,n),!FT()){let{name:y,type:v,value:E}=n;if(v==="image"){let T=y?`${y}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else y&&l.append(y,E)}}else{if(jc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sc,i=null,o=oc,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}function Bf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function zT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function $T(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await zT(l,t);return c.links?c.links():[]}return[]}));return GT(i.flat(1).filter(BT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function cy(n,e,t,i,o,l){let c=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,h=(p,y)=>{var v;return t[y].pathname!==p.pathname||((v=t[y].route.path)==null?void 0:v.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>c(p,y)||h(p,y)):l==="data"?e.filter((p,y)=>{var E;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,y)||h(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function qT(n,e){return HT(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function HT(n){return[...new Set(n)]}function WT(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function GT(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(WT(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function KT(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function QT(){let n=C.useContext(qo);return Bf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function XT(){let n=C.useContext(Mc);return Bf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var $f=C.createContext(void 0);$f.displayName="FrameworkContext";function G_(){let n=C.useContext($f);return Bf(n,"You must render this element inside a <HydratedRouter> element"),n}function YT(n,e){let t=C.useContext($f),[i,o]=C.useState(!1),[l,c]=C.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:E}=e,T=C.useRef(null);C.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let j=z=>{z.forEach(G=>{c(G.isIntersecting)})},M=new IntersectionObserver(j,{threshold:.5});return T.current&&M.observe(T.current),()=>{M.disconnect()}}},[n]),C.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let b=()=>{o(!0)},D=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:Xa(h,b),onBlur:Xa(p,D),onMouseEnter:Xa(y,b),onMouseLeave:Xa(v,D),onTouchStart:Xa(E,b)}]:[!1,T,{}]}function Xa(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function JT({page:n,...e}){let{router:t}=QT(),i=C.useMemo(()=>V_(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?C.createElement(eI,{page:n,matches:i,...e}):null}function ZT(n){let{manifest:e,routeModules:t}=G_(),[i,o]=C.useState([]);return C.useEffect(()=>{let l=!1;return $T(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),i}function eI({page:n,matches:e,...t}){let i=Ss(),{manifest:o,routeModules:l}=G_(),{loaderData:c,matches:h}=XT(),p=C.useMemo(()=>cy(n,e,h,o,i,"data"),[n,e,h,o,i]),y=C.useMemo(()=>cy(n,e,h,o,i,"assets"),[n,e,h,o,i]),v=C.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,D=!1;if(e.forEach(M=>{var G;let z=o.routes[M.route.id];!z||!z.hasLoader||(!p.some(ee=>ee.route.id===M.route.id)&&M.route.id in c&&((G=l[M.route.id])!=null&&G.shouldRevalidate)||z.hasClientLoader?D=!0:b.add(M.route.id))}),b.size===0)return[];let j=KT(n);return D&&b.size>0&&j.searchParams.set("_routes",e.filter(M=>b.has(M.route.id)).map(M=>M.route.id).join(",")),[j.pathname+j.search]},[c,i,o,p,e,n,l]),E=C.useMemo(()=>qT(y,o),[y,o]),T=ZT(y);return C.createElement(C.Fragment,null,v.map(b=>C.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),E.map(b=>C.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),T.map(({key:b,link:D})=>C.createElement("link",{key:b,...D})))}function tI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var K_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{K_&&(window.__reactRouterVersion="7.1.3")}catch{}function nI({basename:n,children:e,window:t}){let i=C.useRef();i.current==null&&(i.current=qE({window:t,v5Compat:!0}));let o=i.current,[l,c]=C.useState({action:o.action,location:o.location}),h=C.useCallback(p=>{C.startTransition(()=>c(p))},[c]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.createElement(NT,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var Q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X_=C.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:h,target:p,to:y,preventScrollReset:v,viewTransition:E,...T},b){let{basename:D}=C.useContext(ur),j=typeof y=="string"&&Q_.test(y),M,z=!1;if(typeof y=="string"&&j&&(M=y,K_))try{let R=new URL(window.location.href),P=y.startsWith("//")?new URL(R.protocol+y):new URL(y),N=Ai(P.pathname,D);P.origin===R.origin&&N!=null?y=N+P.search+P.hash:z=!0}catch{sr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=gT(y,{relative:o}),[ee,ie,me]=YT(i,T),ue=oI(y,{replace:c,state:h,target:p,preventScrollReset:v,relative:o,viewTransition:E});function L(R){e&&e(R),R.defaultPrevented||ue(R)}let x=C.createElement("a",{...T,...me,href:M||G,onClick:z||l?e:L,ref:tI(b,ie),target:p,"data-discover":!j&&t==="render"?"true":void 0});return ee&&!j?C.createElement(C.Fragment,null,x,C.createElement(JT,{page:G})):x});X_.displayName="Link";var rI=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:h,children:p,...y},v){let E=El(c,{relative:y.relative}),T=Ss(),b=C.useContext(Mc),{navigator:D,basename:j}=C.useContext(ur),M=b!=null&&dI(E)&&h===!0,z=D.encodeLocation?D.encodeLocation(E).pathname:E.pathname,G=T.pathname,ee=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(G=G.toLowerCase(),ee=ee?ee.toLowerCase():null,z=z.toLowerCase()),ee&&j&&(ee=Ai(ee,j)||ee);const ie=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let me=G===z||!o&&G.startsWith(z)&&G.charAt(ie)==="/",ue=ee!=null&&(ee===z||!o&&ee.startsWith(z)&&ee.charAt(z.length)==="/"),L={isActive:me,isPending:ue,isTransitioning:M},x=me?e:void 0,R;typeof i=="function"?R=i(L):R=[i,me?"active":null,ue?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(L):l;return C.createElement(X_,{...y,"aria-current":x,className:R,ref:v,style:P,to:c,viewTransition:h},typeof p=="function"?p(L):p)});rI.displayName="NavLink";var iI=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=sc,action:h,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:E,...T},b)=>{let D=uI(),j=cI(h,{relative:y}),M=c.toLowerCase()==="get"?"get":"post",z=typeof h=="string"&&Q_.test(h),G=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let ie=ee.nativeEvent.submitter,me=(ie==null?void 0:ie.getAttribute("formmethod"))||c;D(ie||ee.currentTarget,{fetcherKey:e,method:me,navigate:t,replace:o,state:l,relative:y,preventScrollReset:v,viewTransition:E})};return C.createElement("form",{ref:b,method:M,action:j,onSubmit:i?p:G,...T,"data-discover":!z&&n==="render"?"true":void 0})});iI.displayName="Form";function sI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y_(n){let e=C.useContext(qo);return rt(e,sI(n)),e}function oI(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let h=Fc(),p=Ss(),y=El(n,{relative:l});return C.useCallback(v=>{if(MT(v,e)){v.preventDefault();let E=t!==void 0?t:ol(p)===ol(y);h(n,{replace:E,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[p,h,y,t,i,e,n,o,l,c])}var aI=0,lI=()=>`__${String(++aI)}__`;function uI(){let{router:n}=Y_("useSubmit"),{basename:e}=C.useContext(ur),t=AT();return C.useCallback(async(i,o={})=>{let{action:l,method:c,encType:h,formData:p,body:y}=UT(i,e);if(o.navigate===!1){let v=o.fetcherKey||lI();await n.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function cI(n,{relative:e}={}){let{basename:t}=C.useContext(ur),i=C.useContext(Br);rt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...El(n||".",{relative:e})},c=Ss();if(n==null){l.search=c.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(v=>v==="")){h.delete("index"),p.filter(E=>E).forEach(E=>h.append("index",E));let v=h.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Or([t,l.pathname])),ol(l)}function dI(n,e={}){let t=C.useContext(B_);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Y_("useViewTransitionState"),o=El(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ai(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Ai(t.nextLocation.pathname,i)||t.nextLocation.pathname;return yc(o.pathname,c)!=null||yc(o.pathname,l)!=null}new TextEncoder;var hI=O_(),dy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},fI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],h=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Z_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,h=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,v=l>>2,E=(l&3)<<4|h>>4;let T=(h&15)<<2|y>>6,b=y&63;p||(b=64,c||(T=64)),i.push(t[v],t[E],t[T],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(J_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||h==null||y==null||E==null)throw new pI;const T=l<<2|h>>4;if(i.push(T),y!==64){const b=h<<4&240|y>>2;if(i.push(b),E!==64){const D=y<<6&192|E;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class pI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mI=function(n){const e=J_(n);return Z_.encodeByteArray(e,!0)},_c=function(n){return mI(n).replace(/\./g,"")},ev=function(n){try{return Z_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=()=>gI().__FIREBASE_DEFAULTS__,_I=()=>{if(typeof process>"u"||typeof dy>"u")return;const n=dy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ev(n[1]);return e&&JSON.parse(e)},Uc=()=>{try{return yI()||_I()||vI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},tv=n=>{var e,t;return(t=(e=Uc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},wI=n=>{const e=tv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},nv=()=>{var n;return(n=Uc())===null||n===void 0?void 0:n.config},rv=n=>{var e;return(e=Uc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[_c(JSON.stringify(t)),_c(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function II(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function SI(){var n;const e=(n=Uc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function AI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CI(){const n=$t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kI(){return!SI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PI(){try{return typeof indexedDB=="object"}catch{return!1}}function NI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="FirebaseError";class $r extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=bI,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tl.prototype.create)}}class Tl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?DI(l,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new $r(o,h,i)}}function DI(n,e){return n.replace(LI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const LI=/\{\$([^}]+)}/g;function OI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function vc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(hy(l)&&hy(c)){if(!vc(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function hy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function VI(n,e){const t=new MI(n,e);return t.subscribe.bind(t)}class MI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");FI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Wh),o.error===void 0&&(o.error=Wh),o.complete===void 0&&(o.complete=Wh);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(n){return n&&n._delegate?n._delegate:n}class _s{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new EI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zI(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:UI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UI(n){return n===fs?void 0:n}function zI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const $I={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},qI=Ne.INFO,HI={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},WI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=HI[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qf{constructor(e){this.name=e,this._logLevel=qI,this._logHandler=WI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$I[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const GI=(n,e)=>e.some(t=>n instanceof t);let fy,py;function KI(){return fy||(fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QI(){return py||(py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iv=new WeakMap,uf=new WeakMap,sv=new WeakMap,Gh=new WeakMap,Hf=new WeakMap;function XI(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ei(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&iv.set(t,n)}).catch(()=>{}),Hf.set(e,n),e}function YI(n){if(uf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});uf.set(n,e)}let cf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return uf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||sv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ei(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function JI(n){cf=n(cf)}function ZI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Kh(this),e,...t);return sv.set(i,e.sort?e.sort():[e]),Ei(i)}:QI().includes(n)?function(...e){return n.apply(Kh(this),e),Ei(iv.get(this))}:function(...e){return Ei(n.apply(Kh(this),e))}}function e1(n){return typeof n=="function"?ZI(n):(n instanceof IDBTransaction&&YI(n),GI(n,KI())?new Proxy(n,cf):n)}function Ei(n){if(n instanceof IDBRequest)return XI(n);if(Gh.has(n))return Gh.get(n);const e=e1(n);return e!==n&&(Gh.set(n,e),Hf.set(e,n)),e}const Kh=n=>Hf.get(n);function t1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),h=Ei(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ei(c.result),p.oldVersion,p.newVersion,Ei(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const n1=["get","getKey","getAll","getAllKeys","count"],r1=["put","add","delete","clear"],Qh=new Map;function my(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Qh.get(e))return Qh.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=r1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||n1.includes(t)))return;const l=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(h.shift())),(await Promise.all([y[t](...h),o&&p.done]))[0]};return Qh.set(e,l),l}JI(n=>({...n,get:(e,t,i)=>my(e,t)||n.get(e,t,i),has:(e,t)=>!!my(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(s1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function s1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const df="@firebase/app",gy="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new qf("@firebase/app"),o1="@firebase/app-compat",a1="@firebase/analytics-compat",l1="@firebase/analytics",u1="@firebase/app-check-compat",c1="@firebase/app-check",d1="@firebase/auth",h1="@firebase/auth-compat",f1="@firebase/database",p1="@firebase/data-connect",m1="@firebase/database-compat",g1="@firebase/functions",y1="@firebase/functions-compat",_1="@firebase/installations",v1="@firebase/installations-compat",w1="@firebase/messaging",E1="@firebase/messaging-compat",T1="@firebase/performance",I1="@firebase/performance-compat",S1="@firebase/remote-config",x1="@firebase/remote-config-compat",R1="@firebase/storage",A1="@firebase/storage-compat",C1="@firebase/firestore",k1="@firebase/vertexai",P1="@firebase/firestore-compat",N1="firebase",b1="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="[DEFAULT]",D1={[df]:"fire-core",[o1]:"fire-core-compat",[l1]:"fire-analytics",[a1]:"fire-analytics-compat",[c1]:"fire-app-check",[u1]:"fire-app-check-compat",[d1]:"fire-auth",[h1]:"fire-auth-compat",[f1]:"fire-rtdb",[p1]:"fire-data-connect",[m1]:"fire-rtdb-compat",[g1]:"fire-fn",[y1]:"fire-fn-compat",[_1]:"fire-iid",[v1]:"fire-iid-compat",[w1]:"fire-fcm",[E1]:"fire-fcm-compat",[T1]:"fire-perf",[I1]:"fire-perf-compat",[S1]:"fire-rc",[x1]:"fire-rc-compat",[R1]:"fire-gcs",[A1]:"fire-gcs-compat",[C1]:"fire-fst",[P1]:"fire-fst-compat",[k1]:"fire-vertex","fire-js":"fire-js",[N1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map,L1=new Map,ff=new Map;function yy(n,e){try{n.container.addComponent(e)}catch(t){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ko(n){const e=n.name;if(ff.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;ff.set(e,n);for(const t of wc.values())yy(t,n);for(const t of L1.values())yy(t,n);return!0}function Wf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function kr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new Tl("app","Firebase",O1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=b1;function ov(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:hf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Ti.create("bad-app-name",{appName:String(o)});if(t||(t=nv()),!t)throw Ti.create("no-options");const l=wc.get(o);if(l){if(vc(t,l.options)&&vc(i,l.config))return l;throw Ti.create("duplicate-app",{appName:o})}const c=new BI(o);for(const p of ff.values())c.addComponent(p);const h=new V1(t,i,c);return wc.set(o,h),h}function av(n=hf){const e=wc.get(n);if(!e&&n===hf&&nv())return ov();if(!e)throw Ti.create("no-app",{appName:n});return e}function Ii(n,e,t){var i;let o=(i=D1[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${o}" with version "${e}":`];l&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(h.join(" "));return}ko(new _s(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="firebase-heartbeat-database",F1=1,al="firebase-heartbeat-store";let Xh=null;function lv(){return Xh||(Xh=t1(M1,F1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(al)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ti.create("idb-open",{originalErrorMessage:n.message})})),Xh}async function j1(n){try{const t=(await lv()).transaction(al),i=await t.objectStore(al).get(uv(n));return await t.done,i}catch(e){if(e instanceof $r)Fr.warn(e.message);else{const t=Ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(t.message)}}}async function _y(n,e){try{const i=(await lv()).transaction(al,"readwrite");await i.objectStore(al).put(e,uv(n)),await i.done}catch(t){if(t instanceof $r)Fr.warn(t.message);else{const i=Ti.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fr.warn(i.message)}}}function uv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=1024,z1=30*24*60*60*1e3;class B1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new q1(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=vy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=z1}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Fr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vy(),{heartbeatsToSend:i,unsentEntries:o}=$1(this._heartbeatsCache.heartbeats),l=_c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Fr.warn(t),""}}}function vy(){return new Date().toISOString().substring(0,10)}function $1(n,e=U1){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),wy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),wy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class q1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PI()?NI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await j1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return _y(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return _y(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function wy(n){return _c(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(n){ko(new _s("platform-logger",e=>new i1(e),"PRIVATE")),ko(new _s("heartbeat",e=>new B1(e),"PRIVATE")),Ii(df,gy,n),Ii(df,gy,"esm2017"),Ii("fire-js","")}H1("");var W1="firebase",G1="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(W1,G1,"app");function Gf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function cv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K1=cv,dv=new Tl("auth","Firebase",cv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new qf("@firebase/auth");function Q1(n,...e){Ec.logLevel<=Ne.WARN&&Ec.warn(`Auth (${Ho}): ${n}`,...e)}function ac(n,...e){Ec.logLevel<=Ne.ERROR&&Ec.error(`Auth (${Ho}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(n,...e){throw Qf(n,...e)}function Un(n,...e){return Qf(n,...e)}function Kf(n,e,t){const i=Object.assign(Object.assign({},K1()),{[e]:t});return new Tl("auth","Firebase",i).create(e,{appName:n.name})}function ys(n){return Kf(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function X1(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&or(n,"argument-error"),Kf(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qf(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return dv.create(n,...e)}function Ie(n,e,...t){if(!n)throw Qf(e,...t)}function Pr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ac(e),new Error(e)}function jr(n,e){n||Pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Y1(){return Ey()==="http:"||Ey()==="https:"}function Ey(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y1()||RI()||"connection"in navigator)?navigator.onLine:!0}function Z1(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t){this.shortDelay=e,this.longDelay=t,jr(t>e,"Short delay should be less than long delay!"),this.isMobile=II()||AI()}get(){return J1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(n,e){jr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=new Sl(3e4,6e4);function Yf(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Wo(n,e,t,i,o={}){return fv(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Il(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return xI()||(y.referrerPolicy="no-referrer"),hv.fetch()(pv(n,n.config.apiHost,t,h),y)})}async function fv(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},eS),e);try{const o=new rS(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Yu(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[p,y]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yu(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Yu(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Yu(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Kf(n,v,y);or(n,v)}}catch(o){if(o instanceof $r)throw o;or(n,"network-request-failed",{message:String(o)})}}async function nS(n,e,t,i,o={}){const l=await Wo(n,e,t,i,o);return"mfaPendingCredential"in l&&or(n,"multi-factor-auth-required",{_serverResponse:l}),l}function pv(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Xf(n.config,o):`${n.config.apiScheme}://${o}`}class rS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Un(this.auth,"network-request-failed")),tS.get())})}}function Yu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Un(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iS(n,e){return Wo(n,"POST","/v1/accounts:delete",e)}async function mv(n,e){return Wo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sS(n,e=!1){const t=Lt(n),i=await t.getIdToken(e),o=Jf(i);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:tl(Yh(o.auth_time)),issuedAtTime:tl(Yh(o.iat)),expirationTime:tl(Yh(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Yh(n){return Number(n)*1e3}function Jf(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ac("JWT malformed, contained fewer than 3 sections"),null;try{const o=ev(t);return o?JSON.parse(o):(ac("Failed to decode base64 JWT payload"),null)}catch(o){return ac("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Ty(n){const e=Jf(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof $r&&oS(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function oS({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await ll(n,mv(t,{idToken:i}));Ie(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?gv(l.providerUserInfo):[],h=uS(n.providerData,c),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(h!=null&&h.length),v=p?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new mf(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function lS(n){const e=Lt(n);await Tc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uS(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function gv(n){return n.map(e=>{var{providerId:t}=e,i=Gf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(n,e){const t=await fv(n,{},async()=>{const i=Il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=pv(n,o,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",hv.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function dS(n,e){return Wo(n,"POST","/v2/accounts:revokeToken",Yf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ty(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=Ty(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await cS(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new So;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ie(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ie(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Nr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Gf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await ll(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return sS(this,e)}reload(){return lS(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Tc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kr(this.auth.app))return Promise.reject(ys(this.auth));const e=await this.getIdToken();return await ll(this,iS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,h,p,y,v;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,b=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,D=(c=t.photoURL)!==null&&c!==void 0?c:void 0,j=(h=t.tenantId)!==null&&h!==void 0?h:void 0,M=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,z=(y=t.createdAt)!==null&&y!==void 0?y:void 0,G=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ee,emailVerified:ie,isAnonymous:me,providerData:ue,stsTokenManager:L}=t;Ie(ee&&L,e,"internal-error");const x=So.fromJSON(this.name,L);Ie(typeof ee=="string",e,"internal-error"),mi(E,e.name),mi(T,e.name),Ie(typeof ie=="boolean",e,"internal-error"),Ie(typeof me=="boolean",e,"internal-error"),mi(b,e.name),mi(D,e.name),mi(j,e.name),mi(M,e.name),mi(z,e.name),mi(G,e.name);const R=new Nr({uid:ee,auth:e,email:T,emailVerified:ie,displayName:E,isAnonymous:me,photoURL:D,phoneNumber:b,tenantId:j,stsTokenManager:x,createdAt:z,lastLoginAt:G});return ue&&Array.isArray(ue)&&(R.providerData=ue.map(P=>Object.assign({},P))),M&&(R._redirectEventId=M),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new So;o.updateFromServerResponse(t);const l=new Nr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Tc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?gv(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),h=new So;h.updateFromIdToken(i);const p=new Nr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new mf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=new Map;function br(n){jr(n instanceof Function,"Expected a class definition");let e=Iy.get(n);return e?(jr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Iy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yv.type="NONE";const Sy=yv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(n,e,t){return`firebase:${n}:${e}:${t}`}class xo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=lc(this.userKey,o.apiKey,l),this.fullPersistenceKey=lc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Nr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new xo(br(Sy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||br(Sy);const c=lc(i,e.config.apiKey,e.name);let h=null;for(const y of t)try{const v=await y._get(c);if(v){const E=Nr._fromJSON(e,v);y!==l&&(h=E),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new xo(l,e,i):(l=p[0],h&&await l._set(c,h.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new xo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ev(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_v(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Iv(e))return"Blackberry";if(Sv(e))return"Webos";if(vv(e))return"Safari";if((e.includes("chrome/")||wv(e))&&!e.includes("edge/"))return"Chrome";if(Tv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function _v(n=$t()){return/firefox\//i.test(n)}function vv(n=$t()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wv(n=$t()){return/crios\//i.test(n)}function Ev(n=$t()){return/iemobile/i.test(n)}function Tv(n=$t()){return/android/i.test(n)}function Iv(n=$t()){return/blackberry/i.test(n)}function Sv(n=$t()){return/webos/i.test(n)}function Zf(n=$t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hS(n=$t()){var e;return Zf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fS(){return CI()&&document.documentMode===10}function xv(n=$t()){return Zf(n)||Tv(n)||Sv(n)||Iv(n)||/windows phone/i.test(n)||Ev(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(n,e=[]){let t;switch(n){case"Browser":t=xy($t());break;case"Worker":t=`${xy($t())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ho}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,h)=>{try{const p=e(l);c(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mS(n,e={}){return Wo(n,"GET","/v2/passwordPolicy",Yf(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=6;class yS{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:gS,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ry(this),this.idTokenSubscription=new Ry(this),this.beforeStateQueue=new pS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=br(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mv(this,{idToken:e}),i=await Nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(kr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Tc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kr(this.app))return Promise.reject(ys(this));const t=e?Lt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kr(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kr(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mS(this),t=new yS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await dS(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&br(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[br(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Q1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function zc(n){return Lt(n)}class Ry{constructor(e){this.auth=e,this.observer=null,this.addObserver=VI(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vS(n){ep=n}function wS(n){return ep.loadJS(n)}function ES(){return ep.gapiScript}function TS(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(n,e){const t=Wf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(vc(l,e??{}))return o;or(o,"already-initialized")}return t.initialize({options:e})}function SS(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(br);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function xS(n,e,t){const i=zc(n);Ie(i._canInitEmulator,i,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=Av(e),{host:c,port:h}=RS(e),p=h===null?"":`:${h}`;i.config.emulator={url:`${l}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),AS()}function Av(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function RS(n){const e=Av(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Ay(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Ay(c)}}}function Ay(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function AS(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,t){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(n,e){return nS(n,"POST","/v1/accounts:signInWithIdp",Yf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="http://localhost";class vs extends Cv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Gf(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new vs(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ro(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ro(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ro(e,t)}buildRequest(){const e={requestUri:CS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Il(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends tp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends xl{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return vs._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Cr.credential(t,i)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends xl{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends xl{constructor(){super("twitter.com")}static credential(e,t){return vs._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return vi.credential(t,i)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Nr._fromIdTokenResponse(e,i,o),c=Cy(i);return new Po({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Cy(i);return new Po({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Cy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends $r{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Ic.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Ic(e,t,i,o)}}function kv(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ic._fromErrorAndOperation(n,l,e,i):l})}async function kS(n,e,t=!1){const i=await ll(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Po._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PS(n,e,t=!1){const{auth:i}=n;if(kr(i.app))return Promise.reject(ys(i));const o="reauthenticate";try{const l=await ll(n,kv(i,o,e,n),t);Ie(l.idToken,i,"internal-error");const c=Jf(l.idToken);Ie(c,i,"internal-error");const{sub:h}=c;return Ie(n.uid===h,i,"user-mismatch"),Po._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&or(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(n,e,t=!1){if(kr(n.app))return Promise.reject(ys(n));const i="signIn",o=await kv(n,i,e),l=await Po._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function bS(n,e,t,i){return Lt(n).onIdTokenChanged(e,t,i)}function DS(n,e,t){return Lt(n).beforeAuthStateChanged(e,t)}function LS(n,e,t,i){return Lt(n).onAuthStateChanged(e,t,i)}const Sc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sc,"1"),this.storage.removeItem(Sc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=1e3,VS=10;class Nv extends Pv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);fS()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,VS):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},OS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nv.type="LOCAL";const MS=Nv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv extends Pv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bv.type="SESSION";const Dv=bv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Bc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async y=>y(t.origin,l)),p=await FS(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((h,p)=>{const y=np("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function US(n){er().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function zS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BS(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function $S(){return Lv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="firebaseLocalStorageDb",qS=1,xc="firebaseLocalStorage",Vv="fbase_key";class Rl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $c(n,e){return n.transaction([xc],e?"readwrite":"readonly").objectStore(xc)}function HS(){const n=indexedDB.deleteDatabase(Ov);return new Rl(n).toPromise()}function gf(){const n=indexedDB.open(Ov,qS);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(xc,{keyPath:Vv})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(xc)?e(i):(i.close(),await HS(),e(await gf()))})})}async function ky(n,e,t){const i=$c(n,!0).put({[Vv]:e,value:t});return new Rl(i).toPromise()}async function WS(n,e){const t=$c(n,!1).get(e),i=await new Rl(t).toPromise();return i===void 0?null:i.value}function Py(n,e){const t=$c(n,!0).delete(e);return new Rl(t).toPromise()}const GS=800,KS=3;class Mv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>KS)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bc._getInstance($S()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await zS(),!this.activeServiceWorker)return;this.sender=new jS(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gf();return await ky(e,Sc,"1"),await Py(e,Sc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ky(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>WS(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Py(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=$c(o,!1).getAll();return new Rl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mv.type="LOCAL";const QS=Mv;new Sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(n,e){return e?br(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends Cv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ro(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function XS(n){return NS(n.auth,new rp(n),n.bypassAuthState)}function YS(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),PS(t,new rp(n),n.bypassAuthState)}async function JS(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),kS(t,new rp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XS;case"linkViaPopup":case"linkViaRedirect":return JS;case"reauthViaPopup":case"reauthViaRedirect":return YS;default:or(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=new Sl(2e3,1e4);async function ex(n,e,t){if(kr(n.app))return Promise.reject(Un(n,"operation-not-supported-in-this-environment"));const i=zc(n);X1(n,e,tp);const o=Fv(i,t);return new ps(i,"signInViaPopup",e,o).executeNotNull()}class ps extends jv{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,ps.currentPopupAction&&ps.currentPopupAction.cancel(),ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZS.get())};e()}}ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="pendingRedirect",uc=new Map;class nx extends jv{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=uc.get(this.auth._key());if(!e){try{const i=await rx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}uc.set(this.auth._key(),e)}return this.bypassAuthState||uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rx(n,e){const t=ox(e),i=sx(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function ix(n,e){uc.set(n._key(),e)}function sx(n){return br(n._redirectPersistence)}function ox(n){return lc(tx,n.config.apiKey,n.name)}async function ax(n,e,t=!1){if(kr(n.app))return Promise.reject(ys(n));const i=zc(n),o=Fv(i,e),c=await new nx(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=10*60*1e3;class ux{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Uv(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Un(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ny(e))}saveEventToCache(e){this.cachedEventUids.add(Ny(e)),this.lastProcessedEventTime=Date.now()}}function Ny(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Uv({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uv(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(n,e={}){return Wo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fx=/^https?/;async function px(n){if(n.config.emulator)return;const{authorizedDomains:e}=await dx(n);for(const t of e)try{if(mx(t))return}catch{}or(n,"unauthorized-domain")}function mx(n){const e=pf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!fx.test(t))return!1;if(hx.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new Sl(3e4,6e4);function by(){const n=er().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function yx(n){return new Promise((e,t)=>{var i,o,l;function c(){by(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{by(),t(Un(n,"network-request-failed"))},timeout:gx.get()})}if(!((o=(i=er().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=er().gapi)===null||l===void 0)&&l.load)c();else{const h=TS("iframefcb");return er()[h]=()=>{gapi.load?c():t(Un(n,"network-request-failed"))},wS(`${ES()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw cc=null,e})}let cc=null;function _x(n){return cc=cc||yx(n),cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new Sl(5e3,15e3),wx="__/auth/iframe",Ex="emulator/auth/iframe",Tx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ix=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sx(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Xf(e,Ex):`https://${n.config.authDomain}/${wx}`,i={apiKey:e.apiKey,appName:n.name,v:Ho},o=Ix.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Il(i).slice(1)}`}async function xx(n){const e=await _x(n),t=er().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:Sx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tx,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=Un(n,"network-request-failed"),h=er().setTimeout(()=>{l(c)},vx.get());function p(){er().clearTimeout(h),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ax=500,Cx=600,kx="_blank",Px="http://localhost";class Dy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Nx(n,e,t,i=Ax,o=Cx){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p=Object.assign(Object.assign({},Rx),{width:i.toString(),height:o.toString(),top:l,left:c}),y=$t().toLowerCase();t&&(h=wv(y)?kx:t),_v(y)&&(e=e||Px,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[b,D])=>`${T}${b}=${D},`,"");if(hS(y)&&h!=="_self")return bx(e||"",h),new Dy(null);const E=window.open(e||"",h,v);Ie(E,n,"popup-blocked");try{E.focus()}catch{}return new Dy(E)}function bx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="__/auth/handler",Lx="emulator/auth/handler",Ox=encodeURIComponent("fac");async function Ly(n,e,t,i,o,l){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ho,eventId:o};if(e instanceof tp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",OI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof xl){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const p=await n._getAppCheckToken(),y=p?`#${Ox}=${encodeURIComponent(p)}`:"";return`${Vx(n)}?${Il(h).slice(1)}${y}`}function Vx({config:n}){return n.emulator?Xf(n,Lx):`https://${n.authDomain}/${Dx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="webStorageSupport";class Mx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dv,this._completeRedirectFn=ax,this._overrideRedirectResult=ix}async _openPopup(e,t,i,o){var l;jr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Ly(e,t,i,pf(),o);return Nx(e,c,np())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Ly(e,t,i,pf(),o);return US(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(jr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await xx(e),i=new ux(e);return t.register("authEvent",o=>(Ie(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jh,{type:Jh},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Jh];c!==void 0&&t(!!c),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=px(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xv()||vv()||Zf()}}const Fx=Mx;var Oy="@firebase/auth",Vy="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zx(n){ko(new _s("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rv(n)},y=new _S(i,o,l,p);return SS(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ko(new _s("auth-internal",e=>{const t=zc(e.getProvider("auth").getImmediate());return(i=>new jx(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(Oy,Vy,Ux(n)),Ii(Oy,Vy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=5*60,$x=rv("authIdTokenMaxAge")||Bx;let My=null;const qx=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>$x)return;const o=t==null?void 0:t.token;My!==o&&(My=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Hx(n=av()){const e=Wf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=IS(n,{popupRedirectResolver:Fx,persistence:[QS,MS,Dv]}),i=rv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=qx(l.toString());DS(t,c,()=>c(t.currentUser)),bS(t,h=>c(h))}}const o=tv("auth");return o&&xS(t,`http://${o}`),t}function Wx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vS({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=Un("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",Wx().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zx("Browser");var Fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Si,zv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,x){function R(){}R.prototype=x.prototype,L.D=x.prototype,L.prototype=new R,L.prototype.constructor=L,L.C=function(P,N,F){for(var k=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)k[Pe-2]=arguments[Pe];return x.prototype[N].apply(P,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(L,x,R){R||(R=0);var P=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)P[N]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(N=0;16>N;++N)P[N]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=L.g[0],R=L.g[1],N=L.g[2];var F=L.g[3],k=x+(F^R&(N^F))+P[0]+3614090360&4294967295;x=R+(k<<7&4294967295|k>>>25),k=F+(N^x&(R^N))+P[1]+3905402710&4294967295,F=x+(k<<12&4294967295|k>>>20),k=N+(R^F&(x^R))+P[2]+606105819&4294967295,N=F+(k<<17&4294967295|k>>>15),k=R+(x^N&(F^x))+P[3]+3250441966&4294967295,R=N+(k<<22&4294967295|k>>>10),k=x+(F^R&(N^F))+P[4]+4118548399&4294967295,x=R+(k<<7&4294967295|k>>>25),k=F+(N^x&(R^N))+P[5]+1200080426&4294967295,F=x+(k<<12&4294967295|k>>>20),k=N+(R^F&(x^R))+P[6]+2821735955&4294967295,N=F+(k<<17&4294967295|k>>>15),k=R+(x^N&(F^x))+P[7]+4249261313&4294967295,R=N+(k<<22&4294967295|k>>>10),k=x+(F^R&(N^F))+P[8]+1770035416&4294967295,x=R+(k<<7&4294967295|k>>>25),k=F+(N^x&(R^N))+P[9]+2336552879&4294967295,F=x+(k<<12&4294967295|k>>>20),k=N+(R^F&(x^R))+P[10]+4294925233&4294967295,N=F+(k<<17&4294967295|k>>>15),k=R+(x^N&(F^x))+P[11]+2304563134&4294967295,R=N+(k<<22&4294967295|k>>>10),k=x+(F^R&(N^F))+P[12]+1804603682&4294967295,x=R+(k<<7&4294967295|k>>>25),k=F+(N^x&(R^N))+P[13]+4254626195&4294967295,F=x+(k<<12&4294967295|k>>>20),k=N+(R^F&(x^R))+P[14]+2792965006&4294967295,N=F+(k<<17&4294967295|k>>>15),k=R+(x^N&(F^x))+P[15]+1236535329&4294967295,R=N+(k<<22&4294967295|k>>>10),k=x+(N^F&(R^N))+P[1]+4129170786&4294967295,x=R+(k<<5&4294967295|k>>>27),k=F+(R^N&(x^R))+P[6]+3225465664&4294967295,F=x+(k<<9&4294967295|k>>>23),k=N+(x^R&(F^x))+P[11]+643717713&4294967295,N=F+(k<<14&4294967295|k>>>18),k=R+(F^x&(N^F))+P[0]+3921069994&4294967295,R=N+(k<<20&4294967295|k>>>12),k=x+(N^F&(R^N))+P[5]+3593408605&4294967295,x=R+(k<<5&4294967295|k>>>27),k=F+(R^N&(x^R))+P[10]+38016083&4294967295,F=x+(k<<9&4294967295|k>>>23),k=N+(x^R&(F^x))+P[15]+3634488961&4294967295,N=F+(k<<14&4294967295|k>>>18),k=R+(F^x&(N^F))+P[4]+3889429448&4294967295,R=N+(k<<20&4294967295|k>>>12),k=x+(N^F&(R^N))+P[9]+568446438&4294967295,x=R+(k<<5&4294967295|k>>>27),k=F+(R^N&(x^R))+P[14]+3275163606&4294967295,F=x+(k<<9&4294967295|k>>>23),k=N+(x^R&(F^x))+P[3]+4107603335&4294967295,N=F+(k<<14&4294967295|k>>>18),k=R+(F^x&(N^F))+P[8]+1163531501&4294967295,R=N+(k<<20&4294967295|k>>>12),k=x+(N^F&(R^N))+P[13]+2850285829&4294967295,x=R+(k<<5&4294967295|k>>>27),k=F+(R^N&(x^R))+P[2]+4243563512&4294967295,F=x+(k<<9&4294967295|k>>>23),k=N+(x^R&(F^x))+P[7]+1735328473&4294967295,N=F+(k<<14&4294967295|k>>>18),k=R+(F^x&(N^F))+P[12]+2368359562&4294967295,R=N+(k<<20&4294967295|k>>>12),k=x+(R^N^F)+P[5]+4294588738&4294967295,x=R+(k<<4&4294967295|k>>>28),k=F+(x^R^N)+P[8]+2272392833&4294967295,F=x+(k<<11&4294967295|k>>>21),k=N+(F^x^R)+P[11]+1839030562&4294967295,N=F+(k<<16&4294967295|k>>>16),k=R+(N^F^x)+P[14]+4259657740&4294967295,R=N+(k<<23&4294967295|k>>>9),k=x+(R^N^F)+P[1]+2763975236&4294967295,x=R+(k<<4&4294967295|k>>>28),k=F+(x^R^N)+P[4]+1272893353&4294967295,F=x+(k<<11&4294967295|k>>>21),k=N+(F^x^R)+P[7]+4139469664&4294967295,N=F+(k<<16&4294967295|k>>>16),k=R+(N^F^x)+P[10]+3200236656&4294967295,R=N+(k<<23&4294967295|k>>>9),k=x+(R^N^F)+P[13]+681279174&4294967295,x=R+(k<<4&4294967295|k>>>28),k=F+(x^R^N)+P[0]+3936430074&4294967295,F=x+(k<<11&4294967295|k>>>21),k=N+(F^x^R)+P[3]+3572445317&4294967295,N=F+(k<<16&4294967295|k>>>16),k=R+(N^F^x)+P[6]+76029189&4294967295,R=N+(k<<23&4294967295|k>>>9),k=x+(R^N^F)+P[9]+3654602809&4294967295,x=R+(k<<4&4294967295|k>>>28),k=F+(x^R^N)+P[12]+3873151461&4294967295,F=x+(k<<11&4294967295|k>>>21),k=N+(F^x^R)+P[15]+530742520&4294967295,N=F+(k<<16&4294967295|k>>>16),k=R+(N^F^x)+P[2]+3299628645&4294967295,R=N+(k<<23&4294967295|k>>>9),k=x+(N^(R|~F))+P[0]+4096336452&4294967295,x=R+(k<<6&4294967295|k>>>26),k=F+(R^(x|~N))+P[7]+1126891415&4294967295,F=x+(k<<10&4294967295|k>>>22),k=N+(x^(F|~R))+P[14]+2878612391&4294967295,N=F+(k<<15&4294967295|k>>>17),k=R+(F^(N|~x))+P[5]+4237533241&4294967295,R=N+(k<<21&4294967295|k>>>11),k=x+(N^(R|~F))+P[12]+1700485571&4294967295,x=R+(k<<6&4294967295|k>>>26),k=F+(R^(x|~N))+P[3]+2399980690&4294967295,F=x+(k<<10&4294967295|k>>>22),k=N+(x^(F|~R))+P[10]+4293915773&4294967295,N=F+(k<<15&4294967295|k>>>17),k=R+(F^(N|~x))+P[1]+2240044497&4294967295,R=N+(k<<21&4294967295|k>>>11),k=x+(N^(R|~F))+P[8]+1873313359&4294967295,x=R+(k<<6&4294967295|k>>>26),k=F+(R^(x|~N))+P[15]+4264355552&4294967295,F=x+(k<<10&4294967295|k>>>22),k=N+(x^(F|~R))+P[6]+2734768916&4294967295,N=F+(k<<15&4294967295|k>>>17),k=R+(F^(N|~x))+P[13]+1309151649&4294967295,R=N+(k<<21&4294967295|k>>>11),k=x+(N^(R|~F))+P[4]+4149444226&4294967295,x=R+(k<<6&4294967295|k>>>26),k=F+(R^(x|~N))+P[11]+3174756917&4294967295,F=x+(k<<10&4294967295|k>>>22),k=N+(x^(F|~R))+P[2]+718787259&4294967295,N=F+(k<<15&4294967295|k>>>17),k=R+(F^(N|~x))+P[9]+3951481745&4294967295,L.g[0]=L.g[0]+x&4294967295,L.g[1]=L.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,L.g[2]=L.g[2]+N&4294967295,L.g[3]=L.g[3]+F&4294967295}i.prototype.u=function(L,x){x===void 0&&(x=L.length);for(var R=x-this.blockSize,P=this.B,N=this.h,F=0;F<x;){if(N==0)for(;F<=R;)o(this,L,F),F+=this.blockSize;if(typeof L=="string"){for(;F<x;)if(P[N++]=L.charCodeAt(F++),N==this.blockSize){o(this,P),N=0;break}}else for(;F<x;)if(P[N++]=L[F++],N==this.blockSize){o(this,P),N=0;break}}this.h=N,this.o+=x},i.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var x=1;x<L.length-8;++x)L[x]=0;var R=8*this.o;for(x=L.length-8;x<L.length;++x)L[x]=R&255,R/=256;for(this.u(L),L=Array(16),x=R=0;4>x;++x)for(var P=0;32>P;P+=8)L[R++]=this.g[x]>>>P&255;return L};function l(L,x){var R=h;return Object.prototype.hasOwnProperty.call(R,L)?R[L]:R[L]=x(L)}function c(L,x){this.h=x;for(var R=[],P=!0,N=L.length-1;0<=N;N--){var F=L[N]|0;P&&F==x||(R[N]=F,P=!1)}this.g=R}var h={};function p(L){return-128<=L&&128>L?l(L,function(x){return new c([x|0],0>x?-1:0)}):new c([L|0],0>L?-1:0)}function y(L){if(isNaN(L)||!isFinite(L))return E;if(0>L)return M(y(-L));for(var x=[],R=1,P=0;L>=R;P++)x[P]=L/R|0,R*=4294967296;return new c(x,0)}function v(L,x){if(L.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(L.charAt(0)=="-")return M(v(L.substring(1),x));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(x,8)),P=E,N=0;N<L.length;N+=8){var F=Math.min(8,L.length-N),k=parseInt(L.substring(N,N+F),x);8>F?(F=y(Math.pow(x,F)),P=P.j(F).add(y(k))):(P=P.j(R),P=P.add(y(k)))}return P}var E=p(0),T=p(1),b=p(16777216);n=c.prototype,n.m=function(){if(j(this))return-M(this).m();for(var L=0,x=1,R=0;R<this.g.length;R++){var P=this.i(R);L+=(0<=P?P:4294967296+P)*x,x*=4294967296}return L},n.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(D(this))return"0";if(j(this))return"-"+M(this).toString(L);for(var x=y(Math.pow(L,6)),R=this,P="";;){var N=ie(R,x).g;R=z(R,N.j(x));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(L);if(R=N,D(R))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function D(L){if(L.h!=0)return!1;for(var x=0;x<L.g.length;x++)if(L.g[x]!=0)return!1;return!0}function j(L){return L.h==-1}n.l=function(L){return L=z(this,L),j(L)?-1:D(L)?0:1};function M(L){for(var x=L.g.length,R=[],P=0;P<x;P++)R[P]=~L.g[P];return new c(R,~L.h).add(T)}n.abs=function(){return j(this)?M(this):this},n.add=function(L){for(var x=Math.max(this.g.length,L.g.length),R=[],P=0,N=0;N<=x;N++){var F=P+(this.i(N)&65535)+(L.i(N)&65535),k=(F>>>16)+(this.i(N)>>>16)+(L.i(N)>>>16);P=k>>>16,F&=65535,k&=65535,R[N]=k<<16|F}return new c(R,R[R.length-1]&-2147483648?-1:0)};function z(L,x){return L.add(M(x))}n.j=function(L){if(D(this)||D(L))return E;if(j(this))return j(L)?M(this).j(M(L)):M(M(this).j(L));if(j(L))return M(this.j(M(L)));if(0>this.l(b)&&0>L.l(b))return y(this.m()*L.m());for(var x=this.g.length+L.g.length,R=[],P=0;P<2*x;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<L.g.length;N++){var F=this.i(P)>>>16,k=this.i(P)&65535,Pe=L.i(N)>>>16,st=L.i(N)&65535;R[2*P+2*N]+=k*st,G(R,2*P+2*N),R[2*P+2*N+1]+=F*st,G(R,2*P+2*N+1),R[2*P+2*N+1]+=k*Pe,G(R,2*P+2*N+1),R[2*P+2*N+2]+=F*Pe,G(R,2*P+2*N+2)}for(P=0;P<x;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=x;P<2*x;P++)R[P]=0;return new c(R,0)};function G(L,x){for(;(L[x]&65535)!=L[x];)L[x+1]+=L[x]>>>16,L[x]&=65535,x++}function ee(L,x){this.g=L,this.h=x}function ie(L,x){if(D(x))throw Error("division by zero");if(D(L))return new ee(E,E);if(j(L))return x=ie(M(L),x),new ee(M(x.g),M(x.h));if(j(x))return x=ie(L,M(x)),new ee(M(x.g),x.h);if(30<L.g.length){if(j(L)||j(x))throw Error("slowDivide_ only works with positive integers.");for(var R=T,P=x;0>=P.l(L);)R=me(R),P=me(P);var N=ue(R,1),F=ue(P,1);for(P=ue(P,2),R=ue(R,2);!D(P);){var k=F.add(P);0>=k.l(L)&&(N=N.add(R),F=k),P=ue(P,1),R=ue(R,1)}return x=z(L,N.j(x)),new ee(N,x)}for(N=E;0<=L.l(x);){for(R=Math.max(1,Math.floor(L.m()/x.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=y(R),k=F.j(x);j(k)||0<k.l(L);)R-=P,F=y(R),k=F.j(x);D(F)&&(F=T),N=N.add(F),L=z(L,k)}return new ee(N,L)}n.A=function(L){return ie(this,L).h},n.and=function(L){for(var x=Math.max(this.g.length,L.g.length),R=[],P=0;P<x;P++)R[P]=this.i(P)&L.i(P);return new c(R,this.h&L.h)},n.or=function(L){for(var x=Math.max(this.g.length,L.g.length),R=[],P=0;P<x;P++)R[P]=this.i(P)|L.i(P);return new c(R,this.h|L.h)},n.xor=function(L){for(var x=Math.max(this.g.length,L.g.length),R=[],P=0;P<x;P++)R[P]=this.i(P)^L.i(P);return new c(R,this.h^L.h)};function me(L){for(var x=L.g.length+1,R=[],P=0;P<x;P++)R[P]=L.i(P)<<1|L.i(P-1)>>>31;return new c(R,L.h)}function ue(L,x){var R=x>>5;x%=32;for(var P=L.g.length-R,N=[],F=0;F<P;F++)N[F]=0<x?L.i(F+R)>>>x|L.i(F+R+1)<<32-x:L.i(F+R);return new c(N,L.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,zv=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,Si=c}).apply(typeof Fy<"u"?Fy:typeof self<"u"?self:typeof window<"u"?window:{});var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bv,Ya,$v,dc,yf,qv,Hv,Wv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ju=="object"&&Ju];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var B=u[I];if(!(B in _))break e;_=_[B]}u=u[u.length-1],I=_[u],m=m(I),m!=I&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var _=0,I=!1,B={next:function(){if(!I&&_<u.length){var W=_++;return{value:m(W,u[W]),done:!1}}return I=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function E(u,m,_){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),u.apply(m,B)}}return function(){return u.apply(m,arguments)}}function T(u,m,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,T.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function D(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(I,B,W){for(var re=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)re[qe-2]=arguments[qe];return m.prototype[B].apply(I,re)}}function j(u){const m=u.length;if(0<m){const _=Array(m);for(let I=0;I<m;I++)_[I]=u[I];return _}return[]}function M(u,m){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(p(I)){const B=u.length||0,W=I.length||0;u.length=B+W;for(let re=0;re<W;re++)u[B+re]=I[re]}else u.push(I)}}class z{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function G(u){return/^[\s\xa0]*$/.test(u)}function ee(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function ie(u){return ie[" "](u),u}ie[" "]=function(){};var me=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function ue(u,m,_){for(const I in u)m.call(_,u[I],I,u)}function L(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function x(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let _,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(_ in I)u[_]=I[_];for(let W=0;W<R.length;W++)_=R[W],Object.prototype.hasOwnProperty.call(I,_)&&(u[_]=I[_])}}function N(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function F(u){h.setTimeout(()=>{throw u},0)}function k(){var u=pe;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Pe{constructor(){this.h=this.g=null}add(m,_){const I=st.get();I.set(m,_),this.h?this.h.next=I:this.g=I,this.h=I}}var st=new z(()=>new Te,u=>u.reset());class Te{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,ne=!1,pe=new Pe,se=()=>{const u=h.Promise.resolve(void 0);Re=()=>{u.then(U)}};var U=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(_){F(_)}var m=st;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ne=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,m),h.removeEventListener("test",_,m)}catch{}return u}();function Ce(u,m){if(ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(me){e:{try{ie(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}D(Ce,ge);var Ve={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),Be=0;function We(u,m,_,I,B){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!I,this.ha=B,this.key=++Be,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function cr(u){this.src=u,this.g={},this.h=0}cr.prototype.add=function(u,m,_,I,B){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var re=qr(u,m,I,B);return-1<re?(m=u[re],_||(m.fa=!1)):(m=new We(m,this.src,W,!!I,B),m.fa=_,u.push(m)),m};function As(u,m){var _=m.type;if(_ in u.g){var I=u.g[_],B=Array.prototype.indexOf.call(I,m,void 0),W;(W=0<=B)&&Array.prototype.splice.call(I,B,1),W&&(Tt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function qr(u,m,_,I){for(var B=0;B<u.length;++B){var W=u[B];if(!W.da&&W.listener==m&&W.capture==!!_&&W.ha==I)return B}return-1}var Fi="closure_lm_"+(1e6*Math.random()|0),Cs={};function ea(u,m,_,I,B){if(Array.isArray(m)){for(var W=0;W<m.length;W++)ea(u,m[W],_,I,B);return null}return _=ra(_),u&&u[ze]?u.K(m,_,y(I)?!!I.capture:!1,B):ta(u,m,_,!1,I,B)}function ta(u,m,_,I,B,W){if(!m)throw Error("Invalid event type");var re=y(B)?!!B.capture:!!B,qe=Ps(u);if(qe||(u[Fi]=qe=new cr(u)),_=qe.add(m,_,I,re,W),_.proxy)return _;if(I=Ll(),_.proxy=I,I.src=u,I.listener=_,u.addEventListener)Ae||(B=re),B===void 0&&(B=!1),u.addEventListener(m.toString(),I,B);else if(u.attachEvent)u.attachEvent(hr(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ll(){function u(_){return m.call(u.src,u.listener,_)}const m=na;return u}function ks(u,m,_,I,B){if(Array.isArray(m))for(var W=0;W<m.length;W++)ks(u,m[W],_,I,B);else I=y(I)?!!I.capture:!!I,_=ra(_),u&&u[ze]?(u=u.i,m=String(m).toString(),m in u.g&&(W=u.g[m],_=qr(W,_,I,B),-1<_&&(Tt(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ps(u))&&(m=u.g[m.toString()],u=-1,m&&(u=qr(m,_,I,B)),(_=-1<u?m[u]:null)&&dr(_))}function dr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ze])As(m.i,u);else{var _=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(_,I,u.capture):m.detachEvent?m.detachEvent(hr(_),I):m.addListener&&m.removeListener&&m.removeListener(I),(_=Ps(m))?(As(_,u),_.h==0&&(_.src=null,m[Fi]=null)):Tt(u)}}}function hr(u){return u in Cs?Cs[u]:Cs[u]="on"+u}function na(u,m){if(u.da)u=!0;else{m=new Ce(m,this);var _=u.listener,I=u.ha||u.src;u.fa&&dr(u),u=_.call(I,m)}return u}function Ps(u){return u=u[Fi],u instanceof cr?u:null}var Ns="__closure_events_fn_"+(1e9*Math.random()>>>0);function ra(u){return typeof u=="function"?u:(u[Ns]||(u[Ns]=function(m){return u.handleEvent(m)}),u[Ns])}function mt(){K.call(this),this.i=new cr(this),this.M=this,this.F=null}D(mt,K),mt.prototype[ze]=!0,mt.prototype.removeEventListener=function(u,m,_,I){ks(this,u,m,_,I)};function gt(u,m){var _,I=u.F;if(I)for(_=[];I;I=I.F)_.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new ge(m,u);else if(m instanceof ge)m.target=m.target||u;else{var B=m;m=new ge(I,u),P(m,B)}if(B=!0,_)for(var W=_.length-1;0<=W;W--){var re=m.g=_[W];B=fr(re,I,!0,m)&&B}if(re=m.g=u,B=fr(re,I,!0,m)&&B,B=fr(re,I,!1,m)&&B,_)for(W=0;W<_.length;W++)re=m.g=_[W],B=fr(re,I,!1,m)&&B}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],I=0;I<_.length;I++)Tt(_[I]);delete u.g[m],u.h--}}this.F=null},mt.prototype.K=function(u,m,_,I){return this.i.add(String(u),m,!1,_,I)},mt.prototype.L=function(u,m,_,I){return this.i.add(String(u),m,!0,_,I)};function fr(u,m,_,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,W=0;W<m.length;++W){var re=m[W];if(re&&!re.da&&re.capture==_){var qe=re.listener,yt=re.ha||re.src;re.fa&&As(u.i,re),B=qe.call(yt,I)!==!1&&B}}return B&&!I.defaultPrevented}function ia(u,m,_){if(typeof u=="function")_&&(u=T(u,_));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function Hr(u){u.g=ia(()=>{u.g=null,u.i&&(u.i=!1,Hr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ji extends K{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Hr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ui(u){K.call(this),this.h=u,this.g={}}D(Ui,K);var sa=[];function oa(u){ue(u.g,function(m,_){this.g.hasOwnProperty(_)&&dr(m)},u),u.g={}}Ui.prototype.N=function(){Ui.aa.N.call(this),oa(this)},Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var aa=h.JSON.stringify,la=h.JSON.parse,ua=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function zi(){}zi.prototype.h=null;function bs(u){return u.h||(u.h=u.i())}function Ds(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bn(){ge.call(this,"d")}D(Bn,ge);function Ls(){ge.call(this,"c")}D(Ls,ge);var $n={},ca=null;function Bi(){return ca=ca||new mt}$n.La="serverreachability";function da(u){ge.call(this,$n.La,u)}D(da,ge);function pr(u){const m=Bi();gt(m,new da(m))}$n.STAT_EVENT="statevent";function ha(u,m){ge.call(this,$n.STAT_EVENT,u),this.stat=m}D(ha,ge);function at(u){const m=Bi();gt(m,new ha(m,u))}$n.Ma="timingevent";function Os(u,m){ge.call(this,$n.Ma,u),this.size=m}D(Os,ge);function xn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function $i(){this.g=!0}$i.prototype.xa=function(){this.g=!1};function qi(u,m,_,I,B,W){u.info(function(){if(u.g)if(W)for(var re="",qe=W.split("&"),yt=0;yt<qe.length;yt++){var Me=qe[yt].split("=");if(1<Me.length){var It=Me[0];Me=Me[1];var dt=It.split("_");re=2<=dt.length&&dt[1]=="type"?re+(It+"="+Me+"&"):re+(It+"=redacted&")}}else re=null;else re=W;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+m+`
`+_+`
`+re})}function Vs(u,m,_,I,B,W,re){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+m+`
`+_+`
`+W+" "+re})}function Rn(u,m,_,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+fd(u,_)+(I?" "+I:"")})}function fa(u,m){u.info(function(){return"TIMEOUT: "+m})}$i.prototype.info=function(){};function fd(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var I=_[u];if(!(2>I.length)){var B=I[1];if(Array.isArray(B)&&!(1>B.length)){var W=B[0];if(W!="noop"&&W!="stop"&&W!="close")for(var re=1;re<B.length;re++)B[re]=""}}}}return aa(_)}catch{return m}}var Ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ol={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},An;function Hi(){}D(Hi,zi),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},An=new Hi;function Cn(u,m,_,I){this.j=u,this.i=m,this.l=_,this.R=I||1,this.U=new Ui(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vl}function Vl(){this.i=null,this.g="",this.h=!1}var pa={},Fs={};function js(u,m,_){u.L=1,u.v=Xr(an(m)),u.m=_,u.P=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),Ge(u),u.A=an(u.v);var _=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Jr(_.i,"t",I),u.C=0,_=u.j.J,u.h=new Vl,u.g=eu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new ji(T(u.Y,u,u.g),u.O)),m=u.U,_=u.g,I=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(sa[0]=B.toString()),B=sa);for(var W=0;W<B.length;W++){var re=ea(_,B[W],I||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),pr(),qi(u.i,u.u,u.A,u.l,u.R,u.m)}Cn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Xt(u)==3?m.j():this.Y(u)},Cn.prototype.Y=function(u){try{if(u==this.g)e:{const dt=Xt(this.g);var m=this.g.Ba();const yn=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||Ea(this.g)))){this.J||dt!=4||m==7||(m==8||0>=yn?pr(3):pr(2)),Wi(this);var _=this.g.Z();this.X=_;t:if(Ml(this)){var I=Ea(this.g);u="";var B=I.length,W=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Wr(this);var re="";break t}this.h.i=new h.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(W&&m==B-1)});I.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,Vs(this.i,this.u,this.A,this.l,this.R,dt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,yt=this.g;if((qe=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(qe)){var Me=qe;break t}}Me=null}if(_=Me)Rn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ga(this,_);else{this.o=!1,this.s=3,at(12),mn(this),Wr(this);break e}}if(this.P){_=!0;let un;for(;!this.J&&this.C<re.length;)if(un=pd(this,re),un==Fs){dt==4&&(this.s=4,at(14),_=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(un==pa){this.s=4,at(15),Rn(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else Rn(this.i,this.l,un,null),ga(this,un);if(Ml(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||re.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)Rn(this.i,this.l,re,"[Invalid Chunked Response]"),mn(this),Wr(this);else if(0<re.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Ia(It),It.M=!0,at(11))}}else Rn(this.i,this.l,re,null),ga(this,re);dt==4&&mn(this),this.o&&!this.J&&(dt==4?Xs(this.j,this):(this.o=!1,Ge(this)))}else Hs(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),mn(this),Wr(this)}}}catch{}finally{}};function Ml(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function pd(u,m){var _=u.C,I=m.indexOf(`
`,_);return I==-1?Fs:(_=Number(m.substring(_,I)),isNaN(_)?pa:(I+=1,I+_>m.length?Fs:(m=m.slice(I,I+_),u.C=I+_,m)))}Cn.prototype.cancel=function(){this.J=!0,mn(this)};function Ge(u){u.S=Date.now()+u.I,Fl(u,u.I)}function Fl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=xn(T(u.ba,u),m)}function Wi(u){u.B&&(h.clearTimeout(u.B),u.B=null)}Cn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(fa(this.i,this.A),this.L!=2&&(pr(),at(17)),mn(this),this.s=2,Wr(this)):Fl(this,this.S-u)};function Wr(u){u.j.G==0||u.J||Xs(u.j,u)}function mn(u){Wi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,oa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ga(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||qt(_.h,u))){if(!u.K&&qt(_.h,u)&&_.G==3){try{var I=_.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Qs(_),Dn(_);else break e;Ks(_),at(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=xn(T(_.Za,_),6e3));if(1>=Ul(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else vr(_,11)}else if((u.K||_.g==u)&&Qs(_),!G(m))for(B=_.Da.g.parse(m),m=0;m<B.length;m++){let Me=B[m];if(_.T=Me[0],Me=Me[1],_.G==2)if(Me[0]=="c"){_.K=Me[1],_.ia=Me[2];const It=Me[3];It!=null&&(_.la=It,_.j.info("VER="+_.la));const dt=Me[4];dt!=null&&(_.Aa=dt,_.j.info("SVER="+_.Aa));const yn=Me[5];yn!=null&&typeof yn=="number"&&0<yn&&(I=1.5*yn,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const un=u.g;if(un){const Zi=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var W=I.h;W.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ya(W,W.h),W.h=null))}if(I.D){const Js=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(I.ya=Js,He(I.I,I.D,Js))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var re=u;if(I.qa=Zl(I,I.J?I.ia:null,I.W),re.K){zl(I.h,re);var qe=re,yt=I.L;yt&&(qe.I=yt),qe.B&&(Wi(qe),Ge(qe)),I.g=re}else Ji(I);0<_.i.length&&Gn(_)}else Me[0]!="stop"&&Me[0]!="close"||vr(_,7);else _.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?vr(_,7):kt(_):Me[0]!="noop"&&_.l&&_.l.ta(Me),_.v=0)}}pr(4)}catch{}}var jl=class{constructor(u,m){this.g=u,this.map=m}};function Gi(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ul(u){return u.h?1:u.g?u.g.size:0}function qt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ya(u,m){u.g?u.g.add(m):u.h=m}function zl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Gi.prototype.cancel=function(){if(this.i=Bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return j(u.i)}function Us(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,I=0;I<_;I++)m.push(u[I]);return m}m=[],_=0;for(I in u)m[_++]=u[I];return m}function zs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const I in u)m[_++]=I;return m}}}function Gr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=zs(u),I=Us(u),B=I.length,W=0;W<B;W++)m.call(void 0,I[W],_&&_[W],u)}var Ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function md(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var I=u[_].indexOf("="),B=null;if(0<=I){var W=u[_].substring(0,I);B=u[_].substring(I+1)}else W=u[_];m(W,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof mr){this.h=u.h,Qi(this,u.j),this.o=u.o,this.g=u.g,Kr(this,u.s),this.l=u.l;var m=u.i,_=new qn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Qr(this,_),this.m=u.m}else u&&(m=String(u).match(Ki))?(this.h=!1,Qi(this,m[1]||"",!0),this.o=Le(m[2]||""),this.g=Le(m[3]||"",!0),Kr(this,m[4]),this.l=Le(m[5]||"",!0),Qr(this,m[6]||"",!0),this.m=Le(m[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}mr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Yr(m,Bs,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Yr(m,Bs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Yr(_,_.charAt(0)=="/"?Hl:ql,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Yr(_,_a)),u.join("")};function an(u){return new mr(u)}function Qi(u,m,_){u.j=_?Le(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Kr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Qr(u,m,_){m instanceof qn?(u.i=m,Hn(u.i,u.h)):(_||(m=Yr(m,Wl)),u.i=new qn(m,u.h))}function He(u,m,_){u.i.set(m,_)}function Xr(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Le(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Yr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,$l),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function $l(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Bs=/[#\/\?@]/g,ql=/[#\?:]/g,Hl=/[#\?]/g,Wl=/[#\?@]/g,_a=/#/g;function qn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ct(u){u.g||(u.g=new Map,u.h=0,u.i&&md(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=qn.prototype,n.add=function(u,m){Ct(this),this.i=null,u=gn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function kn(u,m){Ct(u),m=gn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Pn(u,m){return Ct(u),m=gn(u,m),u.g.has(m)}n.forEach=function(u,m){Ct(this),this.g.forEach(function(_,I){_.forEach(function(B){u.call(m,B,I,this)},this)},this)},n.na=function(){Ct(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let I=0;I<m.length;I++){const B=u[I];for(let W=0;W<B.length;W++)_.push(m[I])}return _},n.V=function(u){Ct(this);let m=[];if(typeof u=="string")Pn(this,u)&&(m=m.concat(this.g.get(gn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},n.set=function(u,m){return Ct(this),this.i=null,u=gn(this,u),Pn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Jr(u,m,_){kn(u,m),0<_.length&&(u.i=null,u.g.set(gn(u,m),j(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var I=m[_];const W=encodeURIComponent(String(I)),re=this.V(I);for(I=0;I<re.length;I++){var B=W;re[I]!==""&&(B+="="+encodeURIComponent(String(re[I]))),u.push(B)}}return this.i=u.join("&")};function gn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Hn(u,m){m&&!u.j&&(Ct(u),u.i=null,u.g.forEach(function(_,I){var B=I.toLowerCase();I!=B&&(kn(this,I),Jr(this,B,_))},u)),u.j=m}function gd(u,m){const _=new $i;if(h.Image){const I=new Image;I.onload=b(Qt,_,"TestLoadImage: loaded",!0,m,I),I.onerror=b(Qt,_,"TestLoadImage: error",!1,m,I),I.onabort=b(Qt,_,"TestLoadImage: abort",!1,m,I),I.ontimeout=b(Qt,_,"TestLoadImage: timeout",!1,m,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function Gl(u,m){const _=new $i,I=new AbortController,B=setTimeout(()=>{I.abort(),Qt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(W=>{clearTimeout(B),W.ok?Qt(_,"TestPingServer: ok",!0,m):Qt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),Qt(_,"TestPingServer: error",!1,m)})}function Qt(u,m,_,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(_)}catch{}}function yd(){this.g=new ua}function Kl(u,m,_){const I=_||"";try{Gr(u,function(B,W){let re=B;y(B)&&(re=aa(B)),m.push(I+W+"="+encodeURIComponent(re))})}catch(B){throw m.push(I+"type="+encodeURIComponent("_badmap")),B}}function gr(u){this.l=u.Ub||null,this.j=u.eb||!1}D(gr,zi),gr.prototype.g=function(){return new Xi(this.l,this.j)},gr.prototype.i=function(u){return function(){return u}}({});function Xi(u,m){mt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Xi,mt),n=Xi.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,bn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,bn(this)),this.g&&(this.readyState=3,bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ql(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ql(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Nn(this):bn(this),this.readyState==3&&Ql(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Nn(this))},n.Qa=function(u){this.g&&(this.response=u,Nn(this))},n.ga=function(){this.g&&Nn(this)};function Nn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,bn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yr(u){let m="";return ue(u,function(_,I){m+=I,m+=":",m+=_,m+=`\r
`}),m}function Zr(u,m,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=yr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):He(u,m,_))}function Je(u){mt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Je,mt);var _d=/^https?$/i,va=["POST","PUT"];n=Je.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():An.g(),this.v=this.o?bs(this.o):bs(An),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(W){Yi(this,W);return}if(u=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)_.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())_.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),B=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(va,m,void 0))||I||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,re]of _)this.g.setRequestHeader(W,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qs(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){Yi(this,W)}};function Yi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,$s(u),ln(u)}function $s(u){u.A||(u.A=!0,gt(u,"complete"),gt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,gt(this,"complete"),gt(this,"abort"),ln(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ln(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},n.bb=function(){wa(this)};function wa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Xt(u)!=4||u.Z()!=2)){if(u.u&&Xt(u)==4)ia(u.Ea,0,u);else if(gt(u,"readystatechange"),Xt(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var I;if(I=re===0){var B=String(u.D).match(Ki)[1]||null;!B&&h.self&&h.self.location&&(B=h.self.location.protocol.slice(0,-1)),I=!_d.test(B?B.toLowerCase():"")}_=I}if(_)gt(u,"complete"),gt(u,"success");else{u.m=6;try{var W=2<Xt(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",$s(u)}}finally{ln(u)}}}}function ln(u,m){if(u.g){qs(u);const _=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||gt(u,"ready");try{_.onreadystatechange=I}catch{}}}function qs(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Xt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),la(m)}};function Ea(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Hs(u){const m={};u=(u.g&&2<=Xt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(G(u[I]))continue;var _=N(u[I]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=m[B]||[];m[B]=W,W.push(_)}L(m,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wn(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ta(u){this.Aa=0,this.i=[],this.j=new $i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wn("baseRetryDelayMs",5e3,u),this.cb=Wn("retryDelaySeedMs",1e4,u),this.Wa=Wn("forwardChannelMaxRetries",2,u),this.wa=Wn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Gi(u&&u.concurrentRequestLimit),this.Da=new yd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ta.prototype,n.la=8,n.G=1,n.connect=function(u,m,_,I){at(0),this.W=u,this.H=m||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=Zl(this,null,this.W),Gn(this)};function kt(u){if(Ws(u),u.G==3){var m=u.U++,_=an(u.I);if(He(_,"SID",u.K),He(_,"RID",m),He(_,"TYPE","terminate"),_r(u,_),m=new Cn(u,u.j,m),m.L=2,m.v=Xr(an(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=m.v,_=!0),_||(m.g=eu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ge(m)}Jl(u)}function Dn(u){u.g&&(Ia(u),u.g.cancel(),u.g=null)}function Ws(u){Dn(u),u.u&&(h.clearTimeout(u.u),u.u=null),Qs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Gn(u){if(!on(u.h)&&!u.s){u.s=!0;var m=u.Ga;Re||se(),ne||(Re(),ne=!0),pe.add(m,u),u.B=0}}function vd(u,m){return Ul(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=xn(T(u.Ga,u,m),Yl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new Cn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=x(W),P(W,this.S)):W=this.S),this.m!==null||this.O||(B.H=W,W=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=ei(this,B,m),_=an(this.I),He(_,"RID",u),He(_,"CVER",22),this.D&&He(_,"X-HTTP-Session-Id",this.D),_r(this,_),W&&(this.O?m="headers="+encodeURIComponent(String(yr(W)))+"&"+m:this.m&&Zr(_,this.m,W)),ya(this.h,B),this.Ua&&He(_,"TYPE","init"),this.P?(He(_,"$req",m),He(_,"SID","null"),B.T=!0,js(B,_,null)):js(B,_,m),this.G=2}}else this.G==3&&(u?Gs(this,u):this.i.length==0||on(this.h)||Gs(this))};function Gs(u,m){var _;m?_=m.l:_=u.U++;const I=an(u.I);He(I,"SID",u.K),He(I,"RID",_),He(I,"AID",u.T),_r(u,I),u.m&&u.o&&Zr(I,u.m,u.o),_=new Cn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ei(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ya(u.h,_),js(_,I,m)}function _r(u,m){u.H&&ue(u.H,function(_,I){He(m,I,_)}),u.l&&Gr({},function(_,I){He(m,I,_)})}function ei(u,m,_){_=Math.min(u.i.length,_);var I=u.l?T(u.l.Na,u.l,u):null;e:{var B=u.i;let W=-1;for(;;){const re=["count="+_];W==-1?0<_?(W=B[0].g,re.push("ofs="+W)):W=0:re.push("ofs="+W);let qe=!0;for(let yt=0;yt<_;yt++){let Me=B[yt].g;const It=B[yt].map;if(Me-=W,0>Me)W=Math.max(0,B[yt].g-100),qe=!1;else try{Kl(It,re,"req"+Me+"_")}catch{I&&I(It)}}if(qe){I=re.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,I}function Ji(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Re||se(),ne||(Re(),ne=!0),pe.add(m,u),u.v=0}}function Ks(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=xn(T(u.Fa,u),Yl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Xl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=xn(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Dn(this),Xl(this))};function Ia(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Xl(u){u.g=new Cn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);He(m,"RID","rpc"),He(m,"SID",u.K),He(m,"AID",u.T),He(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(m,"TO",u.ja),He(m,"TYPE","xmlhttp"),_r(u,m),u.m&&u.o&&Zr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Xr(an(m)),_.m=null,_.P=!0,ma(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Dn(this),Ks(this),at(19))};function Qs(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Xs(u,m){var _=null;if(u.g==m){Qs(u),Ia(u),u.g=null;var I=2}else if(qt(u.h,m))_=m.D,zl(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var B=u.B;I=Bi(),gt(I,new Os(I,_)),Gn(u)}else Ji(u);else if(B=m.s,B==3||B==0&&0<m.X||!(I==1&&vd(u,m)||I==2&&Ks(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),B){case 1:vr(u,5);break;case 4:vr(u,10);break;case 3:vr(u,6);break;default:vr(u,2)}}}function Yl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function vr(u,m){if(u.j.info("Error code "+m),m==2){var _=T(u.fb,u),I=u.Xa;const B=!I;I=new mr(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Qi(I,"https"),Xr(I),B?gd(I.toString(),_):Gl(I.toString(),_)}else at(2);u.G=0,u.l&&u.l.sa(m),Jl(u),Ws(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Jl(u){if(u.G=0,u.ka=[],u.l){const m=Bl(u.h);(m.length!=0||u.i.length!=0)&&(M(u.ka,m),M(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function Zl(u,m,_){var I=_ instanceof mr?an(_):new mr(_);if(I.g!="")m&&(I.g=m+"."+I.g),Kr(I,I.s);else{var B=h.location;I=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var W=new mr(null);I&&Qi(W,I),m&&(W.g=m),B&&Kr(W,B),_&&(W.l=_),I=W}return _=u.D,m=u.ya,_&&m&&He(I,_,m),He(I,"VER",u.la),_r(u,I),I}function eu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Je(new gr({eb:_})):new Je(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sa(){}n=Sa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ys(){}Ys.prototype.g=function(u,m){return new Ht(u,m)};function Ht(u,m){mt.call(this),this.g=new Ta(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!G(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!G(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Kn(this)}D(Ht,mt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){kt(this.g)},Ht.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=aa(u),u=_);m.i.push(new jl(m.Ya++,u)),m.G==3&&Gn(m)},Ht.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,Ht.aa.N.call(this)};function tu(u){Bn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}D(tu,Bn);function nu(){Ls.call(this),this.status=1}D(nu,Ls);function Kn(u){this.g=u}D(Kn,Sa),Kn.prototype.ua=function(){gt(this.g,"a")},Kn.prototype.ta=function(u){gt(this.g,new tu(u))},Kn.prototype.sa=function(u){gt(this.g,new nu)},Kn.prototype.ra=function(){gt(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,Wv=function(){return new Ys},Hv=function(){return Bi()},qv=$n,yf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,dc=Ms,Ol.COMPLETE="complete",$v=Ol,Ds.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Ya=Ds,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,Bv=Je}).apply(typeof Ju<"u"?Ju:typeof self<"u"?self:typeof window<"u"?window:{});const jy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new qf("@firebase/firestore");function wo(){return ws.logLevel}function ae(n,...e){if(ws.logLevel<=Ne.DEBUG){const t=e.map(ip);ws.debug(`Firestore (${Go}): ${n}`,...t)}}function Ur(n,...e){if(ws.logLevel<=Ne.ERROR){const t=e.map(ip);ws.error(`Firestore (${Go}): ${n}`,...t)}}function No(n,...e){if(ws.logLevel<=Ne.WARN){const t=e.map(ip);ws.warn(`Firestore (${Go}): ${n}`,...t)}}function ip(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n="Unexpected state"){const e=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: `+n;throw Ur(e),new Error(e)}function $e(n,e){n||Ee()}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends $r{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zt.UNAUTHENTICATED))}shutdown(){}}class Kx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qx{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new xi,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},h=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new xi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string"),new Gv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new zt(e)}}class Xx{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Yx{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Xx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zx{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){$e(this.o===void 0);const i=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new Jx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=eR(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Oe(n,e){return n<e?-1:n>e?1:0}function bo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new wt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new wt(0,0))}static max(){return new Se(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ee(),i===void 0?i=e.length-t:i>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Zn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zn?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=Zn.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Zn.isNumericId(e),o=Zn.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Zn.extractNumericId(e).compare(Zn.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Si.fromString(e.substring(4,e.length-2))}}class Ye extends Zn{construct(e,t,i){return new Ye(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Ye(t)}static emptyPath(){return new Ye([])}}const tR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends Zn{construct(e,t,i){return new Dt(e,t,i)}static isValidIdentifier(e){return tR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(l(),o++)}if(l(),c)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ye.fromString(e))}static fromName(e){return new ye(Ye.fromString(e).popFirst(5))}static empty(){return new ye(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ye(e.slice()))}}function nR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new wt(t+1,0):new wt(t,i));return new Ci(o,ye.empty(),e)}function rR(n){return new Ci(n.readTime,n.key,-1)}class Ci{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ci(Se.min(),ye.empty(),-1)}static max(){return new Ci(Se.max(),ye.empty(),-1)}}function iR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==sR)throw n;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,i)=>{t(e)})}static reject(e){return new Q((t,i)=>{i(e)})}static waitFor(e){return new Q((t,i)=>{let o=0,l=0,c=!1;e.forEach(h=>{++o,h.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next(o=>o?Q.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new Q((i,o)=>{const l=e.length,c=new Array(l);let h=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(v=>{c[y]=v,++h,h===l&&i(c)},v=>o(v))}})}static doWhile(e,t){return new Q((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function aR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qc.oe=-1;function Hc(n){return n==null}function Rc(n){return n===0&&1/n==-1/0}function lR(n){return typeof n=="number"&&Number.isInteger(n)&&!Rc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Uy(e)),e=cR(n.get(t),e);return Uy(e)}function cR(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Uy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Li(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Qv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||bt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??bt.RED,this.left=o??bt.EMPTY,this.right=l??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new bt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return bt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,i,o,l){return this}insert(e,t,i){return new bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new By(this.data.getIterator())}getIteratorFrom(e){return new By(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class By{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new fn([])}unionWith(e){let t=new Et(Dt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Xv("Invalid base64 string: "+l):l}}(e);return new Ot(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new Ot(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const dR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(n){if($e(!!n),typeof n=="string"){let e=0;const t=dR.exec(n);if($e(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pi(n){return typeof n=="string"?Ot.fromBase64String(n):Ot.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Wc(n){const e=n.mapValue.fields.__previous_value__;return sp(e)?Wc(e):e}function ul(n){const e=ki(n.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,t,i,o,l,c,h,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=y}}class cl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ni(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sp(n)?4:pR(n)?9007199254740991:fR(n)?10:11:Ee()}function ar(n,e){if(n===e)return!0;const t=Ni(n);if(t!==Ni(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ul(n).isEqual(ul(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=ki(o.timestampValue),h=ki(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Pi(o.bytesValue).isEqual(Pi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return ut(o.geoPointValue.latitude)===ut(l.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ut(o.integerValue)===ut(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ut(o.doubleValue),h=ut(l.doubleValue);return c===h?Rc(c)===Rc(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return bo(n.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},h=l.mapValue.fields||{};if(zy(c)!==zy(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!ar(c[p],h[p])))return!1;return!0}(n,e);default:return Ee()}}function dl(n,e){return(n.values||[]).find(t=>ar(t,e))!==void 0}function Do(n,e){if(n===e)return 0;const t=Ni(n),i=Ni(e);if(t!==i)return Oe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return function(l,c){const h=ut(l.integerValue||l.doubleValue),p=ut(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return $y(n.timestampValue,e.timestampValue);case 4:return $y(ul(n),ul(e));case 5:return Oe(n.stringValue,e.stringValue);case 6:return function(l,c){const h=Pi(l),p=Pi(c);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const h=l.split("/"),p=c.split("/");for(let y=0;y<h.length&&y<p.length;y++){const v=Oe(h[y],p[y]);if(v!==0)return v}return Oe(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const h=Oe(ut(l.latitude),ut(c.latitude));return h!==0?h:Oe(ut(l.longitude),ut(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return qy(n.arrayValue,e.arrayValue);case 10:return function(l,c){var h,p,y,v;const E=l.fields||{},T=c.fields||{},b=(h=E.value)===null||h===void 0?void 0:h.arrayValue,D=(p=T.value)===null||p===void 0?void 0:p.arrayValue,j=Oe(((y=b==null?void 0:b.values)===null||y===void 0?void 0:y.length)||0,((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0);return j!==0?j:qy(b,D)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===ec.mapValue&&c===ec.mapValue)return 0;if(l===ec.mapValue)return 1;if(c===ec.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),y=c.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const T=Oe(p[E],v[E]);if(T!==0)return T;const b=Do(h[p[E]],y[v[E]]);if(b!==0)return b}return Oe(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function $y(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=ki(n),i=ki(e),o=Oe(t.seconds,i.seconds);return o!==0?o:Oe(t.nanos,i.nanos)}function qy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Do(t[o],i[o]);if(l)return l}return Oe(t.length,i.length)}function Lo(n){return _f(n)}function _f(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ki(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Pi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=_f(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${_f(t.fields[c])}`;return o+"}"}(n.mapValue):Ee()}function hc(n){switch(Ni(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wc(n);return e?16+hc(e):16;case 5:return 2*n.stringValue.length;case 6:return Pi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+hc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Li(i.fields,(l,c)=>{o+=l.length+hc(c)}),o}(n.mapValue);default:throw Ee()}}function Hy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vf(n){return!!n&&"integerValue"in n}function op(n){return!!n&&"arrayValue"in n}function Wy(n){return!!n&&"nullValue"in n}function Gy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fc(n){return!!n&&"mapValue"in n}function fR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function nl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Li(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=nl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function pR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!fc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nl(t)}setAll(e){let t=Dt.emptyPath(),i={},o=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=nl(c):o.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());fc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Li(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new sn(nl(this.value))}}function Yv(n){const e=[];return Li(n.fields,(t,i)=>{const o=new Dt([t]);if(fc(i)){const l=Yv(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,i,o,l,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Bt(e,0,Se.min(),Se.min(),Se.min(),sn.empty(),0)}static newFoundDocument(e,t,i,o){return new Bt(e,1,t,Se.min(),i,o,0)}static newNoDocument(e,t){return new Bt(e,2,t,Se.min(),Se.min(),sn.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,Se.min(),Se.min(),sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t){this.position=e,this.inclusive=t}}function Ky(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=ye.comparator(ye.fromName(c.referenceValue),t.key):i=Do(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Qy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ar(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t="asc"){this.field=e,this.dir=t}}function mR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{}class pt extends Jv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new yR(e,t,i):t==="array-contains"?new wR(e,i):t==="in"?new ER(e,i):t==="not-in"?new TR(e,i):t==="array-contains-any"?new IR(e,i):new pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new _R(e,i):new vR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Do(t,this.value)):t!==null&&Ni(this.value)===Ni(t)&&this.matchesComparison(Do(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends Jv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new zn(e,t)}matches(e){return Zv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zv(n){return n.op==="and"}function e0(n){return gR(n)&&Zv(n)}function gR(n){for(const e of n.filters)if(e instanceof zn)return!1;return!0}function wf(n){if(n instanceof pt)return n.field.canonicalString()+n.op.toString()+Lo(n.value);if(e0(n))return n.filters.map(e=>wf(e)).join(",");{const e=n.filters.map(t=>wf(t)).join(",");return`${n.op}(${e})`}}function t0(n,e){return n instanceof pt?function(i,o){return o instanceof pt&&i.op===o.op&&i.field.isEqual(o.field)&&ar(i.value,o.value)}(n,e):n instanceof zn?function(i,o){return o instanceof zn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,h)=>l&&t0(c,o.filters[h]),!0):!1}(n,e):void Ee()}function n0(n){return n instanceof pt?function(t){return`${t.field.canonicalString()} ${t.op} ${Lo(t.value)}`}(n):n instanceof zn?function(t){return t.op.toString()+" {"+t.getFilters().map(n0).join(" ,")+"}"}(n):"Filter"}class yR extends pt{constructor(e,t,i){super(e,t,i),this.key=ye.fromName(i.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class _R extends pt{constructor(e,t){super(e,"in",t),this.keys=r0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vR extends pt{constructor(e,t){super(e,"not-in",t),this.keys=r0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function r0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ye.fromName(i.referenceValue))}class wR extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return op(t)&&dl(t.arrayValue,this.value)}}class ER extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&dl(this.value.arrayValue,t)}}class TR extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!dl(this.value.arrayValue,t)}}class IR extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!op(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>dl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,t=null,i=[],o=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=h,this.ue=null}}function Xy(n,e=null,t=[],i=[],o=null,l=null,c=null){return new SR(n,e,t,i,o,l,c)}function ap(n){const e=xe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>wf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Hc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Lo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Lo(i)).join(",")),e.ue=t}return e.ue}function lp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!t0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Qy(n.startAt,e.startAt)&&Qy(n.endAt,e.endAt)}function Ef(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,t=null,i=[],o=[],l=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xR(n,e,t,i,o,l,c,h){return new Al(n,e,t,i,o,l,c,h)}function Gc(n){return new Al(n)}function Yy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function i0(n){return n.collectionGroup!==null}function rl(n){const e=xe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Et(Dt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(h=h.add(y.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Cc(l,i))}),t.has(Dt.keyField().canonicalString())||e.ce.push(new Cc(Dt.keyField(),i))}return e.ce}function tr(n){const e=xe(n);return e.le||(e.le=RR(e,rl(n))),e.le}function RR(n,e){if(n.limitType==="F")return Xy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Cc(o.field,l)});const t=n.endAt?new Ac(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ac(n.startAt.position,n.startAt.inclusive):null;return Xy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Tf(n,e){const t=n.filters.concat([e]);return new Al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function If(n,e,t){return new Al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kc(n,e){return lp(tr(n),tr(e))&&n.limitType===e.limitType}function s0(n){return`${ap(tr(n))}|lt:${n.limitType}`}function Eo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>n0(o)).join(", ")}]`),Hc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Lo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Lo(o)).join(",")),`Target(${i})`}(tr(n))}; limitType=${n.limitType})`}function Qc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ye.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of rl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,h,p){const y=Ky(c,h,p);return c.inclusive?y<=0:y<0}(i.startAt,rl(i),o)||i.endAt&&!function(c,h,p){const y=Ky(c,h,p);return c.inclusive?y>=0:y>0}(i.endAt,rl(i),o))}(n,e)}function AR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function o0(n){return(e,t)=>{let i=!1;for(const o of rl(n)){const l=CR(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function CR(n,e,t){const i=n.field.isKeyField()?ye.comparator(e.key,t.key):function(l,c,h){const p=c.data.field(l),y=h.data.field(l);return p!==null&&y!==null?Do(p,y):Ee()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Li(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Qv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new it(ye.comparator);function zr(){return kR}const a0=new it(ye.comparator);function Ja(...n){let e=a0;for(const t of n)e=e.insert(t.key,t);return e}function l0(n){let e=a0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ms(){return il()}function u0(){return il()}function il(){return new xs(n=>n.toString(),(n,e)=>n.isEqual(e))}const PR=new it(ye.comparator),NR=new Et(ye.comparator);function be(...n){let e=NR;for(const t of n)e=e.add(t);return e}const bR=new Et(Oe);function DR(){return bR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rc(e)?"-0":e}}function c0(n){return{integerValue:""+n}}function LR(n,e){return lR(e)?c0(e):up(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function OR(n,e,t){return n instanceof kc?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&sp(l)&&(l=Wc(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof hl?h0(n,e):n instanceof fl?f0(n,e):function(o,l){const c=d0(o,l),h=Jy(c)+Jy(o.Pe);return vf(c)&&vf(o.Pe)?c0(h):up(o.serializer,h)}(n,e)}function VR(n,e,t){return n instanceof hl?h0(n,e):n instanceof fl?f0(n,e):t}function d0(n,e){return n instanceof Pc?function(i){return vf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class kc extends Xc{}class hl extends Xc{constructor(e){super(),this.elements=e}}function h0(n,e){const t=p0(e);for(const i of n.elements)t.some(o=>ar(o,i))||t.push(i);return{arrayValue:{values:t}}}class fl extends Xc{constructor(e){super(),this.elements=e}}function f0(n,e){let t=p0(e);for(const i of n.elements)t=t.filter(o=>!ar(o,i));return{arrayValue:{values:t}}}class Pc extends Xc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Jy(n){return ut(n.integerValue||n.doubleValue)}function p0(n){return op(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function MR(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof hl&&o instanceof hl||i instanceof fl&&o instanceof fl?bo(i.elements,o.elements,ar):i instanceof Pc&&o instanceof Pc?ar(i.Pe,o.Pe):i instanceof kc&&o instanceof kc}(n.transform,e.transform)}class FR{constructor(e,t){this.version=e,this.transformResults=t}}class nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Yc{}function m0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new y0(n.key,nr.none()):new Cl(n.key,n.data,nr.none());{const t=n.data,i=sn.empty();let o=new Et(Dt.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Oi(n.key,i,new fn(o.toArray()),nr.none())}}function jR(n,e,t){n instanceof Cl?function(o,l,c){const h=o.value.clone(),p=e_(o.fieldTransforms,l,c.transformResults);h.setAll(p),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Oi?function(o,l,c){if(!pc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const h=e_(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(g0(o)),p.setAll(h),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function sl(n,e,t,i){return n instanceof Cl?function(l,c,h,p){if(!pc(l.precondition,c))return h;const y=l.value.clone(),v=t_(l.fieldTransforms,p,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Oi?function(l,c,h,p){if(!pc(l.precondition,c))return h;const y=t_(l.fieldTransforms,p,c),v=c.data;return v.setAll(g0(l)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(l,c,h){return pc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function UR(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=d0(i.transform,o||null);l!=null&&(t===null&&(t=sn.empty()),t.set(i.field,l))}return t||null}function Zy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&bo(i,o,(l,c)=>MR(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Cl extends Yc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Oi extends Yc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function g0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function e_(n,e,t){const i=new Map;$e(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,h=e.data.field(l.field);i.set(l.field,VR(c,h,t[o]))}return i}function t_(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,OR(l,c,e))}return i}class y0 extends Yc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zR extends Yc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&jR(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=sl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=sl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=u0();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(o.key)?null:h;const p=m0(c,h);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),be())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(t,i)=>Zy(t,i))&&bo(this.baseMutations,e.baseMutations,(t,i)=>Zy(t,i))}}class cp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){$e(e.mutations.length===i.length);let o=function(){return PR}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new cp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Fe;function HR(n){switch(n){default:return Ee();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function _0(n){if(n===void 0)return Ur("GRPC error has no .code"),X.UNKNOWN;switch(n){case ft.OK:return X.OK;case ft.CANCELLED:return X.CANCELLED;case ft.UNKNOWN:return X.UNKNOWN;case ft.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ft.INTERNAL:return X.INTERNAL;case ft.UNAVAILABLE:return X.UNAVAILABLE;case ft.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ft.NOT_FOUND:return X.NOT_FOUND;case ft.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ft.ABORTED:return X.ABORTED;case ft.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ft.DATA_LOSS:return X.DATA_LOSS;default:return Ee()}}(Fe=ft||(ft={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new Si([4294967295,4294967295],0);function n_(n){const e=WR().encode(n),t=new zv;return t.update(e),new Uint8Array(t.digest())}function r_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Si([t,i],0),new Si([o,l],0)]}class dp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Za(`Invalid padding: ${t}`);if(i<0)throw new Za(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Za(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Za(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Si.fromNumber(this.Te)}de(e,t,i){let o=e.add(t.multiply(Si.fromNumber(i)));return o.compare(GR)===1&&(o=new Si([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=n_(e),[i,o]=r_(t);for(let l=0;l<this.hashCount;l++){const c=this.de(i,o,l);if(!this.Ee(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new dp(l,o,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Te===0)return;const t=n_(e),[i,o]=r_(t);for(let l=0;l<this.hashCount;l++){const c=this.de(i,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,kl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Jc(Se.min(),o,new it(Oe),zr(),be())}}class kl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new kl(i,t,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class v0{constructor(e,t){this.targetId=e,this.me=t}}class w0{constructor(e,t,i=Ot.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class i_{constructor(){this.fe=0,this.ge=s_(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),t=be(),i=be();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ee()}}),new kl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=s_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class KR{constructor(e){this.Be=e,this.Le=new Map,this.ke=zr(),this.qe=tc(),this.Qe=tc(),this.Ke=new it(Oe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Ef(l))if(i===0){const c=new ye(l.path);this.We(t,c,Bt.newNoDocument(c,Se.min()))}else $e(i===1);else{const c=this.Ze(t);if(c!==i){const h=this.Xe(e),p=h?this.et(h,e,c):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,h;try{c=Pi(i).toUint8Array()}catch(p){if(p instanceof Xv)return No("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new dp(c,o,l)}catch(p){return No(p instanceof Za?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Te===0?null:h}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Be.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Be.nt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Le.forEach((l,c)=>{const h=this.Ye(c);if(h){if(l.current&&Ef(h.target)){const p=new ye(h.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,Bt.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let i=be();this.Qe.forEach((l,c)=>{let h=!0;c.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new Jc(e,t,this.Ke,this.ke,i);return this.ke=zr(),this.qe=tc(),this.Qe=tc(),this.Ke=new it(Oe),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new i_,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Et(Oe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Et(Oe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new i_),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function tc(){return new it(ye.comparator)}function s_(){return new it(ye.comparator)}const QR={asc:"ASCENDING",desc:"DESCENDING"},XR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YR={and:"AND",or:"OR"};class JR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sf(n,e){return n.useProto3Json||Hc(e)?e:{value:e}}function Nc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ZR(n,e){return Nc(n,e.toTimestamp())}function rr(n){return $e(!!n),Se.fromTimestamp(function(t){const i=ki(t);return new wt(i.seconds,i.nanos)}(n))}function hp(n,e){return xf(n,e).canonicalString()}function xf(n,e){const t=function(o){return new Ye(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function T0(n){const e=Ye.fromString(n);return $e(A0(e)),e}function Rf(n,e){return hp(n.databaseId,e.path)}function Zh(n,e){const t=T0(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(S0(t))}function I0(n,e){return hp(n.databaseId,e)}function eA(n){const e=T0(n);return e.length===4?Ye.emptyPath():S0(e)}function Af(n){return new Ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function S0(n){return $e(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function o_(n,e,t){return{name:Rf(n,e),fields:t.value.mapValue.fields}}function tA(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,v){return y.useProto3Json?($e(v===void 0||typeof v=="string"),Ot.fromBase64String(v||"")):($e(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Ot.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(y){const v=y.code===void 0?X.UNKNOWN:_0(y.code);return new ce(v,y.message||"")}(c);t=new w0(i,o,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Zh(n,i.document.name),l=rr(i.document.updateTime),c=i.document.createTime?rr(i.document.createTime):Se.min(),h=new sn({mapValue:{fields:i.document.fields}}),p=Bt.newFoundDocument(o,l,c,h),y=i.targetIds||[],v=i.removedTargetIds||[];t=new mc(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Zh(n,i.document),l=i.readTime?rr(i.readTime):Se.min(),c=Bt.newNoDocument(o,l),h=i.removedTargetIds||[];t=new mc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Zh(n,i.document),l=i.removedTargetIds||[];t=new mc([],l,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new qR(o,l),h=i.targetId;t=new v0(h,c)}}return t}function nA(n,e){let t;if(e instanceof Cl)t={update:o_(n,e.key,e.value)};else if(e instanceof y0)t={delete:Rf(n,e.key)};else if(e instanceof Oi)t={update:o_(n,e.key,e.data),updateMask:dA(e.fieldMask)};else{if(!(e instanceof zR))return Ee();t={verify:Rf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const h=c.transform;if(h instanceof kc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof hl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof fl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Pc)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw Ee()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:ZR(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee()}(n,e.precondition)),t}function rA(n,e){return n&&n.length>0?($e(e!==void 0),n.map(t=>function(o,l){let c=o.updateTime?rr(o.updateTime):rr(l);return c.isEqual(Se.min())&&(c=rr(l)),new FR(c,o.transformResults||[])}(t,e))):[]}function iA(n,e){return{documents:[I0(n,e.path)]}}function sA(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=I0(n,o);const l=function(y){if(y.length!==0)return R0(zn.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(v=>function(T){return{field:To(T.field),direction:lA(T.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Sf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function oA(n){let e=eA(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){$e(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(E){const T=x0(E);return T instanceof zn&&e0(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(T=>function(D){return new Cc(Io(D.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(E){let T;return T=typeof E=="object"?E.value:E,Hc(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(E){const T=!!E.before,b=E.values||[];return new Ac(b,T)}(t.startAt));let y=null;return t.endAt&&(y=function(E){const T=!E.before,b=E.values||[];return new Ac(b,T)}(t.endAt)),xR(e,o,c,l,h,"F",p,y)}function aA(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function x0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Io(t.unaryFilter.field);return pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Io(t.unaryFilter.field);return pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Io(t.unaryFilter.field);return pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Io(t.unaryFilter.field);return pt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):n.fieldFilter!==void 0?function(t){return pt.create(Io(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return zn.create(t.compositeFilter.filters.map(i=>x0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee()}function lA(n){return QR[n]}function uA(n){return XR[n]}function cA(n){return YR[n]}function To(n){return{fieldPath:n.canonicalString()}}function Io(n){return Dt.fromServerFormat(n.fieldPath)}function R0(n){return n instanceof pt?function(t){if(t.op==="=="){if(Gy(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NAN"}};if(Wy(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Gy(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NAN"}};if(Wy(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(t.field),op:uA(t.op),value:t.value}}}(n):n instanceof zn?function(t){const i=t.getFilters().map(o=>R0(o));return i.length===1?i[0]:{compositeFilter:{op:cA(t.op),filters:i}}}(n):Ee()}function dA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function A0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,t,i,o,l=Se.min(),c=Se.min(),h=Ot.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.ht=e}}function fA(n){const e=oA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?If(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.ln=new mA}addToCollectionParentIndex(e,t){return this.ln.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Ci.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class mA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Et(Ye.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Et(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(41943040,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Oo(0)}static Qn(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_([n,e],[t,i]){const o=Oe(n,t);return o===0?Oe(e,i):o}class gA{constructor(e){this.Gn=e,this.buffer=new Et(l_),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();l_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qo(t)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ko(t)}await this.Yn(3e5)})}}class _A{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(qc.oe);const i=new gA(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(a_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a_):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,c,h,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,h=Date.now(),this.removeTargets(e,i,t))).next(E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(y=Date.now(),wo()<=Ne.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E})))}}function vA(n,e){return new _A(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.changes=new xs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&sl(i.mutation,o,fn.empty(),wt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,be()).next(()=>i))}getLocalViewOfDocuments(e,t,i=be()){const o=ms();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=Ja();return l.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ms();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,be()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,o){let l=zr();const c=il(),h=function(){return il()}();return t.forEach((p,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Oi)?l=l.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),sl(v.mutation,y,v.mutation.getFieldMask(),wt.now())):c.set(y.key,fn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,v)=>c.set(y,v)),t.forEach((y,v)=>{var E;return h.set(y,new EA(v,(E=c.get(y))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,t){const i=il();let o=new it((c,h)=>c-h),l=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||fn.empty();v=h.applyToLocalView(y,v),i.set(p,v);const E=(o.get(h.batchId)||be()).add(p);o=o.insert(h.batchId,E)})}).next(()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,v=p.value,E=u0();v.forEach(T=>{if(!l.has(T)){const b=m0(t.get(T),i.get(T));b!==null&&E.set(T,b),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return Q.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):i0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Q.resolve(ms());let h=-1,p=l;return c.next(y=>Q.forEach(y,(v,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),l.get(v)?Q.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,be())).next(v=>({batchId:h,changes:l0(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(i=>{let o=Ja();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=Ja();return this.indexManager.getCollectionParents(e,l).next(h=>Q.forEach(h,p=>{const y=function(E,T){return new Al(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(v=>{v.forEach((E,T)=>{c=c.insert(E,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,Bt.newInvalidDocument(v)))});let h=Ja();return c.forEach((p,y)=>{const v=l.get(p);v!==void 0&&sl(v.mutation,y,fn.empty(),wt.now()),Qc(t,y)&&(h=h.insert(p,y))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Q.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:rr(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:fA(o.bundledQuery),readTime:rr(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.overlays=new it(ye.comparator),this.dr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ms();return Q.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.dr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.dr.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=ms(),l=t.length+1,c=new ye(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new it((y,v)=>y-v);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=l.get(y.largestBatchId);v===null&&(v=ms(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const h=ms(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>h.set(y,v)),!(h.size()>=o)););return Q.resolve(h)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.dr.get(o.largestBatchId).delete(i.key);this.dr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new $R(t,i));let l=this.dr.get(t);l===void 0&&(l=be(),this.dr.set(t,l)),this.dr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this.Er=new Et(At.Ar),this.Rr=new Et(At.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const i=new At(e,t);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new At(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new ye(new Ye([])),i=new At(t,e),o=new At(t,e+1),l=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ye(new Ye([])),i=new At(t,e),o=new At(t,e+1);let l=be();return this.Rr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new At(e,0),i=this.Er.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class At{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ye.comparator(e.key,t.key)||Oe(e.br,t.br)}static Vr(e,t){return Oe(e.br,t.br)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Et(At.Ar)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new BR(l,t,i,o);this.mutationQueue.push(c);for(const h of o)this.vr=this.vr.add(new At(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Q.resolve(c)}lookupMutationBatch(e,t){return Q.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new At(t,0),o=new At(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],c=>{const h=this.Cr(c.br);l.push(h)}),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Et(Oe);return t.forEach(o=>{const l=new At(o,0),c=new At(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],h=>{i=i.add(h.br)})}),Q.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ye.isDocumentKey(l)||(l=l.child(""));const c=new At(new ye(l),0);let h=new Et(Oe);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(h=h.add(p.br)),!0)},c),Q.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){$e(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return Q.forEach(t.mutations,o=>{const l=new At(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,t){const i=new At(t,0),o=this.vr.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.Nr=e,this.docs=function(){return new it(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let i=zr();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Bt.newInvalidDocument(o))}),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=zr();const c=t.path,h=new ye(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||iR(rR(v),i)<=0||(o.has(v.key)||Qc(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ee()}Br(e,t){return Q.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new CA(this)}getSize(e){return Q.resolve(this.size)}}class CA extends wA{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),Q.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.persistence=e,this.Lr=new xs(t=>ap(t),lp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.kr=0,this.qr=new fp,this.targetCount=0,this.Qr=Oo.qn()}forEachTarget(e,t){return this.Lr.forEach((i,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),Q.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Oo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Un(t),Q.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Lr.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Lr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),Q.waitFor(l).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.Lr.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new qc(0),this.Ur=!1,this.Ur=!0,this.Wr=new xA,this.referenceDelegate=e(this),this.Gr=new kA(this),this.indexManager=new pA,this.remoteDocumentCache=function(o){return new AA(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new hA(t),this.jr=new IA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new SA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new RA(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ae("MemoryPersistence","Starting transaction:",e);const o=new PA(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return Q.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class PA extends oR{constructor(e){super(),this.currentSequenceNumber=e}}class pp{constructor(e){this.persistence=e,this.Zr=new fp,this.Xr=null}static ei(e){return new pp(e)}get ti(){if(this.Xr)return this.Xr;throw Ee()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ti,i=>{const o=ye.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Se.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Q.or([()=>Q.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class bc{constructor(e,t){this.persistence=e,this.ri=new xs(i=>uR(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=vA(this,t)}static ei(e,t){return new bc(e,t)}Hr(){}Jr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return Q.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?Q.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Br(e,c=>this.ir(e,c,t).next(h=>{h||(i++,l.removeEntry(c,Se.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hc(e.data.value)),t}ir(e,t,i){return Q.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=be(),o=be();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new mp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return kI()?8:aR($t())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new NA;return this.ts(e,t,c).next(h=>{if(l.result=h,this.Hi)return this.ns(e,t,c,h.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(wo()<=Ne.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Q.resolve()):(wo()<=Ne.DEBUG&&ae("QueryEngine","Query:",Eo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(wo()<=Ne.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):Q.resolve())}Xi(e,t){if(Yy(t))return Q.resolve(null);let i=tr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=If(t,null,"F"),i=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=be(...l);return this.Zi.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,h);return this.ss(t,y,c,p.readTime)?this.Xi(e,If(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return Yy(t)||o.isEqual(Se.min())?Q.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const c=this.rs(t,l);return this.ss(t,c,i,o)?Q.resolve(null):(wo()<=Ne.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(t)),this.os(e,c,t,nR(o,-1)).next(h=>h))})}rs(e,t){let i=new Et(o0(e));return t.forEach((o,l)=>{Qc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return wo()<=Ne.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ci.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new it(Oe),this.cs=new xs(l=>ap(l),lp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TA(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function LA(n,e,t,i){return new DA(n,e,t,i)}async function k0(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],h=[];let p=be();for(const y of o){c.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of l){h.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:h}))})})}function OA(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,p,y,v){const E=y.batch,T=E.keys();let b=Q.resolve();return T.forEach(D=>{b=b.next(()=>v.getEntry(p,D)).next(j=>{const M=y.docVersions.get(D);$e(M!==null),j.version.compareTo(M)<0&&(E.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),v.addEntry(j)))})}),b.next(()=>h.mutationQueue.removeMutationBatch(p,E))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=be();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(p=p.add(h.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function P0(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function VA(n,e){const t=xe(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const h=[];e.targetChanges.forEach((v,E)=>{const T=o.get(E);if(!T)return;h.push(t.Gr.removeMatchingKeys(l,v.removedDocuments,E).next(()=>t.Gr.addMatchingKeys(l,v.addedDocuments,E)));let b=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?b=b.withResumeToken(Ot.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,i)),o=o.insert(E,b),function(j,M,z){return j.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(T,b,v)&&h.push(t.Gr.updateTargetData(l,b))});let p=zr(),y=be();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),h.push(MA(l,c,e.documentUpdates).next(v=>{p=v.Is,y=v.ds})),!i.isEqual(Se.min())){const v=t.Gr.getLastRemoteSnapshotVersion(l).next(E=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(v)}return Q.waitFor(h).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function MA(n,e,t){let i=be(),o=be();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=zr();return t.forEach((h,p)=>{const y=l.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):ae("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)}),{Is:c,ds:o}})}function FA(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function jA(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,Q.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new wi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Cf(n,e,t){const i=xe(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Qo(c))throw c;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function u_(n,e,t){const i=xe(n);let o=Se.min(),l=be();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,v){const E=xe(p),T=E.cs.get(v);return T!==void 0?Q.resolve(E.us.get(T)):E.Gr.getTargetData(y,v)}(i,c,tr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,h.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Se.min(),t?l:be())).next(h=>(UA(i,AR(e),h),{documents:h,Es:l})))}function UA(n,e,t){let i=n.ls.get(e)||Se.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class c_{constructor(){this.activeTargetIds=DR()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zA{constructor(){this._o=new c_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new c_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc=null;function ef(){return nc===null?nc=function(){return 268435456+Math.round(2147483648*Math.random())}():nc++,"0x"+nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class HA extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,c){const h=ef(),p=this.No(t,i.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${h}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(y,l,c),this.Lo(t,p,y,o).then(v=>(ae("RestConnection",`Received RPC '${t}' ${h}: `,v),v),v=>{throw No("RestConnection",`RPC '${t}' ${h} failed with error: `,v,"url: ",p,"request:",o),v})}ko(t,i,o,l,c,h){return this.Oo(t,i,o,l,c)}Bo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Go}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),o&&o.headers.forEach((l,c)=>t[c]=l)}No(t,i){const o=$A[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,i,o){const l=ef();return new Promise((c,h)=>{const p=new Bv;p.setWithCredentials(!0),p.listenOnce($v.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case dc.NO_ERROR:const v=p.getResponseJson();ae(Ut,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case dc.TIMEOUT:ae(Ut,`RPC '${e}' ${l} timed out`),h(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const E=p.getStatus();if(ae(Ut,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const b=T==null?void 0:T.error;if(b&&b.status&&b.message){const D=function(M){const z=M.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(z)>=0?z:X.UNKNOWN}(b.status);h(new ce(D,b.message))}else h(new ce(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new ce(X.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ae(Ut,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ae(Ut,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=ef(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Wv(),h=Hv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");ae(Ut,`Creating RPC '${e}' stream ${o}: ${v}`,p);const E=c.createWebChannel(v,p);let T=!1,b=!1;const D=new qA({Eo:M=>{b?ae(Ut,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(T||(ae(Ut,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),ae(Ut,`RPC '${e}' stream ${o} sending:`,M),E.send(M))},Ao:()=>E.close()}),j=(M,z,G)=>{M.listen(z,ee=>{try{G(ee)}catch(ie){setTimeout(()=>{throw ie},0)}})};return j(E,Ya.EventType.OPEN,()=>{b||(ae(Ut,`RPC '${e}' stream ${o} transport opened.`),D.So())}),j(E,Ya.EventType.CLOSE,()=>{b||(b=!0,ae(Ut,`RPC '${e}' stream ${o} transport closed`),D.Do())}),j(E,Ya.EventType.ERROR,M=>{b||(b=!0,No(Ut,`RPC '${e}' stream ${o} transport errored:`,M),D.Do(new ce(X.UNAVAILABLE,"The operation could not be completed")))}),j(E,Ya.EventType.MESSAGE,M=>{var z;if(!b){const G=M.data[0];$e(!!G);const ee=G,ie=(ee==null?void 0:ee.error)||((z=ee[0])===null||z===void 0?void 0:z.error);if(ie){ae(Ut,`RPC '${e}' stream ${o} received error:`,ie);const me=ie.status;let ue=function(R){const P=ft[R];if(P!==void 0)return _0(P)}(me),L=ie.message;ue===void 0&&(ue=X.INTERNAL,L="Unknown error status: "+me+" with message "+ie.message),b=!0,D.Do(new ce(ue,L)),E.close()}else ae(Ut,`RPC '${e}' stream ${o} received:`,G),D.vo(G)}}),j(h,qv.STAT_EVENT,M=>{M.stat===yf.PROXY?ae(Ut,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===yf.NOPROXY&&ae(Ut,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.bo()},0),D}}function tf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(n){return new JR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,t,i,o,l,c,h,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new N0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ce(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.d_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WA extends b0{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=tA(this.serializer,e),i=function(l){if(!("targetChange"in l))return Se.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?rr(c.readTime):Se.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Af(this.serializer),t.addTarget=function(l,c){let h;const p=c.target;if(h=Ef(p)?{documents:iA(l,p)}:{query:sA(l,p).ct},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=E0(l,c.resumeToken);const y=Sf(l,c.expectedCount);y!==null&&(h.expectedCount=y)}else if(c.snapshotVersion.compareTo(Se.min())>0){h.readTime=Nc(l,c.snapshotVersion.toTimestamp());const y=Sf(l,c.expectedCount);y!==null&&(h.expectedCount=y)}return h}(this.serializer,e);const i=aA(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Af(this.serializer),t.removeTarget=e,this.c_(t)}}class GA extends b0{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=rA(e.writeResults,e.commitTime),i=rr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Af(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>nA(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,xf(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(X.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.ko(e,xf(t,i),o,c,h,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(X.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class QA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ur(t),this.C_=!1):ae("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{Rs(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=xe(p);y.k_.add(4),await Pl(y),y.K_.set("Unknown"),y.k_.delete(4),await ed(y)}(this))})}),this.K_=new QA(i,o)}}async function ed(n){if(Rs(n))for(const e of n.q_)await e(!0)}async function Pl(n){for(const e of n.q_)await e(!1)}function D0(n,e){const t=xe(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),vp(t)?_p(t):Xo(t).s_()&&yp(t,e))}function gp(n,e){const t=xe(n),i=Xo(t);t.L_.delete(e),i.s_()&&L0(t,e),t.L_.size===0&&(i.s_()?i.a_():Rs(t)&&t.K_.set("Unknown"))}function yp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xo(n).V_(e)}function L0(n,e){n.U_.xe(e),Xo(n).m_(e)}function _p(n){n.U_=new KR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Xo(n).start(),n.K_.F_()}function vp(n){return Rs(n)&&!Xo(n).i_()&&n.L_.size>0}function Rs(n){return xe(n).k_.size===0}function O0(n){n.U_=void 0}async function YA(n){n.K_.set("Online")}async function JA(n){n.L_.forEach((e,t)=>{yp(n,e)})}async function ZA(n,e){O0(n),vp(n)?(n.K_.O_(e),_p(n)):n.K_.set("Unknown")}async function eC(n,e,t){if(n.K_.set("Online"),e instanceof w0&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const h of l.targetIds)o.L_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.L_.delete(h),o.U_.removeTarget(h))}(n,e)}catch(i){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Dc(n,i)}else if(e instanceof mc?n.U_.$e(e):e instanceof v0?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Se.min()))try{const i=await P0(n.localStore);t.compareTo(i)>=0&&await function(l,c){const h=l.U_.it(c);return h.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.L_.get(y);v&&l.L_.set(y,v.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach((p,y)=>{const v=l.L_.get(p);if(!v)return;l.L_.set(p,v.withResumeToken(Ot.EMPTY_BYTE_STRING,v.snapshotVersion)),L0(l,p);const E=new wi(v.target,p,y,v.sequenceNumber);yp(l,E)}),l.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){ae("RemoteStore","Failed to raise snapshot:",i),await Dc(n,i)}}async function Dc(n,e,t){if(!Qo(e))throw e;n.k_.add(1),await Pl(n),n.K_.set("Offline"),t||(t=()=>P0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await ed(n)})}function V0(n,e){return e().catch(t=>Dc(n,t,e))}async function td(n){const e=xe(n),t=bi(e);let i=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;tC(e);)try{const o=await FA(e.localStore,i);if(o===null){e.B_.length===0&&t.a_();break}i=o.batchId,nC(e,o)}catch(o){await Dc(e,o)}M0(e)&&F0(e)}function tC(n){return Rs(n)&&n.B_.length<10}function nC(n,e){n.B_.push(e);const t=bi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function M0(n){return Rs(n)&&!bi(n).i_()&&n.B_.length>0}function F0(n){bi(n).start()}async function rC(n){bi(n).w_()}async function iC(n){const e=bi(n);for(const t of n.B_)e.g_(t.mutations)}async function sC(n,e,t){const i=n.B_.shift(),o=cp.from(i,e,t);await V0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await td(n)}async function oC(n,e){e&&bi(n).f_&&await async function(i,o){if(function(c){return HR(c)&&c!==X.ABORTED}(o.code)){const l=i.B_.shift();bi(i).__(),await V0(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await td(i)}}(n,e),M0(n)&&F0(n)}async function h_(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const i=Rs(t);t.k_.add(3),await Pl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await ed(t)}async function aC(n,e){const t=xe(n);e?(t.k_.delete(2),await ed(t)):e||(t.k_.add(2),await Pl(t),t.K_.set("Unknown"))}function Xo(n){return n.W_||(n.W_=function(t,i,o){const l=xe(t);return l.b_(),new WA(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:YA.bind(null,n),mo:JA.bind(null,n),po:ZA.bind(null,n),R_:eC.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),vp(n)?_p(n):n.K_.set("Unknown")):(await n.W_.stop(),O0(n))})),n.W_}function bi(n){return n.G_||(n.G_=function(t,i,o){const l=xe(t);return l.b_(),new GA(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:rC.bind(null,n),po:oC.bind(null,n),p_:iC.bind(null,n),y_:sC.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await td(n)):(await n.G_.stop(),n.B_.length>0&&(ae("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,h=new wp(e,t,c,o,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(n,e){if(Ur("AsyncQueue",`${e}: ${n}`),Qo(n))return new ce(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ye.comparator(t.key,i.key):(t,i)=>ye.comparator(t.key,i.key),this.keyedMap=Ja(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ao;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.z_=new it(ye.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ee():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Vo{constructor(e,t,i,o,l,c,h,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Vo(e,t,Ao.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class uC{constructor(){this.queries=p_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=xe(t),l=o.queries;o.queries=p_(),l.forEach((c,h)=>{for(const p of h.J_)p.onError(i)})})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function p_(){return new xs(n=>s0(n),Kc)}async function j0(n,e){const t=xe(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new lC,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=Ep(c,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Tp(t)}async function U0(n,e){const t=xe(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function cC(n,e){const t=xe(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const h of c.J_)h.ta(o)&&(i=!0);c.H_=o}}i&&Tp(t)}function dC(n,e,t){const i=xe(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Tp(n){n.X_.forEach(e=>{e.next()})}var kf,m_;(m_=kf||(kf={})).na="default",m_.Cache="cache";class z0{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Vo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.key=e}}class $0{constructor(e){this.key=e}}class hC{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=be(),this.mutatedKeys=be(),this.Va=o0(e),this.ma=new Ao(this.Va)}get fa(){return this.Ea}ga(e,t){const i=t?t.pa:new f_,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,E)=>{const T=o.get(v),b=Qc(this.query,E)?E:null,D=!!T&&this.mutatedKeys.has(T.key),j=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let M=!1;T&&b?T.data.isEqual(b.data)?D!==j&&(i.track({type:3,doc:b}),M=!0):this.ya(T,b)||(i.track({type:2,doc:b}),M=!0,(p&&this.Va(b,p)>0||y&&this.Va(b,y)<0)&&(h=!0)):!T&&b?(i.track({type:0,doc:b}),M=!0):T&&!b&&(i.track({type:1,doc:T}),M=!0,(p||y)&&(h=!0)),M&&(b?(c=c.add(b),l=j?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{ma:c,pa:i,ss:h,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((v,E)=>function(b,D){const j=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return j(b)-j(D)}(v.type,E.type)||this.Va(v.doc,E.doc)),this.wa(i),o=o!=null&&o;const h=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,c.length!==0||y?{snapshot:new Vo(this.query,e.ma,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new f_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=be(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new $0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new B0(i))}),t}va(e){this.Ea=e.Es,this.Ra=be();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Vo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class fC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class pC{constructor(e){this.key=e,this.Fa=!1}}class mC{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new xs(h=>s0(h),Kc),this.Oa=new Map,this.Na=new Set,this.Ba=new it(ye.comparator),this.La=new Map,this.ka=new fp,this.qa={},this.Qa=new Map,this.Ka=Oo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function gC(n,e,t=!0){const i=Q0(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await q0(i,e,t,!0),o}async function yC(n,e){const t=Q0(n);await q0(t,e,!0,!1)}async function q0(n,e,t,i){const o=await jA(n.localStore,tr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await _C(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&D0(n.remoteStore,o),h}async function _C(n,e,t,i,o){n.Ua=(E,T,b)=>async function(j,M,z,G){let ee=M.view.ga(z);ee.ss&&(ee=await u_(j.localStore,M.query,!1).then(({documents:L})=>M.view.ga(L,ee)));const ie=G&&G.targetChanges.get(M.targetId),me=G&&G.targetMismatches.get(M.targetId)!=null,ue=M.view.applyChanges(ee,j.isPrimaryClient,ie,me);return y_(j,M.targetId,ue.ba),ue.snapshot}(n,E,T,b);const l=await u_(n.localStore,e,!0),c=new hC(e,l.Es),h=c.ga(l.documents),p=kl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(h,n.isPrimaryClient,p);y_(n,t,y.ba);const v=new fC(e,t,c);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function vC(n,e,t){const i=xe(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(c=>!Kc(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Cf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&gp(i.remoteStore,o.targetId),Pf(i,o.targetId)}).catch(Ko)):(Pf(i,o.targetId),await Cf(i.localStore,o.targetId,!0))}async function wC(n,e){const t=xe(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),gp(t.remoteStore,i.targetId))}async function EC(n,e,t){const i=CC(n);try{const o=await function(c,h){const p=xe(c),y=wt.now(),v=h.reduce((b,D)=>b.add(D.key),be());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",b=>{let D=zr(),j=be();return p.hs.getEntries(b,v).next(M=>{D=M,D.forEach((z,G)=>{G.isValidDocument()||(j=j.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(b,D)).next(M=>{E=M;const z=[];for(const G of h){const ee=UR(G,E.get(G.key).overlayedDocument);ee!=null&&z.push(new Oi(G.key,ee,Yv(ee.value.mapValue),nr.exists(!0)))}return p.mutationQueue.addMutationBatch(b,y,z,h)}).next(M=>{T=M;const z=M.applyToLocalDocumentSet(E,j);return p.documentOverlayCache.saveOverlays(b,M.batchId,z)})}).then(()=>({batchId:T.batchId,changes:l0(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,h,p){let y=c.qa[c.currentUser.toKey()];y||(y=new it(Oe)),y=y.insert(h,p),c.qa[c.currentUser.toKey()]=y}(i,o.batchId,t),await Nl(i,o.changes),await td(i.remoteStore)}catch(o){const l=Ep(o,"Failed to persist write");t.reject(l)}}async function H0(n,e){const t=xe(n);try{const i=await VA(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.La.get(l);c&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?$e(c.Fa):o.removedDocuments.size>0&&($e(c.Fa),c.Fa=!1))}),await Nl(t,i,e)}catch(i){await Ko(i)}}function g_(n,e,t){const i=xe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,c)=>{const h=c.view.ea(e);h.snapshot&&o.push(h.snapshot)}),function(c,h){const p=xe(c);p.onlineState=h;let y=!1;p.queries.forEach((v,E)=>{for(const T of E.J_)T.ea(h)&&(y=!0)}),y&&Tp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function TC(n,e,t){const i=xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.La.get(e),l=o&&o.key;if(l){let c=new it(ye.comparator);c=c.insert(l,Bt.newNoDocument(l,Se.min()));const h=be().add(l),p=new Jc(Se.min(),new Map,new it(Oe),c,h);await H0(i,p),i.Ba=i.Ba.remove(l),i.La.delete(e),Ip(i)}else await Cf(i.localStore,e,!1).then(()=>Pf(i,e,t)).catch(Ko)}async function IC(n,e){const t=xe(n),i=e.batch.batchId;try{const o=await OA(t.localStore,e);G0(t,i,null),W0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Nl(t,o)}catch(o){await Ko(o)}}async function SC(n,e,t){const i=xe(n);try{const o=await function(c,h){const p=xe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,h).next(E=>($e(E!==null),v=E.keys(),p.mutationQueue.removeMutationBatch(y,E))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(i.localStore,e);G0(i,e,t),W0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Nl(i,o)}catch(o){await Ko(o)}}function W0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function G0(n,e,t){const i=xe(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Pf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||K0(n,i)})}function K0(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(gp(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),Ip(n))}function y_(n,e,t){for(const i of t)i instanceof B0?(n.ka.addReference(i.key,e),xC(n,i)):i instanceof $0?(ae("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||K0(n,i.key)):Ee()}function xC(n,e){const t=e.key,i=t.path.canonicalString();n.Ba.get(t)||n.Na.has(i)||(ae("SyncEngine","New document in limbo: "+t),n.Na.add(i),Ip(n))}function Ip(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ye(Ye.fromString(e)),i=n.Ka.next();n.La.set(i,new pC(t)),n.Ba=n.Ba.insert(t,i),D0(n.remoteStore,new wi(tr(Gc(t.path)),i,"TargetPurposeLimboResolution",qc.oe))}}async function Nl(n,e,t){const i=xe(n),o=[],l=[],c=[];i.xa.isEmpty()||(i.xa.forEach((h,p)=>{c.push(i.Ua(p,e,t).then(y=>{var v;if((y||t)&&i.isPrimaryClient){const E=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=mp.zi(p.targetId,y);l.push(E)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,y){const v=xe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Q.forEach(y,T=>Q.forEach(T.Wi,b=>v.persistence.referenceDelegate.addReference(E,T.targetId,b)).next(()=>Q.forEach(T.Gi,b=>v.persistence.referenceDelegate.removeReference(E,T.targetId,b)))))}catch(E){if(!Qo(E))throw E;ae("LocalStore","Failed to update sequence numbers: "+E)}for(const E of y){const T=E.targetId;if(!E.fromCache){const b=v.us.get(T),D=b.snapshotVersion,j=b.withLastLimboFreeSnapshotVersion(D);v.us=v.us.insert(T,j)}}}(i.localStore,l))}async function RC(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const i=await k0(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(h=>{h.forEach(p=>{p.reject(new ce(X.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Nl(t,i.Ts)}}function AC(n,e){const t=xe(n),i=t.La.get(e);if(i&&i.Fa)return be().add(i.key);{let o=be();const l=t.Oa.get(e);if(!l)return o;for(const c of l){const h=t.xa.get(c);o=o.unionWith(h.view.fa)}return o}}function Q0(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=H0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TC.bind(null,e),e.Ma.R_=cC.bind(null,e.eventManager),e.Ma.Wa=dC.bind(null,e.eventManager),e}function CC(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SC.bind(null,e),e}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return LA(this.persistence,new bA,e.initialUser,this.serializer)}ja(e){return new C0(pp.ei,this.serializer)}za(e){return new zA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class kC extends Lc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){$e(this.persistence.referenceDelegate instanceof bc);const i=this.persistence.referenceDelegate.garbageCollector;return new yA(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new C0(i=>bc.ei(i,t),this.serializer)}}class Nf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>g_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=RC.bind(null,this.syncEngine),await aC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uC}()}createDatastore(e){const t=Zc(e.databaseInfo.databaseId),i=function(l){return new HA(l)}(e.databaseInfo);return function(l,c,h,p){return new KA(l,c,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,h){return new XA(i,o,l,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>g_(this.syncEngine,t,0),function(){return d_.p()?new d_:new BA}())}createSyncEngine(e,t){return function(o,l,c,h,p,y,v){const E=new mC(o,l,c,h,p,y);return v&&(E.$a=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=xe(o);ae("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Pl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Nf.provider={build:()=>new Nf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=Kv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ae("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ae("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Ep(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function nf(n,e){n.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await k0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function __(n,e){n.asyncQueue.verifyOperationInProgress();const t=await NC(n);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>h_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>h_(e.remoteStore,o)),n._onlineComponents=e}async function NC(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await nf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;No("Error using user provided cache. Falling back to memory cache: "+t),await nf(n,new Lc)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await nf(n,new kC(void 0));return n._offlineComponents}async function Y0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await __(n,n._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await __(n,new Nf))),n._onlineComponents}function bC(n){return Y0(n).then(e=>e.syncEngine)}async function bf(n){const e=await Y0(n),t=e.eventManager;return t.onListen=gC.bind(null,e.syncEngine),t.onUnlisten=vC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=wC.bind(null,e.syncEngine),t}function DC(n,e,t={}){const i=new xi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,p,y){const v=new X0({next:T=>{v.eu(),c.enqueueAndForget(()=>U0(l,E));const b=T.docs.has(h);!b&&T.fromCache?y.reject(new ce(X.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&T.fromCache&&p&&p.source==="server"?y.reject(new ce(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),E=new z0(Gc(h.path),v,{includeMetadataChanges:!0,ua:!0});return j0(l,E)}(await bf(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(n,e,t){if(!t)throw new ce(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LC(n,e,t,i){if(e===!0&&i===!0)throw new ce(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function w_(n){if(!ye.isDocumentKey(n))throw new ce(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function E_(n){if(ye.isDocumentKey(n))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee()}function Vr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nd(n);throw new ce(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Gx;switch(i.type){case"firstParty":return new Yx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=v_.get(t);i&&(ae("ComponentProvider","Removing Datastore"),v_.delete(t),i.terminate())}(this),Promise.resolve()}}function OC(n,e,t,i={}){var o;const l=(n=Vr(n,rd))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let h,p;if(typeof i.mockUserToken=="string")h=i.mockUserToken,p=zt.MOCK_USER;else{h=TI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new zt(y)}n._authCredentials=new Kx(new Gv(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yo(this.firestore,e,this._query)}}class Kt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}}class Ri extends Yo{constructor(e,t,i){super(e,t,Gc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new ye(e))}withConverter(e){return new Ri(this.firestore,e,this._path)}}function Mo(n,e,...t){if(n=Lt(n),Z0("collection","path",e),n instanceof rd){const i=Ye.fromString(e,...t);return E_(i),new Ri(n,null,i)}{if(!(n instanceof Kt||n instanceof Ri))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ye.fromString(e,...t));return E_(i),new Ri(n.firestore,null,i)}}function Es(n,e,...t){if(n=Lt(n),arguments.length===1&&(e=Kv.newId()),Z0("doc","path",e),n instanceof rd){const i=Ye.fromString(e,...t);return w_(i),new Kt(n,null,new ye(i))}{if(!(n instanceof Kt||n instanceof Ri))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ye.fromString(e,...t));return w_(i),new Kt(n.firestore,n instanceof Ri?n.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new N0(this,"async_queue_retry"),this.fu=()=>{const i=tf();i&&ae("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=tf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=tf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new xi;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Qo(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw Ur("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=wp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.Eu.push(o),o}pu(){this.Au&&Ee()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function S_(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Fo extends rd{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new I_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I_(e),this._firestoreClient=void 0,await e}}}function VC(n,e){const t=typeof n=="object"?n:av(),i=typeof n=="string"?n:"(default)",o=Wf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=wI("firestore");l&&OC(o,...l)}return o}function Sp(n){if(n._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||MC(n),n._firestoreClient}function MC(n){var e,t,i;const o=n._freezeSettings(),l=function(h,p,y,v){return new hR(h,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,J0(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new PC(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jo(Ot.fromBase64String(e))}catch(t){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jo(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=/^__.*__$/;class jC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Oi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cl(e,this.data,t,this.fieldTransforms)}}class ew{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Oi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Cp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Cp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Bu(e),o}Lu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Oc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(tw(this.Mu)&&FC.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class UC{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Zc(e)}$u(e,t,i,o=!1){return new Cp({Mu:e,methodName:t,Ku:i,path:Dt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kp(n){const e=n._freezeSettings(),t=Zc(n._databaseId);return new UC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zC(n,e,t,i,o,l={}){const c=n.$u(l.merge||l.mergeFields?2:0,e,t,o);Pp("Data must be an object, but it was:",c,i);const h=nw(i,c);let p,y;if(l.merge)p=new fn(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const T=Df(e,E,t);if(!c.contains(T))throw new ce(X.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);iw(v,T)||v.push(T)}p=new fn(v),y=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=c.fieldTransforms;return new jC(new sn(h),p,y)}class sd extends xp{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sd}}function BC(n,e,t,i){const o=n.$u(1,e,t);Pp("Data must be an object, but it was:",o,i);const l=[],c=sn.empty();Li(i,(p,y)=>{const v=Np(e,p,t);y=Lt(y);const E=o.Lu(v);if(y instanceof sd)l.push(v);else{const T=bl(y,E);T!=null&&(l.push(v),c.set(v,T))}});const h=new fn(l);return new ew(c,h,o.fieldTransforms)}function $C(n,e,t,i,o,l){const c=n.$u(1,e,t),h=[Df(e,i,t)],p=[o];if(l.length%2!=0)throw new ce(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)h.push(Df(e,l[T])),p.push(l[T+1]);const y=[],v=sn.empty();for(let T=h.length-1;T>=0;--T)if(!iw(y,h[T])){const b=h[T];let D=p[T];D=Lt(D);const j=c.Lu(b);if(D instanceof sd)y.push(b);else{const M=bl(D,j);M!=null&&(y.push(b),v.set(b,M))}}const E=new fn(y);return new ew(v,E,c.fieldTransforms)}function qC(n,e,t,i=!1){return bl(t,n.$u(i?4:3,e))}function bl(n,e){if(rw(n=Lt(n)))return Pp("Unsupported field value:",e,n),nw(n,e);if(n instanceof xp)return function(i,o){if(!tw(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const h of i){let p=bl(h,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=Lt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return LR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=wt.fromDate(i);return{timestampValue:Nc(o.serializer,l)}}if(i instanceof wt){const l=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nc(o.serializer,l)}}if(i instanceof Rp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof jo)return{bytesValue:E0(o.serializer,i._byteString)};if(i instanceof Kt){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:hp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Ap)return function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.qu("VectorValues must only contain numeric values.");return up(h.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${nd(i)}`)}(n,e)}function nw(n,e){const t={};return Qv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Li(n,(i,o)=>{const l=bl(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function rw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wt||n instanceof Rp||n instanceof jo||n instanceof Kt||n instanceof xp||n instanceof Ap)}function Pp(n,e,t){if(!rw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=nd(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function Df(n,e,t){if((e=Lt(e))instanceof id)return e._internalPath;if(typeof e=="string")return Np(n,e);throw Oc("Field path arguments must be of type string or ",n,!1,void 0,t)}const HC=new RegExp("[~\\*/\\[\\]]");function Np(n,e,t){if(e.search(HC)>=0)throw Oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new id(...e.split("."))._internalPath}catch{throw Oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Oc(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ce(X.INVALID_ARGUMENT,h+n+p)}function iw(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class WC extends sw{data(){return super.data()}}function bp(n,e){return typeof e=="string"?Np(n,e):e instanceof id?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dp{}class KC extends Dp{}function pl(n,e,...t){let i=[];e instanceof Dp&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof Lp).length,h=l.filter(p=>p instanceof od).length;if(c>1||c>0&&h>0)throw new ce(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class od extends KC{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new od(e,t,i)}_apply(e){const t=this._parse(e);return ow(e._query,t),new Yo(e.firestore,e.converter,Tf(e._query,t))}_parse(e){const t=kp(e.firestore);return function(l,c,h,p,y,v,E){let T;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ce(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){R_(E,v);const b=[];for(const D of E)b.push(x_(p,l,D));T={arrayValue:{values:b}}}else T=x_(p,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||R_(E,v),T=qC(h,c,E,v==="in"||v==="not-in");return pt.create(y,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Uo(n,e,t){const i=e,o=bp("where",n);return od._create(o,i,t)}class Lp extends Dp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Lp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:zn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const h=l.getFlattenedFilters();for(const p of h)ow(c,p),c=Tf(c,p)}(e._query,t),new Yo(e.firestore,e.converter,Tf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function x_(n,e,t){if(typeof(t=Lt(t))=="string"){if(t==="")throw new ce(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i0(e)&&t.indexOf("/")!==-1)throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ye.fromString(t));if(!ye.isDocumentKey(i))throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Hy(n,new ye(i))}if(t instanceof Kt)return Hy(n,t._key);throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nd(t)}.`)}function R_(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ow(n,e){const t=function(o,l){for(const c of o)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class QC{convertValue(e,t="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Li(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>ut(c.doubleValue));return new Ap(l)}convertGeoPoint(e){return new Rp(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Wc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ul(e));default:return null}}convertTimestamp(e){const t=ki(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ye.fromString(e);$e(A0(i));const o=new cl(i.get(1),i.get(3)),l=new ye(i.popFirst(5));return o.isEqual(t)||Ur(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aw extends sw{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(bp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class gc extends aw{data(e={}){return super.data(e)}}class YC{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new el(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new gc(this._firestore,this._userDataWriter,i.key,i,new el(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(h=>{const p=new gc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new el(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const p=new gc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new el(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return h.type!==0&&(y=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:JC(h.type),doc:p,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(n){n=Vr(n,Kt);const e=Vr(n.firestore,Fo);return DC(Sp(e),n._key).then(t=>dw(e,n,t))}class uw extends QC{constructor(e){super(),this.firestore=e}convertBytes(e){return new jo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,t)}}function ad(n,e,t,...i){n=Vr(n,Kt);const o=Vr(n.firestore,Fo),l=kp(o);let c;return c=typeof(e=Lt(e))=="string"||e instanceof id?$C(l,"updateDoc",n._key,e,t,i):BC(l,"updateDoc",n._key,e),cw(o,[c.toMutation(n._key,nr.exists(!0))])}function ZC(n,e){const t=Vr(n.firestore,Fo),i=Es(n),o=XC(n.converter,e);return cw(t,[zC(kp(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,nr.exists(!1))]).then(()=>i)}function ml(n,...e){var t,i,o;n=Lt(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||S_(e[c])||(l=e[c],c++);const h={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(S_(e[c])){const E=e[c];e[c]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[c+1]=(i=E.error)===null||i===void 0?void 0:i.bind(E),e[c+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let p,y,v;if(n instanceof Kt)y=Vr(n.firestore,Fo),v=Gc(n._key.path),p={next:E=>{e[c]&&e[c](dw(y,n,E))},error:e[c+1],complete:e[c+2]};else{const E=Vr(n,Yo);y=Vr(E.firestore,Fo),v=E._query;const T=new uw(y);p={next:b=>{e[c]&&e[c](new YC(y,T,E,b))},error:e[c+1],complete:e[c+2]},GC(n._query)}return function(T,b,D,j){const M=new X0(j),z=new z0(b,M,D);return T.asyncQueue.enqueueAndForget(async()=>j0(await bf(T),z)),()=>{M.eu(),T.asyncQueue.enqueueAndForget(async()=>U0(await bf(T),z))}}(Sp(y),v,h,p)}function cw(n,e){return function(i,o){const l=new xi;return i.asyncQueue.enqueueAndForget(async()=>EC(await bC(i),o,l)),l.promise}(Sp(n),e)}function dw(n,e,t){const i=t.docs.get(e._key),o=new uw(n);return new aw(n,o,e._key,i,new el(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Go=o})(Ho),ko(new _s("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new Fo(new Qx(i.getProvider("auth-internal")),new Zx(i.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cl(y.options.projectId,v)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Ii(jy,"4.7.6",e),Ii(jy,"4.7.6","esm2017")})();const ek={apiKey:"AIzaSyCn7v2FowgxUN5dwudjwsCFUkmyp9nZ8ag",authDomain:"startuphub-ced87.firebaseapp.com",projectId:"startuphub-ced87",storageBucket:"startuphub-ced87.firebasestorage.app",messagingSenderId:"337192959062",appId:"1:337192959062:web:b89ee9fa3e5478c519cff7",measurementId:"G-HZ0TBSZW25"},hw=ov(ek),fw=Hx(hw),Sn=VC(hw),tk=new Cr,pw=C.createContext();function nk({children:n}){const[e,t]=C.useState(null),[i,o]=C.useState(!0);return C.useEffect(()=>LS(fw,c=>{t(c),o(!1)}),[]),S.jsx(pw.Provider,{value:{currentUser:e},children:!i&&n})}function rk(){const n=Fc(),e=async()=>{try{await ex(fw,tk),n("/choose-role")}catch(t){console.error("Login failed:",t)}};return S.jsx("div",{className:"min-h-screen bg-black flex items-center",children:S.jsx("div",{className:"container mx-auto px-4 py-16",children:S.jsxs("div",{className:"max-w-6xl mx-auto grid lg:grid-cols-2 gap-12 items-center",children:[S.jsxs("div",{className:"space-y-6 text-center lg:text-left",children:[S.jsxs("h1",{className:"text-4xl font-bold text-white leading-tight font-sans",children:["Elevate Your Vision with",S.jsx("span",{className:"text-purple-400 block mt-2 font-extrabold text-6xl tracking-wide uppercase",children:"Startup Nexus"})]}),S.jsx("p",{className:"text-xl text-gray-400 max-w-lg font-light",children:"Where visionary founders meet passionate talent. The future starts here."}),S.jsxs("button",{onClick:e,className:"bg-purple-600 px-8 py-4 rounded-xl shadow-md hover:shadow-lg transition-all flex items-center gap-4 w-fit text-white font-semibold text-lg transform hover:scale-105",children:[S.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{d:"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"})}),S.jsx("span",{children:"Continue with Google"})]})]}),S.jsxs("div",{className:"hidden lg:block relative",children:[S.jsx("div",{className:"bg-gray-900 rounded-2xl p-8 aspect-square transform rotate-2 shadow-md",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 transform -rotate-2 shadow-lg",children:[S.jsx("h3",{className:"text-lg font-semibold mb-4 text-white font-sans",children:"Explore Opportunities"}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex justify-between items-center bg-gray-700 p-2 rounded-md hover:bg-gray-600 transition-all",children:[S.jsx("span",{className:"font-medium text-gray-300 font-sans",children:"Founder Listings"}),S.jsx("span",{className:"text-sm text-gray-500",children:"🚀 200+ Startups"})]}),S.jsxs("div",{className:"flex justify-between items-center bg-gray-700 p-2 rounded-md hover:bg-gray-600 transition-all",children:[S.jsx("span",{className:"font-medium text-gray-300 font-sans",children:"Job Seeker Profiles"}),S.jsx("span",{className:"text-sm text-gray-500",children:"💼 500+ Talents"})]})]})]})}),S.jsxs("div",{className:"absolute -bottom-12 -right-12 bg-purple-600 rounded-2xl p-6 w-64 shadow-md text-white transform hover:scale-105 transition-all",children:[S.jsx("h3",{className:"text-lg font-semibold mb-4 font-sans",children:"Success Stories"}),S.jsx("div",{className:"space-y-2",children:["AI Innovators Thriving","Fintech Scaling Fast","Creative Teams Succeeding"].map((t,i)=>S.jsx("div",{className:"text-sm font-light",children:S.jsxs("span",{children:["⭐ ",t]})},i))})]})]})]})})})}function Jo(){const n=C.useContext(pw);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}function ik({title:n,titleId:e,...t},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?C.createElement("title",{id:e},n):null,C.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}const sk=C.forwardRef(ik);function ok(){const n=Fc(),{currentUser:e}=Jo(),[t,i]=C.useState([]),[o,l]=C.useState(!1);return C.useEffect(()=>{if(!e)return;const c=pl(Mo(Sn,"startups"),Uo("founderId","==",e.uid)),h=ml(c,p=>{const y=p.docs.map(v=>({id:v.id,...v.data()}));i(y)});return()=>h()},[e]),S.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-violet-900 py-12 px-4",children:[S.jsxs("div",{className:"fixed top-4 right-4 z-50",children:[S.jsxs("button",{onClick:()=>l(!o),className:"relative group p-2 hover:bg-gray-800 rounded-full transition-colors",children:[S.jsx(sk,{className:"w-8 h-8 text-violet-400"}),t.length>0&&S.jsx("span",{className:"absolute -top-1 -right-1 bg-violet-600 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",children:t.length})]}),o&&S.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-gray-800 rounded-xl shadow-lg p-4",children:[S.jsx("h3",{className:"text-lg font-semibold mb-2 text-violet-400",children:"Your Startups"}),t.length===0?S.jsx("p",{className:"text-sm text-gray-400",children:"No registered startups yet"}):S.jsx("div",{className:"space-y-2",children:t.map(c=>{var h;return S.jsxs("div",{className:"p-2 bg-gray-700 rounded-lg hover:bg-gray-600 cursor-pointer",onClick:()=>n("/founder-dashboard"),children:[S.jsx("p",{className:"font-medium text-sm text-white",children:c.startupName}),S.jsx("p",{className:"text-xs text-gray-400 truncate",children:c.description}),S.jsxs("div",{className:"flex items-center justify-between mt-1",children:[S.jsxs("span",{className:"text-xs text-violet-400",children:[c.teamSize," members"]}),S.jsx("span",{className:"text-xs text-gray-400",children:new Date((h=c.createdAt)==null?void 0:h.toDate()).toLocaleDateString()})]})]},c.id)})})]})]}),S.jsxs("div",{className:"max-w-4xl mx-auto",children:[S.jsxs("div",{className:"text-center mb-12",children:[S.jsx("h1",{className:"text-4xl font-bold text-violet-400 mb-4",children:"Join the Innovation Ecosystem"}),S.jsx("p",{className:"text-lg text-gray-300",children:"Select your path to begin your startup journey"})]}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[S.jsx("div",{onClick:()=>n("/founder-form"),className:"group bg-gray-800 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer transform hover:-translate-y-2",children:S.jsxs("div",{className:"p-8",children:[S.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[S.jsx("div",{className:"p-4 bg-violet-500 rounded-lg",children:S.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),S.jsx("h3",{className:"text-2xl font-bold text-white",children:"Founder"})]}),S.jsx("p",{className:"text-gray-300 mb-6",children:"Launch your vision and build your dream team. Explore opportunities to innovate together."}),S.jsxs("ul",{className:"space-y-3 text-sm text-gray-400",children:[S.jsxs("li",{className:"flex items-center gap-2",children:[S.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:S.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),S.jsx("span",{children:"Startup profile builder"})]}),S.jsxs("li",{className:"flex items-center gap-2",children:[S.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:S.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),S.jsx("span",{children:"Collaboration tools for team-building"})]}),S.jsxs("li",{className:"flex items-center gap-2",children:[S.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:S.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),S.jsx("span",{children:"Project management tools for startup team"})]})]}),S.jsx("div",{className:"mt-8",children:S.jsxs("button",{className:"w-full bg-violet-600 text-white py-3 rounded-lg hover:bg-violet-700 transition-colors flex items-center justify-center gap-2 group-hover:bg-violet-700",children:["Launch Startup",S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})}),S.jsx("div",{onClick:()=>n("/job-seeker-dashboard"),className:"group bg-gray-800 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer transform hover:-translate-y-2",children:S.jsxs("div",{className:"p-8",children:[S.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[S.jsx("div",{className:"p-4 bg-purple-500 rounded-lg",children:S.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),S.jsx("h3",{className:"text-2xl font-bold text-white",children:"Talent"})]}),S.jsx("p",{className:"text-gray-300 mb-6",children:"Join innovative teams and grow with early-stage startups. Find projects matching your skills and ambitions."}),S.jsxs("ul",{className:"space-y-3 text-sm text-gray-400",children:[S.jsxs("li",{className:"flex items-center gap-2",children:[S.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:S.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),S.jsx("span",{children:"Smart matching system"})]}),S.jsxs("li",{className:"flex items-center gap-2",children:[S.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:S.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),S.jsx("span",{children:"Real-time collaboration dashboard"})]}),S.jsxs("li",{className:"flex items-center gap-2",children:[S.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:S.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),S.jsx("span",{children:"Skill development tracker"})]})]}),S.jsx("div",{className:"mt-8",children:S.jsxs("button",{className:"w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center gap-2 group-hover:bg-purple-700",children:["Find Startups",S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})]})})]})]})]})}function ak(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}ak(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Op=n=>typeof n=="number"&&!isNaN(n),gl=n=>typeof n=="string",mw=n=>typeof n=="function",lk=n=>gl(n)||Op(n),uk=n=>C.isValidElement(n)||gl(n)||mw(n)||Op(n),ck=1,gw=()=>`${ck++}`,ir=new Map,Lf=[],A_=new Set,yw=()=>ir.size>0,dk=(n,{containerId:e})=>{var t;return(t=ir.get(e||1))==null?void 0:t.toasts.get(n)};function hk(n,e){var t;if(e)return!!((t=ir.get(e))!=null&&t.isToastActive(n));let i=!1;return ir.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function fk(n){if(!yw()){Lf=Lf.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||lk(n))ir.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=ir.get(n.containerId);e?e.removeToast(n.id):ir.forEach(t=>{t.removeToast(n.id)})}}var pk=(n={})=>{ir.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function mk(n,e){uk(n)&&(yw()||Lf.push({content:n,options:e}),ir.forEach(t=>{t.buildToast(n,e)}))}function _w(n,e){ir.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function gk(n){return A_.add(n),()=>{A_.delete(n)}}function yk(n){return n&&(gl(n.toastId)||Op(n.toastId))?n.toastId:gw()}function Dl(n,e){return mk(n,e),e.toastId}function ld(n,e){return{...e,type:e&&e.type||n,toastId:yk(e)}}function ud(n){return(e,t)=>Dl(e,ld(n,t))}function De(n,e){return Dl(n,ld("default",e))}De.loading=(n,e)=>Dl(n,ld("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function _k(n,{pending:e,error:t,success:i},o){let l;e&&(l=gl(e)?De.loading(e,o):De.loading(e.render,{...o,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(y,v,E)=>{if(v==null){De.dismiss(l);return}let T={type:y,...c,...o,data:E},b=gl(v)?{render:v}:v;return l?De.update(l,{...T,...b}):De(b.render,{...T,...b}),E},p=mw(n)?n():n;return p.then(y=>h("success",i,y)).catch(y=>h("error",t,y)),p}De.promise=_k;De.success=ud("success");De.info=ud("info");De.error=ud("error");De.warning=ud("warning");De.warn=De.warning;De.dark=(n,e)=>Dl(n,ld("default",{theme:"dark",...e}));function vk(n){fk(n)}De.dismiss=vk;De.clearWaitingQueue=pk;De.isActive=hk;De.update=(n,e={})=>{let t=dk(n,e);if(t){let{props:i,content:o}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:gw()};l.toastId!==n&&(l.staleId=n);let c=l.render||o;delete l.render,Dl(c,l)}};De.done=n=>{De.update(n,{progress:1})};De.onChange=gk;De.play=n=>_w(!0,n);De.pause=n=>_w(!1,n);function vw({connections:n,stage:e,teamSize:t}){const i={ideation:"🚀 Ideation",mvp:"🛠️ MVP Development",scaling:"📈 Scaling"};return S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[S.jsxs("div",{className:"dashboard-card",children:[S.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Connection Requests"}),S.jsx("p",{className:"text-3xl font-bold mt-2 text-blue-600",children:n})]}),S.jsxs("div",{className:"dashboard-card",children:[S.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Current Stage"}),S.jsx("p",{className:"text-xl font-semibold mt-2 text-green-600",children:i[e]||"Not specified"})]}),S.jsxs("div",{className:"dashboard-card",children:[S.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Team Members"}),S.jsx("p",{className:"text-xl font-semibold mt-2 text-purple-600",children:t||"0"})]})]})}function wk(){const{currentUser:n}=Jo(),e=Fc(),[t,i]=C.useState({startupName:"",description:"",industry:"",stage:"ideation",website:"",requiredSkills:[],teamSize:1,businessModel:"",marketOpportunity:"",contactEmail:(n==null?void 0:n.email)||""}),[o,l]=C.useState(1),[c,h]=C.useState(!1),[p,y]=C.useState(""),v=()=>{p.trim()&&t.requiredSkills.length<10&&(i(D=>({...D,requiredSkills:[...D.requiredSkills,p.trim()]})),y(""))},E=D=>{i(j=>({...j,requiredSkills:j.requiredSkills.filter((M,z)=>z!==D)}))},T=()=>{switch(o){case 1:return!t.startupName.trim()||!t.description.trim()?(De.error("Please fill all required fields"),!1):!0;case 2:return t.requiredSkills.length===0?(De.error("Please add at least one required skill"),!1):!0;case 3:return t.industry?!0:(De.error("Please select an industry"),!1);default:return!0}},b=async D=>{if(D.preventDefault(),!!T()){if(o<3){l(j=>j+1);return}h(!0);try{await ZC(Mo(Sn,"startups"),{...t,founderId:n.uid,createdAt:new Date,applications:[],status:"active",teamMembers:[],views:0,matches:0}),De.success("Startup listing created successfully!"),e("/founder-dashboard")}catch(j){console.error("Error creating startup:",j),De.error("Failed to create startup listing")}finally{h(!1)}}};return S.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:S.jsx("div",{className:"max-w-3xl mx-auto",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[S.jsxs("div",{className:"mb-8",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Startup Listing"}),S.jsx(vw,{teamSize:t.teamSize,skillsCount:t.requiredSkills.length})]}),S.jsx("div",{className:"mt-4 flex gap-2",children:[1,2,3].map(D=>S.jsx("div",{className:`h-2 w-8 rounded-full ${o>=D?"bg-blue-600":"bg-gray-200"}`},D))})]}),S.jsxs("form",{onSubmit:b,className:"space-y-8",children:[o===1&&S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Startup Name *"}),S.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:t.startupName,onChange:D=>i(j=>({...j,startupName:D.target.value}))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Elevator Pitch (Max 200 characters) *"}),S.jsx("textarea",{required:!0,maxLength:200,className:"w-full px-4 py-3 border border-gray-300 rounded-lg min-h-[120px]",value:t.description,onChange:D=>i(j=>({...j,description:D.target.value}))})]})]}),o===2&&S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required Skills (Max 10)"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg",placeholder:"Add a skill",value:p,onChange:D=>y(D.target.value)}),S.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200",children:"Add"})]}),S.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:t.requiredSkills.map((D,j)=>S.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-sm flex items-center gap-2",children:[D,S.jsx("button",{type:"button",onClick:()=>E(j),className:"text-gray-400 hover:text-gray-600",children:"×"})]},j))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team Size *"}),S.jsx("input",{type:"number",min:"1",max:"50",className:"w-full px-4 py-3 border border-gray-300 rounded-lg",value:t.teamSize,onChange:D=>i(j=>({...j,teamSize:D.target.value}))})]})]}),o===3&&S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry *"}),S.jsxs("select",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg",value:t.industry,onChange:D=>i(j=>({...j,industry:D.target.value})),children:[S.jsx("option",{value:"",children:"Select Industry"}),S.jsx("option",{value:"fintech",children:"Fintech"}),S.jsx("option",{value:"healthtech",children:"Healthtech"}),S.jsx("option",{value:"edtech",children:"Edtech"}),S.jsx("option",{value:"saas",children:"SaaS"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Model"}),S.jsx("textarea",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg min-h-[100px]",placeholder:"Describe your revenue model",value:t.businessModel,onChange:D=>i(j=>({...j,businessModel:D.target.value}))})]})]}),S.jsxs("div",{className:"flex justify-between",children:[o>1&&S.jsx("button",{type:"button",onClick:()=>l(D=>D-1),className:"px-6 py-2 text-gray-600 hover:text-gray-800",children:"Back"}),S.jsx("button",{type:"submit",disabled:c,className:"ml-auto px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:o===3?c?"Submitting...":"Create Listing":"Next Step"})]})]})]})})})}function Ek({connection:n,onResponse:e}){const[t,i]=C.useState(null);return C.useEffect(()=>{(async()=>{const l=Es(Sn,"users",n.jobSeekerId),c=await lw(l);c.exists()&&i(c.data())})()},[n.jobSeekerId]),S.jsx("div",{className:"bg-white rounded-lg p-4 shadow-md mb-4",children:t&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("h4",{className:"font-semibold",children:t.displayName||"Anonymous User"}),S.jsx("p",{className:"text-sm text-gray-500",children:t.email})]}),S.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${n.status==="pending"?"bg-yellow-100 text-yellow-800":n.status==="accepted"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.status})]}),S.jsxs("p",{className:"text-gray-600 mb-4",children:['"',n.description,'"']}),n.status==="pending"&&S.jsxs("div",{className:"flex gap-4 justify-end",children:[S.jsx("button",{onClick:()=>e(n.id,!0),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Accept"}),S.jsx("button",{onClick:()=>e(n.id,!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Reject"})]})]})})}var Tk=Object.defineProperty,Ik=(n,e,t)=>e in n?Tk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rf=(n,e,t)=>(Ik(n,typeof e!="symbol"?e+"":e,t),t);let Sk=class{constructor(){rf(this,"current",this.detect()),rf(this,"handoffState","pending"),rf(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Mr=new Sk,Ts=(n,e)=>{Mr.isServer?C.useEffect(n,e):C.useLayoutEffect(n,e)};function zo(n){let e=C.useRef(n);return Ts(()=>{e.current=n},[n]),e}let ct=function(n){let e=zo(n);return et.useCallback((...t)=>e.current(...t),[e])};function xk(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function Rk(){let n=typeof document>"u";return"useSyncExternalStore"in Zg?(e=>e.useSyncExternalStore)(Zg)(()=>()=>{},()=>!1,()=>!n):!1}function ww(){let n=Rk(),[e,t]=C.useState(Mr.isHandoffComplete);return e&&Mr.isHandoffComplete===!1&&t(!1),C.useEffect(()=>{e!==!0&&t(!0)},[e]),C.useEffect(()=>Mr.handoff(),[]),n?!1:e}var C_;let Co=(C_=et.useId)!=null?C_:function(){let n=ww(),[e,t]=et.useState(n?()=>Mr.nextId():null);return Ts(()=>{e===null&&t(Mr.nextId())},[e]),e!=null?""+e:void 0};function lr(n,e,...t){if(n in e){let o=e[n];return typeof o=="function"?o(...t):o}let i=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,lr),i}function Vp(n){return Mr.isServer?null:n instanceof Node?n.ownerDocument:n!=null&&n.hasOwnProperty("current")&&n.current instanceof Node?n.current.ownerDocument:document}let Of=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var Dr=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n))(Dr||{}),Vc=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))(Vc||{}),Ak=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(Ak||{});function cd(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(Of)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var Mp=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(Mp||{});function Ew(n,e=0){var t;return n===((t=Vp(n))==null?void 0:t.body)?!1:lr(e,{0(){return n.matches(Of)},1(){let i=n;for(;i!==null;){if(i.matches(Of))return!0;i=i.parentElement}return!1}})}var Ck=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(Ck||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let kk=["textarea","input"].join(",");function Pk(n){var e,t;return(t=(e=n==null?void 0:n.matches)==null?void 0:e.call(n,kk))!=null?t:!1}function Nk(n,e=t=>t){return n.slice().sort((t,i)=>{let o=e(t),l=e(i);if(o===null||l===null)return 0;let c=o.compareDocumentPosition(l);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function gs(n,e,{sorted:t=!0,relativeTo:i=null,skipElements:o=[]}={}){let l=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,c=Array.isArray(n)?t?Nk(n):n:cd(n);o.length>0&&c.length>1&&(c=c.filter(b=>!o.includes(b))),i=i??l.activeElement;let h=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(i))-1;if(e&4)return Math.max(0,c.indexOf(i))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),y=e&32?{preventScroll:!0}:{},v=0,E=c.length,T;do{if(v>=E||v+E<=0)return 0;let b=p+v;if(e&16)b=(b+E)%E;else{if(b<0)return 3;if(b>=E)return 1}T=c[b],T==null||T.focus(y),v+=h}while(T!==l.activeElement);return e&6&&Pk(T)&&T.select(),2}function bk(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Dk(){return/Android/gi.test(window.navigator.userAgent)}function Lk(){return bk()||Dk()}function rc(n,e,t){let i=zo(e);C.useEffect(()=>{function o(l){i.current(l)}return document.addEventListener(n,o,t),()=>document.removeEventListener(n,o,t)},[n,t])}function Tw(n,e,t){let i=zo(e);C.useEffect(()=>{function o(l){i.current(l)}return window.addEventListener(n,o,t),()=>window.removeEventListener(n,o,t)},[n,t])}function Ok(n,e,t=!0){let i=C.useRef(!1);C.useEffect(()=>{requestAnimationFrame(()=>{i.current=t})},[t]);function o(c,h){if(!i.current||c.defaultPrevented)return;let p=h(c);if(p===null||!p.getRootNode().contains(p)||!p.isConnected)return;let y=function v(E){return typeof E=="function"?v(E()):Array.isArray(E)||E instanceof Set?E:[E]}(n);for(let v of y){if(v===null)continue;let E=v instanceof HTMLElement?v:v.current;if(E!=null&&E.contains(p)||c.composed&&c.composedPath().includes(E))return}return!Ew(p,Mp.Loose)&&p.tabIndex!==-1&&c.preventDefault(),e(c,p)}let l=C.useRef(null);rc("pointerdown",c=>{var h,p;i.current&&(l.current=((p=(h=c.composedPath)==null?void 0:h.call(c))==null?void 0:p[0])||c.target)},!0),rc("mousedown",c=>{var h,p;i.current&&(l.current=((p=(h=c.composedPath)==null?void 0:h.call(c))==null?void 0:p[0])||c.target)},!0),rc("click",c=>{Lk()||l.current&&(o(c,()=>l.current),l.current=null)},!0),rc("touchend",c=>o(c,()=>c.target instanceof HTMLElement?c.target:null),!0),Tw("blur",c=>o(c,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Zo(...n){return C.useMemo(()=>Vp(...n),[...n])}function k_(n){var e;if(n.type)return n.type;let t=(e=n.as)!=null?e:"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function Vk(n,e){let[t,i]=C.useState(()=>k_(n));return Ts(()=>{i(k_(n))},[n.type,n.as]),Ts(()=>{t||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&i("button")},[t,e]),t}let Iw=Symbol();function Sw(n,e=!0){return Object.assign(n,{[Iw]:e})}function Di(...n){let e=C.useRef(n);C.useEffect(()=>{e.current=n},[n]);let t=ct(i=>{for(let o of e.current)o!=null&&(typeof o=="function"?o(i):o.current=i)});return n.every(i=>i==null||(i==null?void 0:i[Iw]))?void 0:t}function P_(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var yl=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(yl||{}),Mk=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(Mk||{});function Vi({ourProps:n,theirProps:e,slot:t,defaultTag:i,features:o,visible:l=!0,name:c,mergeRefs:h}){h=h??jk;let p=xw(e,n);if(l)return ic(p,t,i,c,h);let y=o??0;if(y&2){let{static:v=!1,...E}=p;if(v)return ic(E,t,i,c,h)}if(y&1){let{unmount:v=!0,...E}=p;return lr(v?0:1,{0(){return null},1(){return ic({...E,hidden:!0,style:{display:"none"}},t,i,c,h)}})}return ic(p,t,i,c,h)}function ic(n,e={},t,i,o){let{as:l=t,children:c,refName:h="ref",...p}=sf(n,["unmount","static"]),y=n.ref!==void 0?{[h]:n.ref}:{},v=typeof c=="function"?c(e):c;"className"in p&&p.className&&typeof p.className=="function"&&(p.className=p.className(e));let E={};if(e){let T=!1,b=[];for(let[D,j]of Object.entries(e))typeof j=="boolean"&&(T=!0),j===!0&&b.push(D);T&&(E["data-headlessui-state"]=b.join(" "))}if(l===C.Fragment&&Object.keys(N_(p)).length>0){if(!C.isValidElement(v)||Array.isArray(v)&&v.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(p).map(j=>`  - ${j}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(j=>`  - ${j}`).join(`
`)].join(`
`));let T=v.props,b=typeof(T==null?void 0:T.className)=="function"?(...j)=>P_(T==null?void 0:T.className(...j),p.className):P_(T==null?void 0:T.className,p.className),D=b?{className:b}:{};return C.cloneElement(v,Object.assign({},xw(v.props,N_(sf(p,["ref"]))),E,y,{ref:o(v.ref,y.ref)},D))}return C.createElement(l,Object.assign({},sf(p,["ref"]),l!==C.Fragment&&y,l!==C.Fragment&&E),v)}function Fk(){let n=C.useRef([]),e=C.useCallback(t=>{for(let i of n.current)i!=null&&(typeof i=="function"?i(t):i.current=t)},[]);return(...t)=>{if(!t.every(i=>i==null))return n.current=t,e}}function jk(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function xw(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let o in i)o.startsWith("on")&&typeof i[o]=="function"?(t[o]!=null||(t[o]=[]),t[o].push(i[o])):e[o]=i[o];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(t).map(i=>[i,void 0])));for(let i in t)Object.assign(e,{[i](o,...l){let c=t[i];for(let h of c){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;h(o,...l)}}});return e}function Mi(n){var e;return Object.assign(C.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function N_(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function sf(n,e=[]){let t=Object.assign({},n);for(let i of e)i in t&&delete t[i];return t}let Uk="div";var Bo=(n=>(n[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n))(Bo||{});function zk(n,e){var t;let{features:i=1,...o}=n,l={ref:e,"aria-hidden":(i&2)===2?!0:(t=o["aria-hidden"])!=null?t:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Vi({ourProps:l,theirProps:o,slot:{},defaultTag:Uk,name:"Hidden"})}let _l=Mi(zk),Fp=C.createContext(null);Fp.displayName="OpenClosedContext";var Is=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(Is||{});function Rw(){return C.useContext(Fp)}function Bk({value:n,children:e}){return et.createElement(Fp.Provider,{value:n},e)}function Aw(n){let e=n.parentElement,t=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(t=e),e=e.parentElement;let i=(e==null?void 0:e.getAttribute("disabled"))==="";return i&&$k(t)?!1:i}function $k(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}var gi=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(gi||{});function qk(n,e,t,i){let o=zo(t);C.useEffect(()=>{n=n??window;function l(c){o.current(c)}return n.addEventListener(e,l,i),()=>n.removeEventListener(e,l,i)},[n,e,i])}function Hk(n){let e=ct(n),t=C.useRef(!1);C.useEffect(()=>(t.current=!1,()=>{t.current=!0,xk(()=>{t.current&&e()})}),[e])}var Lr=(n=>(n[n.Forwards=0]="Forwards",n[n.Backwards=1]="Backwards",n))(Lr||{});function Cw(){let n=C.useRef(0);return Tw("keydown",e=>{e.key==="Tab"&&(n.current=e.shiftKey?1:0)},!0),n}let Wk=C.createContext(!1);function Gk(){return C.useContext(Wk)}function Kk(n){let e=Gk(),t=C.useContext(kw),i=Zo(n),[o,l]=C.useState(()=>{if(!e&&t!==null||Mr.isServer)return null;let c=i==null?void 0:i.getElementById("headlessui-portal-root");if(c)return c;if(i===null)return null;let h=i.createElement("div");return h.setAttribute("id","headlessui-portal-root"),i.body.appendChild(h)});return C.useEffect(()=>{o!==null&&(i!=null&&i.body.contains(o)||i==null||i.body.appendChild(o))},[o,i]),C.useEffect(()=>{e||t!==null&&l(t.current)},[t,l,e]),o}let Qk=C.Fragment;function Xk(n,e){let t=n,i=C.useRef(null),o=Di(Sw(v=>{i.current=v}),e),l=Zo(i),c=Kk(i),[h]=C.useState(()=>{var v;return Mr.isServer?null:(v=l==null?void 0:l.createElement("div"))!=null?v:null}),p=C.useContext(Vf),y=ww();return Ts(()=>{!c||!h||c.contains(h)||(h.setAttribute("data-headlessui-portal",""),c.appendChild(h))},[c,h]),Ts(()=>{if(h&&p)return p.register(h)},[p,h]),Hk(()=>{var v;!c||!h||(h instanceof Node&&c.contains(h)&&c.removeChild(h),c.childNodes.length<=0&&((v=c.parentElement)==null||v.removeChild(c)))}),y?!c||!h?null:hI.createPortal(Vi({ourProps:{ref:o},theirProps:t,defaultTag:Qk,name:"Portal"}),h):null}let Yk=C.Fragment,kw=C.createContext(null);function Jk(n,e){let{target:t,...i}=n,o={ref:Di(e)};return et.createElement(kw.Provider,{value:t},Vi({ourProps:o,theirProps:i,defaultTag:Yk,name:"Popover.Group"}))}let Vf=C.createContext(null);function Zk(){let n=C.useContext(Vf),e=C.useRef([]),t=ct(l=>(e.current.push(l),n&&n.register(l),()=>i(l))),i=ct(l=>{let c=e.current.indexOf(l);c!==-1&&e.current.splice(c,1),n&&n.unregister(l)}),o=C.useMemo(()=>({register:t,unregister:i,portals:e}),[t,i,e]);return[e,C.useMemo(()=>function({children:l}){return et.createElement(Vf.Provider,{value:o},l)},[o])]}let eP=Mi(Xk),tP=Mi(Jk);Object.assign(eP,{Group:tP});function nP({defaultContainers:n=[],portals:e,mainTreeNodeRef:t}={}){var i;let o=C.useRef((i=t==null?void 0:t.current)!=null?i:null),l=Zo(o),c=ct(()=>{var h,p,y;let v=[];for(let E of n)E!==null&&(E instanceof HTMLElement?v.push(E):"current"in E&&E.current instanceof HTMLElement&&v.push(E.current));if(e!=null&&e.current)for(let E of e.current)v.push(E);for(let E of(h=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?h:[])E!==document.body&&E!==document.head&&E instanceof HTMLElement&&E.id!=="headlessui-portal-root"&&(E.contains(o.current)||E.contains((y=(p=o.current)==null?void 0:p.getRootNode())==null?void 0:y.host)||v.some(T=>E.contains(T))||v.push(E));return v});return{resolveContainers:c,contains:ct(h=>c().some(p=>p.contains(h))),mainTreeNodeRef:o,MainTreeNode:C.useMemo(()=>function(){return t!=null?null:et.createElement(_l,{features:Bo.Hidden,ref:o})},[o,t])}}function rP(){let n=C.useRef(null);return{mainTreeNodeRef:n,MainTreeNode:C.useMemo(()=>function(){return et.createElement(_l,{features:Bo.Hidden,ref:n})},[n])}}var iP=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(iP||{}),sP=(n=>(n[n.TogglePopover=0]="TogglePopover",n[n.ClosePopover=1]="ClosePopover",n[n.SetButton=2]="SetButton",n[n.SetButtonId=3]="SetButtonId",n[n.SetPanel=4]="SetPanel",n[n.SetPanelId=5]="SetPanelId",n))(sP||{});let oP={0:n=>{let e={...n,popoverState:lr(n.popoverState,{0:1,1:0})};return e.popoverState===0&&(e.__demoMode=!1),e},1(n){return n.popoverState===1?n:{...n,popoverState:1}},2(n,e){return n.button===e.button?n:{...n,button:e.button}},3(n,e){return n.buttonId===e.buttonId?n:{...n,buttonId:e.buttonId}},4(n,e){return n.panel===e.panel?n:{...n,panel:e.panel}},5(n,e){return n.panelId===e.panelId?n:{...n,panelId:e.panelId}}},jp=C.createContext(null);jp.displayName="PopoverContext";function dd(n){let e=C.useContext(jp);if(e===null){let t=new Error(`<${n} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,dd),t}return e}let Up=C.createContext(null);Up.displayName="PopoverAPIContext";function zp(n){let e=C.useContext(Up);if(e===null){let t=new Error(`<${n} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,zp),t}return e}let Bp=C.createContext(null);Bp.displayName="PopoverGroupContext";function Pw(){return C.useContext(Bp)}let hd=C.createContext(null);hd.displayName="PopoverPanelContext";function aP(){return C.useContext(hd)}function lP(n,e){return lr(e.type,oP,n,e)}let uP="div";function cP(n,e){var t;let{__demoMode:i=!1,...o}=n,l=C.useRef(null),c=Di(e,Sw(Te=>{l.current=Te})),h=C.useRef([]),p=C.useReducer(lP,{__demoMode:i,popoverState:i?0:1,buttons:h,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:C.createRef(),afterPanelSentinel:C.createRef()}),[{popoverState:y,button:v,buttonId:E,panel:T,panelId:b,beforePanelSentinel:D,afterPanelSentinel:j},M]=p,z=Zo((t=l.current)!=null?t:v),G=C.useMemo(()=>{if(!v||!T)return!1;for(let K of document.querySelectorAll("body > *"))if(Number(K==null?void 0:K.contains(v))^Number(K==null?void 0:K.contains(T)))return!0;let Te=cd(),Re=Te.indexOf(v),ne=(Re+Te.length-1)%Te.length,pe=(Re+1)%Te.length,se=Te[ne],U=Te[pe];return!T.contains(se)&&!T.contains(U)},[v,T]),ee=zo(E),ie=zo(b),me=C.useMemo(()=>({buttonId:ee,panelId:ie,close:()=>M({type:1})}),[ee,ie,M]),ue=Pw(),L=ue==null?void 0:ue.registerPopover,x=ct(()=>{var Te;return(Te=ue==null?void 0:ue.isFocusWithinPopoverGroup())!=null?Te:(z==null?void 0:z.activeElement)&&((v==null?void 0:v.contains(z.activeElement))||(T==null?void 0:T.contains(z.activeElement)))});C.useEffect(()=>L==null?void 0:L(me),[L,me]);let[R,P]=Zk(),N=nP({mainTreeNodeRef:ue==null?void 0:ue.mainTreeNodeRef,portals:R,defaultContainers:[v,T]});qk(z==null?void 0:z.defaultView,"focus",Te=>{var Re,ne,pe,se;Te.target!==window&&Te.target instanceof HTMLElement&&y===0&&(x()||v&&T&&(N.contains(Te.target)||(ne=(Re=D.current)==null?void 0:Re.contains)!=null&&ne.call(Re,Te.target)||(se=(pe=j.current)==null?void 0:pe.contains)!=null&&se.call(pe,Te.target)||M({type:1})))},!0),Ok(N.resolveContainers,(Te,Re)=>{M({type:1}),Ew(Re,Mp.Loose)||(Te.preventDefault(),v==null||v.focus())},y===0);let F=ct(Te=>{M({type:1});let Re=Te?Te instanceof HTMLElement?Te:"current"in Te&&Te.current instanceof HTMLElement?Te.current:v:v;Re==null||Re.focus()}),k=C.useMemo(()=>({close:F,isPortalled:G}),[F,G]),Pe=C.useMemo(()=>({open:y===0,close:F}),[y,F]),st={ref:c};return et.createElement(hd.Provider,{value:null},et.createElement(jp.Provider,{value:p},et.createElement(Up.Provider,{value:k},et.createElement(Bk,{value:lr(y,{0:Is.Open,1:Is.Closed})},et.createElement(P,null,Vi({ourProps:st,theirProps:o,slot:Pe,defaultTag:uP,name:"Popover"}),et.createElement(N.MainTreeNode,null))))))}let dP="button";function hP(n,e){let t=Co(),{id:i=`headlessui-popover-button-${t}`,...o}=n,[l,c]=dd("Popover.Button"),{isPortalled:h}=zp("Popover.Button"),p=C.useRef(null),y=`headlessui-focus-sentinel-${Co()}`,v=Pw(),E=v==null?void 0:v.closeOthers,T=aP()!==null;C.useEffect(()=>{if(!T)return c({type:3,buttonId:i}),()=>{c({type:3,buttonId:null})}},[T,i,c]);let[b]=C.useState(()=>Symbol()),D=Di(p,e,T?null:N=>{if(N)l.buttons.current.push(b);else{let F=l.buttons.current.indexOf(b);F!==-1&&l.buttons.current.splice(F,1)}l.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),N&&c({type:2,button:N})}),j=Di(p,e),M=Zo(p),z=ct(N=>{var F,k,Pe;if(T){if(l.popoverState===1)return;switch(N.key){case gi.Space:case gi.Enter:N.preventDefault(),(k=(F=N.target).click)==null||k.call(F),c({type:1}),(Pe=l.button)==null||Pe.focus();break}}else switch(N.key){case gi.Space:case gi.Enter:N.preventDefault(),N.stopPropagation(),l.popoverState===1&&(E==null||E(l.buttonId)),c({type:0});break;case gi.Escape:if(l.popoverState!==0)return E==null?void 0:E(l.buttonId);if(!p.current||M!=null&&M.activeElement&&!p.current.contains(M.activeElement))return;N.preventDefault(),N.stopPropagation(),c({type:1});break}}),G=ct(N=>{T||N.key===gi.Space&&N.preventDefault()}),ee=ct(N=>{var F,k;Aw(N.currentTarget)||n.disabled||(T?(c({type:1}),(F=l.button)==null||F.focus()):(N.preventDefault(),N.stopPropagation(),l.popoverState===1&&(E==null||E(l.buttonId)),c({type:0}),(k=l.button)==null||k.focus()))}),ie=ct(N=>{N.preventDefault(),N.stopPropagation()}),me=l.popoverState===0,ue=C.useMemo(()=>({open:me}),[me]),L=Vk(n,p),x=T?{ref:j,type:L,onKeyDown:z,onClick:ee}:{ref:D,id:l.buttonId,type:L,"aria-expanded":l.popoverState===0,"aria-controls":l.panel?l.panelId:void 0,onKeyDown:z,onKeyUp:G,onClick:ee,onMouseDown:ie},R=Cw(),P=ct(()=>{let N=l.panel;if(!N)return;function F(){lr(R.current,{[Lr.Forwards]:()=>gs(N,Dr.First),[Lr.Backwards]:()=>gs(N,Dr.Last)})===Vc.Error&&gs(cd().filter(k=>k.dataset.headlessuiFocusGuard!=="true"),lr(R.current,{[Lr.Forwards]:Dr.Next,[Lr.Backwards]:Dr.Previous}),{relativeTo:l.button})}F()});return et.createElement(et.Fragment,null,Vi({ourProps:x,theirProps:o,slot:ue,defaultTag:dP,name:"Popover.Button"}),me&&!T&&h&&et.createElement(_l,{id:y,features:Bo.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:P}))}let fP="div",pP=yl.RenderStrategy|yl.Static;function mP(n,e){let t=Co(),{id:i=`headlessui-popover-overlay-${t}`,...o}=n,[{popoverState:l},c]=dd("Popover.Overlay"),h=Di(e),p=Rw(),y=p!==null?(p&Is.Open)===Is.Open:l===0,v=ct(T=>{if(Aw(T.currentTarget))return T.preventDefault();c({type:1})}),E=C.useMemo(()=>({open:l===0}),[l]);return Vi({ourProps:{ref:h,id:i,"aria-hidden":!0,onClick:v},theirProps:o,slot:E,defaultTag:fP,features:pP,visible:y,name:"Popover.Overlay"})}let gP="div",yP=yl.RenderStrategy|yl.Static;function _P(n,e){let t=Co(),{id:i=`headlessui-popover-panel-${t}`,focus:o=!1,...l}=n,[c,h]=dd("Popover.Panel"),{close:p,isPortalled:y}=zp("Popover.Panel"),v=`headlessui-focus-sentinel-before-${Co()}`,E=`headlessui-focus-sentinel-after-${Co()}`,T=C.useRef(null),b=Di(T,e,x=>{h({type:4,panel:x})}),D=Zo(T),j=Fk();Ts(()=>(h({type:5,panelId:i}),()=>{h({type:5,panelId:null})}),[i,h]);let M=Rw(),z=M!==null?(M&Is.Open)===Is.Open:c.popoverState===0,G=ct(x=>{var R;switch(x.key){case gi.Escape:if(c.popoverState!==0||!T.current||D!=null&&D.activeElement&&!T.current.contains(D.activeElement))return;x.preventDefault(),x.stopPropagation(),h({type:1}),(R=c.button)==null||R.focus();break}});C.useEffect(()=>{var x;n.static||c.popoverState===1&&((x=n.unmount)==null||x)&&h({type:4,panel:null})},[c.popoverState,n.unmount,n.static,h]),C.useEffect(()=>{if(c.__demoMode||!o||c.popoverState!==0||!T.current)return;let x=D==null?void 0:D.activeElement;T.current.contains(x)||gs(T.current,Dr.First)},[c.__demoMode,o,T,c.popoverState]);let ee=C.useMemo(()=>({open:c.popoverState===0,close:p}),[c,p]),ie={ref:b,id:i,onKeyDown:G,onBlur:o&&c.popoverState===0?x=>{var R,P,N,F,k;let Pe=x.relatedTarget;Pe&&T.current&&((R=T.current)!=null&&R.contains(Pe)||(h({type:1}),((N=(P=c.beforePanelSentinel.current)==null?void 0:P.contains)!=null&&N.call(P,Pe)||(k=(F=c.afterPanelSentinel.current)==null?void 0:F.contains)!=null&&k.call(F,Pe))&&Pe.focus({preventScroll:!0})))}:void 0,tabIndex:-1},me=Cw(),ue=ct(()=>{let x=T.current;if(!x)return;function R(){lr(me.current,{[Lr.Forwards]:()=>{var P;gs(x,Dr.First)===Vc.Error&&((P=c.afterPanelSentinel.current)==null||P.focus())},[Lr.Backwards]:()=>{var P;(P=c.button)==null||P.focus({preventScroll:!0})}})}R()}),L=ct(()=>{let x=T.current;if(!x)return;function R(){lr(me.current,{[Lr.Forwards]:()=>{var P;if(!c.button)return;let N=cd(),F=N.indexOf(c.button),k=N.slice(0,F+1),Pe=[...N.slice(F+1),...k];for(let st of Pe.slice())if(st.dataset.headlessuiFocusGuard==="true"||(P=c.panel)!=null&&P.contains(st)){let Te=Pe.indexOf(st);Te!==-1&&Pe.splice(Te,1)}gs(Pe,Dr.First,{sorted:!1})},[Lr.Backwards]:()=>{var P;gs(x,Dr.Previous)===Vc.Error&&((P=c.button)==null||P.focus())}})}R()});return et.createElement(hd.Provider,{value:i},z&&y&&et.createElement(_l,{id:v,ref:c.beforePanelSentinel,features:Bo.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:ue}),Vi({mergeRefs:j,ourProps:ie,theirProps:l,slot:ee,defaultTag:gP,features:yP,visible:z,name:"Popover.Panel"}),z&&y&&et.createElement(_l,{id:E,ref:c.afterPanelSentinel,features:Bo.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:L}))}let vP="div";function wP(n,e){let t=C.useRef(null),i=Di(t,e),[o,l]=C.useState([]),c=rP(),h=ct(j=>{l(M=>{let z=M.indexOf(j);if(z!==-1){let G=M.slice();return G.splice(z,1),G}return M})}),p=ct(j=>(l(M=>[...M,j]),()=>h(j))),y=ct(()=>{var j;let M=Vp(t);if(!M)return!1;let z=M.activeElement;return(j=t.current)!=null&&j.contains(z)?!0:o.some(G=>{var ee,ie;return((ee=M.getElementById(G.buttonId.current))==null?void 0:ee.contains(z))||((ie=M.getElementById(G.panelId.current))==null?void 0:ie.contains(z))})}),v=ct(j=>{for(let M of o)M.buttonId.current!==j&&M.close()}),E=C.useMemo(()=>({registerPopover:p,unregisterPopover:h,isFocusWithinPopoverGroup:y,closeOthers:v,mainTreeNodeRef:c.mainTreeNodeRef}),[p,h,y,v,c.mainTreeNodeRef]),T=C.useMemo(()=>({}),[]),b=n,D={ref:i};return et.createElement(Bp.Provider,{value:E},Vi({ourProps:D,theirProps:b,slot:T,defaultTag:vP,name:"Popover.Group"}),et.createElement(c.MainTreeNode,null))}let EP=Mi(cP),TP=Mi(hP),IP=Mi(mP),SP=Mi(_P),xP=Mi(wP),of=Object.assign(EP,{Button:TP,Overlay:IP,Panel:SP,Group:xP});function RP(){const{currentUser:n}=Jo(),[e,t]=C.useState([]);return C.useEffect(()=>{if(!n)return;const o=pl(Mo(Sn,"notifications"),Uo("userId","==",n.uid),Uo("read","==",!1));return ml(o,c=>{const h=c.docs.map(p=>({id:p.id,...p.data()}));t(h)})},[n]),{notifications:e,markAsRead:async o=>{await ad(Es(Sn,"notifications",o),{read:!0})}}}function AP(){const{notifications:n,markAsRead:e}=RP();return S.jsxs(of,{className:"relative",children:[S.jsxs(of.Button,{className:"p-2 text-gray-600 hover:text-blue-600 relative",children:[S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),n.length>0&&S.jsx("span",{className:"absolute top-0 right-0 bg-red-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:n.length})]}),S.jsx(of.Panel,{className:"absolute right-0 w-72 bg-white shadow-lg rounded-lg mt-2 z-50",children:S.jsxs("div",{className:"p-4",children:[S.jsx("h3",{className:"font-semibold mb-2",children:"Notifications"}),n.length===0?S.jsx("p",{className:"text-gray-500 text-sm",children:"No new notifications"}):S.jsx("div",{className:"space-y-2",children:n.map(t=>{var i;return S.jsxs("div",{className:"p-2 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer",onClick:()=>e(t.id),children:[S.jsx("p",{className:"text-sm",children:t.message}),S.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date((i=t.timestamp)==null?void 0:i.toDate()).toLocaleString()})]},t.id)})})]})})]})}function CP({title:n,titleId:e,...t},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?C.createElement("title",{id:e},n):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const b_=C.forwardRef(CP);function kP({title:n,titleId:e,...t},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?C.createElement("title",{id:e},n):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"}))}const PP=C.forwardRef(kP);function NP({title:n,titleId:e,...t},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?C.createElement("title",{id:e},n):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const bP=C.forwardRef(NP);function DP({title:n,titleId:e,...t},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?C.createElement("title",{id:e},n):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const LP=C.forwardRef(DP);function Mf({icon:n,title:e,description:t,actionText:i,actionLink:o}){return S.jsxs("div",{className:"text-center p-8",children:[S.jsx("div",{className:"mx-auto h-16 w-16 text-gray-400",children:n}),S.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-900",children:e}),S.jsx("p",{className:"mt-2 text-gray-600",children:t}),i&&S.jsx("a",{href:o,className:"mt-6 inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:i})]})}function OP({member:n}){var e,t;return S.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 hover:shadow-md transition-shadow",children:S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center",children:S.jsx("span",{className:"text-gray-600",children:((t=(e=n.name)==null?void 0:e[0])==null?void 0:t.toUpperCase())||"U"})}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-semibold",children:n.name||"Unnamed Member"}),S.jsx("p",{className:"text-sm text-gray-600",children:n.role||"Team Member"})]})]})})}function VP(){const{currentUser:n}=Jo(),[e,t]=C.useState(null),[i,o]=C.useState([]),[l,c]=C.useState("requests"),[h,p]=C.useState(!0);C.useEffect(()=>{let E=()=>{};return n&&(async()=>{try{const b=pl(Mo(Sn,"startups"),Uo("founderId","==",n.uid)),D=ml(b,j=>{var M;if(!j.empty){const z=j.docs[0].data(),G=j.docs[0].id,ee={id:G,...z,teamSize:((M=z.team)==null?void 0:M.length)||0};t(ee);const ie=pl(Mo(Sn,"connections"),Uo("startupId","==",G));E=ml(ie,me=>{o(me.docs.map(ue=>({id:ue.id,...ue.data(),userRef:ue.data().userId})))})}p(!1)});return()=>{D(),E()}}catch(b){console.error("Error loading startup:",b),De.error("Failed to load startup data"),p(!1)}})(),()=>{E()}},[n]);const y=async(E,T)=>{try{await ad(Es(Sn,"connections",E),{status:T?"accepted":"rejected",respondedAt:new Date}),De.success(`Request ${T?"accepted":"rejected"} successfully`)}catch(b){console.error("Error updating connection:",b),De.error("Failed to update request")}},v=()=>{var E;switch(l){case"team":return S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(E=e.team)==null?void 0:E.map(T=>S.jsx(OP,{member:T},T.userId)),S.jsx("button",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 hover:border-gray-400 transition-colors",children:S.jsx("span",{className:"text-gray-600",children:"Add Team Member"})})]});case"analytics":return S.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[S.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Engagement Metrics"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[S.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Total Views"}),S.jsx("p",{className:"text-3xl font-bold mt-2",children:"1,234"})]}),S.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[S.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Connection Rate"}),S.jsx("p",{className:"text-3xl font-bold mt-2",children:"23%"})]})]})]});default:return S.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsxs("h2",{className:"text-xl font-semibold",children:["Connection Requests (",i.filter(T=>T.status==="pending").length,")"]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{className:"text-sm text-gray-600 px-3 py-1 rounded-lg bg-gray-100",children:"Sort by Date"}),S.jsx("button",{className:"text-sm text-gray-600 px-3 py-1 rounded-lg bg-gray-100",children:"Filter by Role"})]})]}),i.filter(T=>T.status==="pending").length===0?S.jsx(Mf,{icon:S.jsx(bP,{className:"w-12 h-12 text-gray-400 mx-auto"}),title:"No pending requests",description:"Share your listing to attract more talent"}):S.jsx("div",{className:"space-y-4",children:i.filter(T=>T.status==="pending").map(T=>S.jsx(Ek,{connection:T,onResponse:y},T.id))})]})}};return h?S.jsx("div",{className:"min-h-screen flex items-center justify-center",children:S.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})}):e?S.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:S.jsx("div",{className:"max-w-7xl mx-auto",children:S.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[S.jsxs("div",{className:"w-full md:w-64 space-y-2",children:[S.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm mb-6",children:[S.jsx("h1",{className:"text-xl font-bold truncate",children:e.name}),S.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",children:e.industry})]}),S.jsxs("nav",{className:"space-y-1",children:[S.jsxs("button",{onClick:()=>c("requests"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg ${l==="requests"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:[S.jsx(b_,{className:"w-5 h-5"}),S.jsx("span",{children:"Requests"}),i.filter(E=>E.status==="pending").length>0&&S.jsx("span",{className:"ml-auto bg-blue-600 text-white text-xs px-2 py-1 rounded-full",children:i.filter(E=>E.status==="pending").length})]}),S.jsxs("button",{onClick:()=>c("team"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg ${l==="team"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:[S.jsx(LP,{className:"w-5 h-5"}),S.jsx("span",{children:"Team"}),S.jsx("span",{className:"ml-auto text-sm text-gray-500",children:e.teamSize||0})]}),S.jsxs("button",{onClick:()=>c("analytics"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg ${l==="analytics"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:[S.jsx(PP,{className:"w-5 h-5"}),S.jsx("span",{children:"Analytics"})]})]})]}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex justify-between items-start mb-8",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-gray-900 capitalize",children:l}),S.jsxs("p",{className:"text-gray-600 mt-2",children:[l==="requests"&&"Manage incoming connection requests",l==="team"&&"View and manage your team members",l==="analytics"&&"Track your startup performance"]})]}),S.jsx(AP,{})]}),S.jsx(vw,{connections:i,stage:e.stage,teamSize:e.teamSize,funding:e.funding,industry:e.industry}),v()]})]})})}):S.jsx(Mf,{title:"No Startup Found",description:"Get started by creating your startup profile",actionText:"Create Startup Listing",actionLink:"/founder-form",icon:S.jsx(b_,{className:"w-12 h-12 text-gray-400 mx-auto"})})}function D_({startup:n,onConnect:e}){var t,i;return S.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow h-full flex flex-col",children:[S.jsx("h3",{className:"text-xl font-semibold mb-2",children:n.startupName}),S.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[S.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-600 text-sm rounded-full",children:n.industry||"Uncategorized"}),S.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-600 text-sm rounded-full",children:n.stage})]}),S.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3 flex-1",children:n.description}),S.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:(t=n.requiredSkills)==null?void 0:t.map((o,l)=>S.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-sm rounded-full",children:o},l))}),S.jsxs("div",{className:"mt-auto space-y-2",children:[S.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[S.jsxs("span",{children:["👥 Team: ",n.teamSize]}),S.jsxs("span",{children:["📅 ",((i=n.createdAt)==null?void 0:i.toDate().toLocaleDateString())||"N/A"]})]}),S.jsx("button",{onClick:e,className:"w-full py-2 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors mt-4",children:"Connect"})]})]})}function MP(){var M;const{currentUser:n}=Jo(),[e,t]=C.useState([]),[i,o]=C.useState(""),[l,c]=C.useState(null),[h,p]=C.useState(""),[y,v]=C.useState(!0),[E,T]=C.useState({industry:"",stage:""}),b=[{id:"sample-1",startupName:"Tech Innovators",description:"Revolutionizing the future of AI-driven healthcare solutions",industry:"Healthtech",stage:"ideation",requiredSkills:["React","Node.js","AI/ML"],teamSize:4,createdAt:new Date},{id:"sample-2",startupName:"EcoSolutions",description:"Sustainable technology for urban environments",industry:"Sustainability",stage:"mvp",requiredSkills:["Python","IoT","Data Analysis"],teamSize:6,createdAt:new Date}];C.useEffect(()=>{(async()=>{try{const G=pl(Mo(Sn,"startups"),Uo("status","==","active"));return ml(G,ie=>{const me=ie.docs.map(ue=>({id:ue.id,...ue.data()}));t(me.length>0?me:b),v(!1)})}catch(G){console.error("Error fetching startups:",G),De.error("Failed to load startups"),t(b),v(!1)}})()},[]);const D=async()=>{if(!h.trim()){De.error("Please explain your qualifications");return}try{const z=Es(Sn,"startups",l.id);await ad(z,{applications:[...l.applications||[],{userId:n==null?void 0:n.uid,userEmail:n==null?void 0:n.email,applicationText:h,status:"pending",appliedAt:new Date}]}),c(null),p(""),De.success("Application submitted successfully!")}catch(z){console.error("Error submitting application:",z),De.error("Failed to submit application")}},j=e.filter(z=>{var ue,L,x;const G=i.toLowerCase(),ee=((ue=z.startupName)==null?void 0:ue.toLowerCase().includes(G))||((L=z.description)==null?void 0:L.toLowerCase().includes(G))||((x=z.industry)==null?void 0:x.toLowerCase().includes(G)),ie=E.industry?z.industry===E.industry:!0,me=E.stage?z.stage===E.stage:!0;return ee&&ie&&me});return S.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[S.jsxs("div",{className:"mb-8 space-y-4",children:[S.jsx("input",{type:"text",placeholder:"Search startups by name, description, or industry...",className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:i,onChange:z=>o(z.target.value)}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[S.jsxs("select",{className:"p-2 border rounded-lg",value:E.industry,onChange:z=>T({...E,industry:z.target.value}),children:[S.jsx("option",{value:"",children:"All Industries"}),S.jsx("option",{value:"fintech",children:"Fintech"}),S.jsx("option",{value:"healthtech",children:"Healthtech"}),S.jsx("option",{value:"edtech",children:"Edtech"}),S.jsx("option",{value:"saas",children:"SaaS"})]}),S.jsxs("select",{className:"p-2 border rounded-lg",value:E.stage,onChange:z=>T({...E,stage:z.target.value}),children:[S.jsx("option",{value:"",children:"All Stages"}),S.jsx("option",{value:"ideation",children:"Ideation"}),S.jsx("option",{value:"mvp",children:"MVP Development"}),S.jsx("option",{value:"scaling",children:"Scaling"})]})]})]}),y?S.jsx("div",{className:"text-center py-12",children:"Loading startups..."}):S.jsx(S.Fragment,{children:j.length===0?S.jsx(Mf,{message:"No startups found matching your criteria",subMessage:"Here are some example listings:",action:S.jsx("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(z=>S.jsx(D_,{startup:z,onConnect:()=>De.info("This is an example listing")},z.id))})}):S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(z=>S.jsx(D_,{startup:z,onConnect:()=>c(z)},z.id))})}),l&&S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[S.jsxs("h3",{className:"text-2xl font-bold mb-4",children:["Apply to ",l.startupName]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("p",{className:"font-medium",children:"Required Skills:"}),S.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(M=l.requiredSkills)==null?void 0:M.map((z,G)=>S.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-600 rounded-full text-sm",children:z},G))})]}),S.jsx("textarea",{className:"w-full p-3 border rounded-lg mb-4 h-32 focus:ring-2 focus:ring-blue-500",placeholder:"Explain why you're a good fit for this startup...",value:h,onChange:z=>p(z.target.value)}),S.jsxs("div",{className:"flex justify-end gap-3",children:[S.jsx("button",{onClick:()=>c(null),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),S.jsx("button",{onClick:D,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Submit Application"})]})]})})]})}function FP(){const{currentUser:n}=Jo(),[e,t]=C.useState({bio:"",skills:"",experience:""});C.useEffect(()=>{n&&(async()=>{const l=Es(Sn,"users",n.uid),c=await lw(l);c.exists()&&t(c.data())})()},[n]);const i=async o=>{o.preventDefault();try{await ad(Es(Sn,"users",n.uid),e),alert("Profile updated successfully!")}catch(l){console.error("Error updating profile:",l)}};return S.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[S.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Your Profile"}),S.jsxs("form",{onSubmit:i,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bio"}),S.jsx("textarea",{value:e.bio,onChange:o=>t({...e,bio:o.target.value}),className:"input-field h-32",placeholder:"Tell us about yourself..."})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium mb-1",children:"Skills"}),S.jsx("input",{type:"text",value:e.skills,onChange:o=>t({...e,skills:o.target.value}),className:"input-field",placeholder:"Separate skills with commas (e.g., React, Node.js)"})]}),S.jsx("button",{type:"submit",className:"btn-primary bg-blue-600 hover:bg-blue-700",children:"Update Profile"})]})]})}function jP(){return S.jsx(nI,{children:S.jsxs(bT,{children:[S.jsx(hs,{path:"/",element:S.jsx(rk,{})}),S.jsx(hs,{path:"/choose-role",element:S.jsx(ok,{})}),S.jsx(hs,{path:"/founder-form",element:S.jsx(wk,{})}),S.jsx(hs,{path:"/founder-dashboard",element:S.jsx(VP,{})}),S.jsx(hs,{path:"/job-seeker-dashboard",element:S.jsx(MP,{})}),S.jsx(hs,{path:"/profile",element:S.jsx(FP,{})})]})})}BE.createRoot(document.getElementById("root")).render(S.jsx(et.StrictMode,{children:S.jsx(nk,{children:S.jsx(jP,{})})}));
